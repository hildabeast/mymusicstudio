(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function z0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var _u={exports:{}},ba={},Nu={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri=Symbol.for("react.element"),U0=Symbol.for("react.portal"),H0=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),q0=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),Y0=Symbol.for("react.forward_ref"),Q0=Symbol.for("react.suspense"),J0=Symbol.for("react.memo"),X0=Symbol.for("react.lazy"),Wc=Symbol.iterator;function Z0(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var Su={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cu=Object.assign,Lu={};function Yn(e,t,r){this.props=e,this.context=t,this.refs=Lu,this.updater=r||Su}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Eu(){}Eu.prototype=Yn.prototype;function Il(e,t,r){this.props=e,this.context=t,this.refs=Lu,this.updater=r||Su}var Rl=Il.prototype=new Eu;Rl.constructor=Il;Cu(Rl,Yn.prototype);Rl.isPureReactComponent=!0;var zc=Array.isArray,Tu=Object.prototype.hasOwnProperty,Bl={current:null},Pu={key:!0,ref:!0,__self:!0,__source:!0};function Du(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Tu.call(t,n)&&!Pu.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:ri,type:e,key:a,ref:o,props:i,_owner:Bl.current}}function em(e,t){return{$$typeof:ri,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ri}function tm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Uc=/\/+/g;function Ya(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tm(""+e.key):t.toString(36)}function Oi(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ri:case U0:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Ya(o,0):n,zc(i)?(r="",e!=null&&(r=e.replace(Uc,"$&/")+"/"),Oi(i,t,r,"",function(d){return d})):i!=null&&(Wl(i)&&(i=em(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",zc(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Ya(a,l);o+=Oi(a,t,r,c,i)}else if(c=Z0(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Ya(a,l++),o+=Oi(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function hi(e,t,r){if(e==null)return e;var n=[],i=0;return Oi(e,n,"","",function(a){return t.call(r,a,i++)}),n}function rm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},Fi={transition:null},nm={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Fi,ReactCurrentOwner:Bl};function Mu(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:hi,forEach:function(e,t,r){hi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return hi(e,function(){t++}),t},toArray:function(e){return hi(e,function(t){return t})||[]},only:function(e){if(!Wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Yn;he.Fragment=H0;he.Profiler=q0;he.PureComponent=Il;he.StrictMode=V0;he.Suspense=Q0;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nm;he.act=Mu;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Cu({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Bl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Tu.call(t,c)&&!Pu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:ri,type:e.type,key:i,ref:a,props:n,_owner:o}};he.createContext=function(e){return e={$$typeof:K0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:G0,_context:e},e.Consumer=e};he.createElement=Du;he.createFactory=function(e){var t=Du.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Y0,render:e}};he.isValidElement=Wl;he.lazy=function(e){return{$$typeof:X0,_payload:{_status:-1,_result:e},_init:rm}};he.memo=function(e,t){return{$$typeof:J0,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Fi.transition;Fi.transition={};try{e()}finally{Fi.transition=t}};he.unstable_act=Mu;he.useCallback=function(e,t){return ot.current.useCallback(e,t)};he.useContext=function(e){return ot.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};he.useEffect=function(e,t){return ot.current.useEffect(e,t)};he.useId=function(){return ot.current.useId()};he.useImperativeHandle=function(e,t,r){return ot.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return ot.current.useMemo(e,t)};he.useReducer=function(e,t,r){return ot.current.useReducer(e,t,r)};he.useRef=function(e){return ot.current.useRef(e)};he.useState=function(e){return ot.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return ot.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return ot.current.useTransition()};he.version="18.3.1";Nu.exports=he;var k=Nu.exports;const Ze=W0(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=k,im=Symbol.for("react.element"),am=Symbol.for("react.fragment"),om=Object.prototype.hasOwnProperty,lm=sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cm={key:!0,ref:!0,__self:!0,__source:!0};function Ou(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)om.call(t,n)&&!cm.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:im,type:e,key:a,ref:o,props:i,_owner:lm.current}}ba.Fragment=am;ba.jsx=Ou;ba.jsxs=Ou;_u.exports=ba;var s=_u.exports,Fu={exports:{}},kt={},Au={exports:{}},$u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,F){var z=j.length;j.push(F);e:for(;0<z;){var W=z-1>>>1,G=j[W];if(0<i(G,F))j[W]=F,j[z]=G,z=W;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var F=j[0],z=j.pop();if(z!==F){j[0]=z;e:for(var W=0,G=j.length,V=G>>>1;W<V;){var $=2*(W+1)-1,Q=j[$],J=$+1,xe=j[J];if(0>i(Q,z))J<G&&0>i(xe,Q)?(j[W]=xe,j[J]=z,W=J):(j[W]=Q,j[$]=z,W=$);else if(J<G&&0>i(xe,z))j[W]=xe,j[J]=z,W=J;else break e}}return F}function i(j,F){var z=j.sortIndex-F.sortIndex;return z!==0?z:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,y=!1,v=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var F=r(d);F!==null;){if(F.callback===null)n(d);else if(F.startTime<=j)n(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(d)}}function w(j){if(_=!1,x(j),!v)if(r(c)!==null)v=!0,D(T);else{var F=r(d);F!==null&&I(w,F.startTime-j)}}function T(j,F){v=!1,_&&(_=!1,m(P),P=-1),y=!0;var z=f;try{for(x(F),h=r(c);h!==null&&(!(h.expirationTime>F)||j&&!U());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var G=W(h.expirationTime<=F);F=e.unstable_now(),typeof G=="function"?h.callback=G:h===r(c)&&n(c),x(F)}else n(c);h=r(c)}if(h!==null)var V=!0;else{var $=r(d);$!==null&&I(w,$.startTime-F),V=!1}return V}finally{h=null,f=z,y=!1}}var S=!1,C=null,P=-1,L=5,M=-1;function U(){return!(e.unstable_now()-M<L)}function te(){if(C!==null){var j=e.unstable_now();M=j;var F=!0;try{F=C(!0,j)}finally{F?Z():(S=!1,C=null)}}else S=!1}var Z;if(typeof g=="function")Z=function(){g(te)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Y=ae.port2;ae.port1.onmessage=te,Z=function(){Y.postMessage(null)}}else Z=function(){N(te,0)};function D(j){C=j,S||(S=!0,Z())}function I(j,F){P=N(function(){j(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,D(T))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var z=f;f=F;try{return j()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var z=f;f=j;try{return F()}finally{f=z}},e.unstable_scheduleCallback=function(j,F,z){var W=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?W+z:W):z=W,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,j={id:u++,callback:F,priorityLevel:j,startTime:z,expirationTime:G,sortIndex:-1},z>W?(j.sortIndex=z,t(d,j),r(c)===null&&j===r(d)&&(_?(m(P),P=-1):_=!0,I(w,z-W))):(j.sortIndex=G,t(c,j),v||y||(v=!0,D(T))),j},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(j){var F=f;return function(){var z=f;f=F;try{return j.apply(this,arguments)}finally{f=z}}}})($u);Au.exports=$u;var dm=Au.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=k,jt=dm;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iu=new Set,Ms={};function cn(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(Ms[e]=t,e=0;e<t.length;e++)Iu.add(t[e])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Po=Object.prototype.hasOwnProperty,hm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hc={},Vc={};function fm(e){return Po.call(Vc,e)?!0:Po.call(Hc,e)?!1:hm.test(e)?Vc[e]=!0:(Hc[e]=!0,!1)}function mm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gm(e,t,r,n){if(t===null||typeof t>"u"||mm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zl=/[\-:]([a-z])/g;function Ul(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zl,Ul);Qe[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zl,Ul);Qe[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zl,Ul);Qe[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hl(e,t,r,n){var i=Qe.hasOwnProperty(t)?Qe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gm(t,r,i,n)&&(r=null),n||i===null?fm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var mr=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fi=Symbol.for("react.element"),jn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),Vl=Symbol.for("react.strict_mode"),Do=Symbol.for("react.profiler"),Ru=Symbol.for("react.provider"),Bu=Symbol.for("react.context"),ql=Symbol.for("react.forward_ref"),Mo=Symbol.for("react.suspense"),Oo=Symbol.for("react.suspense_list"),Gl=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),Wu=Symbol.for("react.offscreen"),qc=Symbol.iterator;function ns(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Qa;function xs(e){if(Qa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qa=t&&t[1]||""}return`
`+Qa+e}var Ja=!1;function Xa(e,t){if(!e||Ja)return"";Ja=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ja=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xs(e):""}function xm(e){switch(e.tag){case 5:return xs(e.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 2:case 15:return e=Xa(e.type,!1),e;case 11:return e=Xa(e.type.render,!1),e;case 1:return e=Xa(e.type,!0),e;default:return""}}function Fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bn:return"Fragment";case jn:return"Portal";case Do:return"Profiler";case Vl:return"StrictMode";case Mo:return"Suspense";case Oo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bu:return(e.displayName||"Context")+".Consumer";case Ru:return(e._context.displayName||"Context")+".Provider";case ql:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gl:return t=e.displayName||null,t!==null?t:Fo(e.type)||"Memo";case jr:t=e._payload,e=e._init;try{return Fo(e(t))}catch{}}return null}function pm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fo(t);case 8:return t===Vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ym(e){var t=zu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mi(e){e._valueTracker||(e._valueTracker=ym(e))}function Uu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ao(e,t){var r=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ar(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hu(e,t){t=t.checked,t!=null&&Hl(e,"checked",t,!1)}function $o(e,t){Hu(e,t);var r=Ar(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Io(e,t.type,r):t.hasOwnProperty("defaultValue")&&Io(e,t.type,Ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Io(e,t,r){(t!=="number"||qi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ps=Array.isArray;function Mn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ar(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(B(92));if(ps(r)){if(1<r.length)throw Error(B(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ar(r)}}function Vu(e,t){var r=Ar(t.value),n=Ar(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gi,Gu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gi=gi||document.createElement("div"),gi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Os(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vm=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(e){vm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),js[t]=js[e]})});function Ku(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||js.hasOwnProperty(e)&&js[e]?(""+t).trim():t+"px"}function Yu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ku(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var wm=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wo(e,t){if(t){if(wm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function zo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ho=null,On=null,Fn=null;function Jc(e){if(e=ii(e)){if(typeof Ho!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Ca(t),Ho(e.stateNode,e.type,t))}}function Qu(e){On?Fn?Fn.push(e):Fn=[e]:On=e}function Ju(){if(On){var e=On,t=Fn;if(Fn=On=null,Jc(e),t)for(e=0;e<t.length;e++)Jc(t[e])}}function Xu(e,t){return e(t)}function Zu(){}var Za=!1;function eh(e,t,r){if(Za)return e(t,r);Za=!0;try{return Xu(e,t,r)}finally{Za=!1,(On!==null||Fn!==null)&&(Zu(),Ju())}}function Fs(e,t){var r=e.stateNode;if(r===null)return null;var n=Ca(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var Vo=!1;if(cr)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Vo=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Vo=!1}function jm(e,t,r,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var bs=!1,Gi=null,Ki=!1,qo=null,bm={onError:function(e){bs=!0,Gi=e}};function km(e,t,r,n,i,a,o,l,c){bs=!1,Gi=null,jm.apply(bm,arguments)}function _m(e,t,r,n,i,a,o,l,c){if(km.apply(this,arguments),bs){if(bs){var d=Gi;bs=!1,Gi=null}else throw Error(B(198));Ki||(Ki=!0,qo=d)}}function dn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function th(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xc(e){if(dn(e)!==e)throw Error(B(188))}function Nm(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Xc(i),e;if(a===n)return Xc(i),t;a=a.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function rh(e){return e=Nm(e),e!==null?nh(e):null}function nh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nh(e);if(t!==null)return t;e=e.sibling}return null}var sh=jt.unstable_scheduleCallback,Zc=jt.unstable_cancelCallback,Sm=jt.unstable_shouldYield,Cm=jt.unstable_requestPaint,Oe=jt.unstable_now,Lm=jt.unstable_getCurrentPriorityLevel,Yl=jt.unstable_ImmediatePriority,ih=jt.unstable_UserBlockingPriority,Yi=jt.unstable_NormalPriority,Em=jt.unstable_LowPriority,ah=jt.unstable_IdlePriority,ka=null,Jt=null;function Tm(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ka,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Mm,Pm=Math.log,Dm=Math.LN2;function Mm(e){return e>>>=0,e===0?32:31-(Pm(e)/Dm|0)|0}var xi=64,pi=4194304;function ys(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=ys(l):(a&=o,a!==0&&(n=ys(a)))}else o=r&~i,o!==0?n=ys(o):a!==0&&(n=ys(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ut(t),i=1<<r,n|=e[r],t&=~i;return n}function Om(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ut(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=Om(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Go(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oh(){var e=xi;return xi<<=1,!(xi&4194240)&&(xi=64),e}function eo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ni(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=r}function Am(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ut(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Ql(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ut(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ve=0;function lh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ch,Jl,dh,uh,hh,Ko=!1,yi=[],Lr=null,Er=null,Tr=null,As=new Map,$s=new Map,kr=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(e,t){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(t.pointerId)}}function is(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ii(t),t!==null&&Jl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Im(e,t,r,n,i){switch(t){case"focusin":return Lr=is(Lr,e,t,r,n,i),!0;case"dragenter":return Er=is(Er,e,t,r,n,i),!0;case"mouseover":return Tr=is(Tr,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return As.set(a,is(As.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,$s.set(a,is($s.get(a)||null,e,t,r,n,i)),!0}return!1}function fh(e){var t=Jr(e.target);if(t!==null){var r=dn(t);if(r!==null){if(t=r.tag,t===13){if(t=th(r),t!==null){e.blockedOn=t,hh(e.priority,function(){dh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Uo=n,r.target.dispatchEvent(n),Uo=null}else return t=ii(r),t!==null&&Jl(t),e.blockedOn=r,!1;t.shift()}return!0}function td(e,t,r){Ai(e)&&r.delete(t)}function Rm(){Ko=!1,Lr!==null&&Ai(Lr)&&(Lr=null),Er!==null&&Ai(Er)&&(Er=null),Tr!==null&&Ai(Tr)&&(Tr=null),As.forEach(td),$s.forEach(td)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,Ko||(Ko=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Rm)))}function Is(e){function t(i){return as(i,e)}if(0<yi.length){as(yi[0],e);for(var r=1;r<yi.length;r++){var n=yi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Lr!==null&&as(Lr,e),Er!==null&&as(Er,e),Tr!==null&&as(Tr,e),As.forEach(t),$s.forEach(t),r=0;r<kr.length;r++)n=kr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<kr.length&&(r=kr[0],r.blockedOn===null);)fh(r),r.blockedOn===null&&kr.shift()}var An=mr.ReactCurrentBatchConfig,Ji=!0;function Bm(e,t,r,n){var i=ve,a=An.transition;An.transition=null;try{ve=1,Xl(e,t,r,n)}finally{ve=i,An.transition=a}}function Wm(e,t,r,n){var i=ve,a=An.transition;An.transition=null;try{ve=4,Xl(e,t,r,n)}finally{ve=i,An.transition=a}}function Xl(e,t,r,n){if(Ji){var i=Yo(e,t,r,n);if(i===null)uo(e,t,n,Xi,r),ed(e,n);else if(Im(i,e,t,r,n))n.stopPropagation();else if(ed(e,n),t&4&&-1<$m.indexOf(e)){for(;i!==null;){var a=ii(i);if(a!==null&&ch(a),a=Yo(e,t,r,n),a===null&&uo(e,t,n,Xi,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else uo(e,t,n,null,r)}}var Xi=null;function Yo(e,t,r,n){if(Xi=null,e=Kl(n),e=Jr(e),e!==null)if(t=dn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=th(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xi=e,null}function mh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lm()){case Yl:return 1;case ih:return 4;case Yi:case Em:return 16;case ah:return 536870912;default:return 16}default:return 16}}var Sr=null,Zl=null,$i=null;function gh(){if($i)return $i;var e,t=Zl,r=t.length,n,i="value"in Sr?Sr.value:Sr.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return $i=i.slice(e,1<n?1-n:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function rd(){return!1}function _t(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vi:rd,this.isPropagationStopped=rd,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=_t(Qn),si=Te({},Qn,{view:0,detail:0}),zm=_t(si),to,ro,os,_a=Te({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&e.type==="mousemove"?(to=e.screenX-os.screenX,ro=e.screenY-os.screenY):ro=to=0,os=e),to)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),nd=_t(_a),Um=Te({},_a,{dataTransfer:0}),Hm=_t(Um),Vm=Te({},si,{relatedTarget:0}),no=_t(Vm),qm=Te({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gm=_t(qm),Km=Te({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ym=_t(Km),Qm=Te({},Qn,{data:0}),sd=_t(Qm),Jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zm[e])?!!t[e]:!1}function tc(){return eg}var tg=Te({},si,{key:function(e){if(e.key){var t=Jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rg=_t(tg),ng=Te({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=_t(ng),sg=Te({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),ig=_t(sg),ag=Te({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),og=_t(ag),lg=Te({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cg=_t(lg),dg=[9,13,27,32],rc=cr&&"CompositionEvent"in window,ks=null;cr&&"documentMode"in document&&(ks=document.documentMode);var ug=cr&&"TextEvent"in window&&!ks,xh=cr&&(!rc||ks&&8<ks&&11>=ks),ad=" ",od=!1;function ph(e,t){switch(e){case"keyup":return dg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kn=!1;function hg(e,t){switch(e){case"compositionend":return yh(t);case"keypress":return t.which!==32?null:(od=!0,ad);case"textInput":return e=t.data,e===ad&&od?null:e;default:return null}}function fg(e,t){if(kn)return e==="compositionend"||!rc&&ph(e,t)?(e=gh(),$i=Zl=Sr=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xh&&t.locale!=="ko"?null:t.data;default:return null}}var mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mg[e.type]:t==="textarea"}function vh(e,t,r,n){Qu(n),t=Zi(t,"onChange"),0<t.length&&(r=new ec("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _s=null,Rs=null;function gg(e){Th(e,0)}function Na(e){var t=Sn(e);if(Uu(t))return e}function xg(e,t){if(e==="change")return t}var wh=!1;if(cr){var so;if(cr){var io="oninput"in document;if(!io){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),io=typeof cd.oninput=="function"}so=io}else so=!1;wh=so&&(!document.documentMode||9<document.documentMode)}function dd(){_s&&(_s.detachEvent("onpropertychange",jh),Rs=_s=null)}function jh(e){if(e.propertyName==="value"&&Na(Rs)){var t=[];vh(t,Rs,e,Kl(e)),eh(gg,t)}}function pg(e,t,r){e==="focusin"?(dd(),_s=t,Rs=r,_s.attachEvent("onpropertychange",jh)):e==="focusout"&&dd()}function yg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Na(Rs)}function vg(e,t){if(e==="click")return Na(t)}function wg(e,t){if(e==="input"||e==="change")return Na(t)}function jg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:jg;function Bs(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Po.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hd(e,t){var r=ud(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ud(r)}}function bh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kh(){for(var e=window,t=qi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qi(e.document)}return t}function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bg(e){var t=kh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bh(r.ownerDocument.documentElement,r)){if(n!==null&&nc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=hd(r,a);var o=hd(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kg=cr&&"documentMode"in document&&11>=document.documentMode,_n=null,Qo=null,Ns=null,Jo=!1;function fd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jo||_n==null||_n!==qi(n)||(n=_n,"selectionStart"in n&&nc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ns&&Bs(Ns,n)||(Ns=n,n=Zi(Qo,"onSelect"),0<n.length&&(t=new ec("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_n)))}function wi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nn={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},ao={},_h={};cr&&(_h=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function Sa(e){if(ao[e])return ao[e];if(!Nn[e])return e;var t=Nn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _h)return ao[e]=t[r];return e}var Nh=Sa("animationend"),Sh=Sa("animationiteration"),Ch=Sa("animationstart"),Lh=Sa("transitionend"),Eh=new Map,md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){Eh.set(e,t),cn(t,[e])}for(var oo=0;oo<md.length;oo++){var lo=md[oo],_g=lo.toLowerCase(),Ng=lo[0].toUpperCase()+lo.slice(1);Br(_g,"on"+Ng)}Br(Nh,"onAnimationEnd");Br(Sh,"onAnimationIteration");Br(Ch,"onAnimationStart");Br("dblclick","onDoubleClick");Br("focusin","onFocus");Br("focusout","onBlur");Br(Lh,"onTransitionEnd");Rn("onMouseEnter",["mouseout","mouseover"]);Rn("onMouseLeave",["mouseout","mouseover"]);Rn("onPointerEnter",["pointerout","pointerover"]);Rn("onPointerLeave",["pointerout","pointerover"]);cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sg=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function gd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_m(n,t,void 0,e),e.currentTarget=null}function Th(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;gd(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;gd(i,l,d),a=c}}}if(Ki)throw e=qo,Ki=!1,qo=null,e}function ke(e,t){var r=t[rl];r===void 0&&(r=t[rl]=new Set);var n=e+"__bubble";r.has(n)||(Ph(t,e,2,!1),r.add(n))}function co(e,t,r){var n=0;t&&(n|=4),Ph(r,e,n,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Ws(e){if(!e[ji]){e[ji]=!0,Iu.forEach(function(r){r!=="selectionchange"&&(Sg.has(r)||co(r,!1,e),co(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ji]||(t[ji]=!0,co("selectionchange",!1,t))}}function Ph(e,t,r,n){switch(mh(t)){case 1:var i=Bm;break;case 4:i=Wm;break;default:i=Xl}r=i.bind(null,t,r,e),i=void 0,!Vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function uo(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Jr(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}eh(function(){var d=a,u=Kl(r),h=[];e:{var f=Eh.get(e);if(f!==void 0){var y=ec,v=e;switch(e){case"keypress":if(Ii(r)===0)break e;case"keydown":case"keyup":y=rg;break;case"focusin":v="focus",y=no;break;case"focusout":v="blur",y=no;break;case"beforeblur":case"afterblur":y=no;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ig;break;case Nh:case Sh:case Ch:y=Gm;break;case Lh:y=og;break;case"scroll":y=zm;break;case"wheel":y=cg;break;case"copy":case"cut":case"paste":y=Ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=id}var _=(t&4)!==0,N=!_&&e==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var g=d,x;g!==null;){x=g;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,m!==null&&(w=Fs(g,m),w!=null&&_.push(zs(g,w,x)))),N)break;g=g.return}0<_.length&&(f=new y(f,v,null,r,u),h.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Uo&&(v=r.relatedTarget||r.fromElement)&&(Jr(v)||v[dr]))break e;if((y||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=d,v=v?Jr(v):null,v!==null&&(N=dn(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=d),y!==v)){if(_=nd,w="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=id,w="onPointerLeave",m="onPointerEnter",g="pointer"),N=y==null?f:Sn(y),x=v==null?f:Sn(v),f=new _(w,g+"leave",y,r,u),f.target=N,f.relatedTarget=x,w=null,Jr(u)===d&&(_=new _(m,g+"enter",v,r,u),_.target=x,_.relatedTarget=N,w=_),N=w,y&&v)t:{for(_=y,m=v,g=0,x=_;x;x=hn(x))g++;for(x=0,w=m;w;w=hn(w))x++;for(;0<g-x;)_=hn(_),g--;for(;0<x-g;)m=hn(m),x--;for(;g--;){if(_===m||m!==null&&_===m.alternate)break t;_=hn(_),m=hn(m)}_=null}else _=null;y!==null&&xd(h,f,y,_,!1),v!==null&&N!==null&&xd(h,N,v,_,!0)}}e:{if(f=d?Sn(d):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var T=xg;else if(ld(f))if(wh)T=wg;else{T=yg;var S=pg}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=vg);if(T&&(T=T(e,d))){vh(h,T,r,u);break e}S&&S(e,f,d),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Io(f,"number",f.value)}switch(S=d?Sn(d):window,e){case"focusin":(ld(S)||S.contentEditable==="true")&&(_n=S,Qo=d,Ns=null);break;case"focusout":Ns=Qo=_n=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,fd(h,r,u);break;case"selectionchange":if(kg)break;case"keydown":case"keyup":fd(h,r,u)}var C;if(rc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else kn?ph(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(xh&&r.locale!=="ko"&&(kn||P!=="onCompositionStart"?P==="onCompositionEnd"&&kn&&(C=gh()):(Sr=u,Zl="value"in Sr?Sr.value:Sr.textContent,kn=!0)),S=Zi(d,P),0<S.length&&(P=new sd(P,e,null,r,u),h.push({event:P,listeners:S}),C?P.data=C:(C=yh(r),C!==null&&(P.data=C)))),(C=ug?hg(e,r):fg(e,r))&&(d=Zi(d,"onBeforeInput"),0<d.length&&(u=new sd("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=C))}Th(h,t)})}function zs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zi(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fs(e,r),a!=null&&n.unshift(zs(e,a,i)),a=Fs(e,t),a!=null&&n.push(zs(e,a,i))),e=e.return}return n}function hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xd(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=Fs(r,a),c!=null&&o.unshift(zs(r,c,l))):i||(c=Fs(r,a),c!=null&&o.push(zs(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Cg=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function pd(e){return(typeof e=="string"?e:""+e).replace(Cg,`
`).replace(Lg,"")}function bi(e,t,r){if(t=pd(t),pd(e)!==t&&r)throw Error(B(425))}function ea(){}var Xo=null,Zo=null;function el(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,Eg=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,Tg=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(e){return yd.resolve(null).then(e).catch(Pg)}:tl;function Pg(e){setTimeout(function(){throw e})}function ho(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Is(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Is(t)}function Pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Jn,Us="__reactProps$"+Jn,dr="__reactContainer$"+Jn,rl="__reactEvents$"+Jn,Dg="__reactListeners$"+Jn,Mg="__reactHandles$"+Jn;function Jr(e){var t=e[Qt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[dr]||r[Qt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vd(e);e!==null;){if(r=e[Qt])return r;e=vd(e)}return t}e=r,r=e.parentNode}return null}function ii(e){return e=e[Qt]||e[dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Ca(e){return e[Us]||null}var nl=[],Cn=-1;function Wr(e){return{current:e}}function _e(e){0>Cn||(e.current=nl[Cn],nl[Cn]=null,Cn--)}function je(e,t){Cn++,nl[Cn]=e.current,e.current=t}var $r={},tt=Wr($r),ht=Wr(!1),nn=$r;function Bn(e,t){var r=e.type.contextTypes;if(!r)return $r;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ft(e){return e=e.childContextTypes,e!=null}function ta(){_e(ht),_e(tt)}function wd(e,t,r){if(tt.current!==$r)throw Error(B(168));je(tt,t),je(ht,r)}function Dh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(B(108,pm(e)||"Unknown",i));return Te({},r,n)}function ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$r,nn=tt.current,je(tt,e),je(ht,ht.current),!0}function jd(e,t,r){var n=e.stateNode;if(!n)throw Error(B(169));r?(e=Dh(e,t,nn),n.__reactInternalMemoizedMergedChildContext=e,_e(ht),_e(tt),je(tt,e)):_e(ht),je(ht,r)}var ir=null,La=!1,fo=!1;function Mh(e){ir===null?ir=[e]:ir.push(e)}function Og(e){La=!0,Mh(e)}function zr(){if(!fo&&ir!==null){fo=!0;var e=0,t=ve;try{var r=ir;for(ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ir=null,La=!1}catch(i){throw ir!==null&&(ir=ir.slice(e+1)),sh(Yl,zr),i}finally{ve=t,fo=!1}}return null}var Ln=[],En=0,na=null,sa=0,St=[],Ct=0,sn=null,ar=1,or="";function qr(e,t){Ln[En++]=sa,Ln[En++]=na,na=e,sa=t}function Oh(e,t,r){St[Ct++]=ar,St[Ct++]=or,St[Ct++]=sn,sn=e;var n=ar;e=or;var i=32-Ut(n)-1;n&=~(1<<i),r+=1;var a=32-Ut(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ar=1<<32-Ut(t)+i|r<<i|n,or=a+e}else ar=1<<a|r<<i|n,or=e}function sc(e){e.return!==null&&(qr(e,1),Oh(e,1,0))}function ic(e){for(;e===na;)na=Ln[--En],Ln[En]=null,sa=Ln[--En],Ln[En]=null;for(;e===sn;)sn=St[--Ct],St[Ct]=null,or=St[--Ct],St[Ct]=null,ar=St[--Ct],St[Ct]=null}var vt=null,yt=null,Se=!1,Wt=null;function Fh(e,t){var r=Lt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=sn!==null?{id:ar,overflow:or}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Lt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vt=e,yt=null,!0):!1;default:return!1}}function sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function il(e){if(Se){var t=yt;if(t){var r=t;if(!bd(e,t)){if(sl(e))throw Error(B(418));t=Pr(r.nextSibling);var n=vt;t&&bd(e,t)?Fh(n,r):(e.flags=e.flags&-4097|2,Se=!1,vt=e)}}else{if(sl(e))throw Error(B(418));e.flags=e.flags&-4097|2,Se=!1,vt=e}}}function kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function ki(e){if(e!==vt)return!1;if(!Se)return kd(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!el(e.type,e.memoizedProps)),t&&(t=yt)){if(sl(e))throw Ah(),Error(B(418));for(;t;)Fh(e,t),t=Pr(t.nextSibling)}if(kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yt=Pr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Pr(e.stateNode.nextSibling):null;return!0}function Ah(){for(var e=yt;e;)e=Pr(e.nextSibling)}function Wn(){yt=vt=null,Se=!1}function ac(e){Wt===null?Wt=[e]:Wt.push(e)}var Fg=mr.ReactCurrentBatchConfig;function ls(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,e))}return e}function _i(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _d(e){var t=e._init;return t(e._payload)}function $h(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function r(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Fr(m,g),m.index=0,m.sibling=null,m}function a(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,x,w){return g===null||g.tag!==6?(g=wo(x,m.mode,w),g.return=m,g):(g=i(g,x),g.return=m,g)}function c(m,g,x,w){var T=x.type;return T===bn?u(m,g,x.props.children,w,x.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jr&&_d(T)===g.type)?(w=i(g,x.props),w.ref=ls(m,g,x),w.return=m,w):(w=Vi(x.type,x.key,x.props,null,m.mode,w),w.ref=ls(m,g,x),w.return=m,w)}function d(m,g,x,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=jo(x,m.mode,w),g.return=m,g):(g=i(g,x.children||[]),g.return=m,g)}function u(m,g,x,w,T){return g===null||g.tag!==7?(g=tn(x,m.mode,w,T),g.return=m,g):(g=i(g,x),g.return=m,g)}function h(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=wo(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fi:return x=Vi(g.type,g.key,g.props,null,m.mode,x),x.ref=ls(m,null,g),x.return=m,x;case jn:return g=jo(g,m.mode,x),g.return=m,g;case jr:var w=g._init;return h(m,w(g._payload),x)}if(ps(g)||ns(g))return g=tn(g,m.mode,x,null),g.return=m,g;_i(m,g)}return null}function f(m,g,x,w){var T=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:l(m,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fi:return x.key===T?c(m,g,x,w):null;case jn:return x.key===T?d(m,g,x,w):null;case jr:return T=x._init,f(m,g,T(x._payload),w)}if(ps(x)||ns(x))return T!==null?null:u(m,g,x,w,null);_i(m,x)}return null}function y(m,g,x,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(x)||null,l(g,m,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fi:return m=m.get(w.key===null?x:w.key)||null,c(g,m,w,T);case jn:return m=m.get(w.key===null?x:w.key)||null,d(g,m,w,T);case jr:var S=w._init;return y(m,g,x,S(w._payload),T)}if(ps(w)||ns(w))return m=m.get(x)||null,u(g,m,w,T,null);_i(g,w)}return null}function v(m,g,x,w){for(var T=null,S=null,C=g,P=g=0,L=null;C!==null&&P<x.length;P++){C.index>P?(L=C,C=null):L=C.sibling;var M=f(m,C,x[P],w);if(M===null){C===null&&(C=L);break}e&&C&&M.alternate===null&&t(m,C),g=a(M,g,P),S===null?T=M:S.sibling=M,S=M,C=L}if(P===x.length)return r(m,C),Se&&qr(m,P),T;if(C===null){for(;P<x.length;P++)C=h(m,x[P],w),C!==null&&(g=a(C,g,P),S===null?T=C:S.sibling=C,S=C);return Se&&qr(m,P),T}for(C=n(m,C);P<x.length;P++)L=y(C,m,P,x[P],w),L!==null&&(e&&L.alternate!==null&&C.delete(L.key===null?P:L.key),g=a(L,g,P),S===null?T=L:S.sibling=L,S=L);return e&&C.forEach(function(U){return t(m,U)}),Se&&qr(m,P),T}function _(m,g,x,w){var T=ns(x);if(typeof T!="function")throw Error(B(150));if(x=T.call(x),x==null)throw Error(B(151));for(var S=T=null,C=g,P=g=0,L=null,M=x.next();C!==null&&!M.done;P++,M=x.next()){C.index>P?(L=C,C=null):L=C.sibling;var U=f(m,C,M.value,w);if(U===null){C===null&&(C=L);break}e&&C&&U.alternate===null&&t(m,C),g=a(U,g,P),S===null?T=U:S.sibling=U,S=U,C=L}if(M.done)return r(m,C),Se&&qr(m,P),T;if(C===null){for(;!M.done;P++,M=x.next())M=h(m,M.value,w),M!==null&&(g=a(M,g,P),S===null?T=M:S.sibling=M,S=M);return Se&&qr(m,P),T}for(C=n(m,C);!M.done;P++,M=x.next())M=y(C,m,P,M.value,w),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?P:M.key),g=a(M,g,P),S===null?T=M:S.sibling=M,S=M);return e&&C.forEach(function(te){return t(m,te)}),Se&&qr(m,P),T}function N(m,g,x,w){if(typeof x=="object"&&x!==null&&x.type===bn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case fi:e:{for(var T=x.key,S=g;S!==null;){if(S.key===T){if(T=x.type,T===bn){if(S.tag===7){r(m,S.sibling),g=i(S,x.props.children),g.return=m,m=g;break e}}else if(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jr&&_d(T)===S.type){r(m,S.sibling),g=i(S,x.props),g.ref=ls(m,S,x),g.return=m,m=g;break e}r(m,S);break}else t(m,S);S=S.sibling}x.type===bn?(g=tn(x.props.children,m.mode,w,x.key),g.return=m,m=g):(w=Vi(x.type,x.key,x.props,null,m.mode,w),w.ref=ls(m,g,x),w.return=m,m=w)}return o(m);case jn:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(m,g.sibling),g=i(g,x.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else t(m,g);g=g.sibling}g=jo(x,m.mode,w),g.return=m,m=g}return o(m);case jr:return S=x._init,N(m,g,S(x._payload),w)}if(ps(x))return v(m,g,x,w);if(ns(x))return _(m,g,x,w);_i(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(m,g.sibling),g=i(g,x),g.return=m,m=g):(r(m,g),g=wo(x,m.mode,w),g.return=m,m=g),o(m)):r(m,g)}return N}var zn=$h(!0),Ih=$h(!1),ia=Wr(null),aa=null,Tn=null,oc=null;function lc(){oc=Tn=aa=null}function cc(e){var t=ia.current;_e(ia),e._currentValue=t}function al(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $n(e,t){aa=e,oc=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(oc!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(aa===null)throw Error(B(308));Tn=e,aa.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var Xr=null;function dc(e){Xr===null?Xr=[e]:Xr.push(e)}function Rh(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,dc(t)):(r.next=i.next,i.next=r),t.interleaved=r,ur(e,n)}function ur(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var br=!1;function uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ur(e,r)}return i=n.interleaved,i===null?(t.next=t,dc(n)):(t.next=i.next,i.next=t),n.interleaved=t,ur(e,r)}function Ri(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ql(e,r)}}function Nd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function oa(e,t,r,n){var i=e.updateQueue;br=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,y=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,_=l;switch(f=t,y=r,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=Te({},h,f);break e;case 2:br=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=y,c=h):u=u.next=y,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);on|=o,e.lanes=o,e.memoizedState=h}}function Sd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var ai={},Xt=Wr(ai),Hs=Wr(ai),Vs=Wr(ai);function Zr(e){if(e===ai)throw Error(B(174));return e}function hc(e,t){switch(je(Vs,t),je(Hs,e),je(Xt,ai),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bo(t,e)}_e(Xt),je(Xt,t)}function Un(){_e(Xt),_e(Hs),_e(Vs)}function Wh(e){Zr(Vs.current);var t=Zr(Xt.current),r=Bo(t,e.type);t!==r&&(je(Hs,e),je(Xt,r))}function fc(e){Hs.current===e&&(_e(Xt),_e(Hs))}var Le=Wr(0);function la(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mo=[];function mc(){for(var e=0;e<mo.length;e++)mo[e]._workInProgressVersionPrimary=null;mo.length=0}var Bi=mr.ReactCurrentDispatcher,go=mr.ReactCurrentBatchConfig,an=0,Ee=null,We=null,He=null,ca=!1,Ss=!1,qs=0,Ag=0;function Je(){throw Error(B(321))}function gc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function xc(e,t,r,n,i,a){if(an=a,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bi.current=e===null||e.memoizedState===null?Bg:Wg,e=r(n,i),Ss){a=0;do{if(Ss=!1,qs=0,25<=a)throw Error(B(301));a+=1,He=We=null,t.updateQueue=null,Bi.current=zg,e=r(n,i)}while(Ss)}if(Bi.current=da,t=We!==null&&We.next!==null,an=0,He=We=Ee=null,ca=!1,t)throw Error(B(300));return e}function pc(){var e=qs!==0;return qs=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ee.memoizedState=He=e:He=He.next=e,He}function Dt(){if(We===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=He===null?Ee.memoizedState:He.next;if(t!==null)He=t,We=e;else{if(e===null)throw Error(B(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},He===null?Ee.memoizedState=He=e:He=He.next=e}return He}function Gs(e,t){return typeof t=="function"?t(e):t}function xo(e){var t=Dt(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=We,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((an&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Ee.lanes|=u,on|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Vt(n,t.memoizedState)||(ut=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ee.lanes|=a,on|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function po(e){var t=Dt(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Vt(a,t.memoizedState)||(ut=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function zh(){}function Uh(e,t){var r=Ee,n=Dt(),i=t(),a=!Vt(n.memoizedState,i);if(a&&(n.memoizedState=i,ut=!0),n=n.queue,yc(qh.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,Ks(9,Vh.bind(null,r,n,i,t),void 0,null),Ve===null)throw Error(B(349));an&30||Hh(r,t,i)}return i}function Hh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vh(e,t,r,n){t.value=r,t.getSnapshot=n,Gh(t)&&Kh(e)}function qh(e,t,r){return r(function(){Gh(t)&&Kh(e)})}function Gh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vt(e,r)}catch{return!0}}function Kh(e){var t=ur(e,1);t!==null&&Ht(t,e,1,-1)}function Cd(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:e},t.queue=e,e=e.dispatch=Rg.bind(null,Ee,e),[t.memoizedState,e]}function Ks(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Yh(){return Dt().memoizedState}function Wi(e,t,r,n){var i=Kt();Ee.flags|=e,i.memoizedState=Ks(1|t,r,void 0,n===void 0?null:n)}function Ea(e,t,r,n){var i=Dt();n=n===void 0?null:n;var a=void 0;if(We!==null){var o=We.memoizedState;if(a=o.destroy,n!==null&&gc(n,o.deps)){i.memoizedState=Ks(t,r,a,n);return}}Ee.flags|=e,i.memoizedState=Ks(1|t,r,a,n)}function Ld(e,t){return Wi(8390656,8,e,t)}function yc(e,t){return Ea(2048,8,e,t)}function Qh(e,t){return Ea(4,2,e,t)}function Jh(e,t){return Ea(4,4,e,t)}function Xh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zh(e,t,r){return r=r!=null?r.concat([e]):null,Ea(4,4,Xh.bind(null,t,e),r)}function vc(){}function ef(e,t){var r=Dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function tf(e,t){var r=Dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function rf(e,t,r){return an&21?(Vt(r,t)||(r=oh(),Ee.lanes|=r,on|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=r)}function $g(e,t){var r=ve;ve=r!==0&&4>r?r:4,e(!0);var n=go.transition;go.transition={};try{e(!1),t()}finally{ve=r,go.transition=n}}function nf(){return Dt().memoizedState}function Ig(e,t,r){var n=Or(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sf(e))af(t,r);else if(r=Rh(e,t,r,n),r!==null){var i=it();Ht(r,e,n,i),of(r,t,n)}}function Rg(e,t,r){var n=Or(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sf(e))af(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Vt(l,o)){var c=t.interleaved;c===null?(i.next=i,dc(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Rh(e,t,i,n),r!==null&&(i=it(),Ht(r,e,n,i),of(r,t,n))}}function sf(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function af(e,t){Ss=ca=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function of(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ql(e,r)}}var da={readContext:Pt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Bg={readContext:Pt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Ld,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wi(4194308,4,Xh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wi(4,2,e,t)},useMemo:function(e,t){var r=Kt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ig.bind(null,Ee,e),[n.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:Cd,useDebugValue:vc,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=Cd(!1),t=e[0];return e=$g.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ee,i=Kt();if(Se){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),Ve===null)throw Error(B(349));an&30||Hh(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ld(qh.bind(null,n,a,e),[e]),n.flags|=2048,Ks(9,Vh.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Kt(),t=Ve.identifierPrefix;if(Se){var r=or,n=ar;r=(n&~(1<<32-Ut(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ag++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wg={readContext:Pt,useCallback:ef,useContext:Pt,useEffect:yc,useImperativeHandle:Zh,useInsertionEffect:Qh,useLayoutEffect:Jh,useMemo:tf,useReducer:xo,useRef:Yh,useState:function(){return xo(Gs)},useDebugValue:vc,useDeferredValue:function(e){var t=Dt();return rf(t,We.memoizedState,e)},useTransition:function(){var e=xo(Gs)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Uh,useId:nf,unstable_isNewReconciler:!1},zg={readContext:Pt,useCallback:ef,useContext:Pt,useEffect:yc,useImperativeHandle:Zh,useInsertionEffect:Qh,useLayoutEffect:Jh,useMemo:tf,useReducer:po,useRef:Yh,useState:function(){return po(Gs)},useDebugValue:vc,useDeferredValue:function(e){var t=Dt();return We===null?t.memoizedState=e:rf(t,We.memoizedState,e)},useTransition:function(){var e=po(Gs)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:zh,useSyncExternalStore:Uh,useId:nf,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ol(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ta={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=it(),i=Or(e),a=lr(n,i);a.payload=t,r!=null&&(a.callback=r),t=Dr(e,a,i),t!==null&&(Ht(t,e,i,n),Ri(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=it(),i=Or(e),a=lr(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Dr(e,a,i),t!==null&&(Ht(t,e,i,n),Ri(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=it(),n=Or(e),i=lr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Dr(e,i,n),t!==null&&(Ht(t,e,n,r),Ri(t,e,n))}};function Ed(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Bs(r,n)||!Bs(i,a):!0}function lf(e,t,r){var n=!1,i=$r,a=t.contextType;return typeof a=="object"&&a!==null?a=Pt(a):(i=ft(t)?nn:tt.current,n=t.contextTypes,a=(n=n!=null)?Bn(e,i):$r),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ta,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Td(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ta.enqueueReplaceState(t,t.state,null)}function ll(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},uc(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Pt(a):(a=ft(t)?nn:tt.current,i.context=Bn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ol(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ta.enqueueReplaceState(i,i.state,null),oa(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Hn(e,t){try{var r="",n=t;do r+=xm(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function yo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ug=typeof WeakMap=="function"?WeakMap:Map;function cf(e,t,r){r=lr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ha||(ha=!0,vl=n),cl(e,t)},r}function df(e,t,r){r=lr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){cl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){cl(e,t),typeof n!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Pd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ug;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=nx.bind(null,e,t,r),t.then(e,e))}function Dd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Md(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=lr(-1,1),t.tag=2,Dr(r,t,1))),r.lanes|=1),e)}var Hg=mr.ReactCurrentOwner,ut=!1;function st(e,t,r,n){t.child=e===null?Ih(t,null,r,n):zn(t,e.child,r,n)}function Od(e,t,r,n,i){r=r.render;var a=t.ref;return $n(t,i),n=xc(e,t,r,n,a,i),r=pc(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hr(e,t,i)):(Se&&r&&sc(t),t.flags|=1,st(e,t,n,i),t.child)}function Fd(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Cc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,uf(e,t,a,n,i)):(e=Vi(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Bs,r(o,n)&&e.ref===t.ref)return hr(e,t,i)}return t.flags|=1,e=Fr(a,n),e.ref=t.ref,e.return=t,t.child=e}function uf(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Bs(a,n)&&e.ref===t.ref)if(ut=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,hr(e,t,i)}return dl(e,t,r,n,i)}function hf(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Dn,pt),pt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Dn,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,je(Dn,pt),pt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,je(Dn,pt),pt|=n;return st(e,t,i,r),t.child}function ff(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dl(e,t,r,n,i){var a=ft(r)?nn:tt.current;return a=Bn(t,a),$n(t,i),r=xc(e,t,r,n,a,i),n=pc(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hr(e,t,i)):(Se&&n&&sc(t),t.flags|=1,st(e,t,r,i),t.child)}function Ad(e,t,r,n,i){if(ft(r)){var a=!0;ra(t)}else a=!1;if($n(t,i),t.stateNode===null)zi(e,t),lf(t,r,n),ll(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Pt(d):(d=ft(r)?nn:tt.current,d=Bn(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Td(t,o,n,d),br=!1;var f=t.memoizedState;o.state=f,oa(t,n,o,i),c=t.memoizedState,l!==n||f!==c||ht.current||br?(typeof u=="function"&&(ol(t,r,u,n),c=t.memoizedState),(l=br||Ed(t,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Bh(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:It(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pt(c):(c=ft(r)?nn:tt.current,c=Bn(t,c));var y=r.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Td(t,o,n,c),br=!1,f=t.memoizedState,o.state=f,oa(t,n,o,i);var v=t.memoizedState;l!==h||f!==v||ht.current||br?(typeof y=="function"&&(ol(t,r,y,n),v=t.memoizedState),(d=br||Ed(t,r,d,n,f,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ul(e,t,r,n,a,i)}function ul(e,t,r,n,i,a){ff(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&jd(t,r,!1),hr(e,t,a);n=t.stateNode,Hg.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=zn(t,e.child,null,a),t.child=zn(t,null,l,a)):st(e,t,l,a),t.memoizedState=n.state,i&&jd(t,r,!0),t.child}function mf(e){var t=e.stateNode;t.pendingContext?wd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wd(e,t.context,!1),hc(e,t.containerInfo)}function $d(e,t,r,n,i){return Wn(),ac(i),t.flags|=256,st(e,t,r,n),t.child}var hl={dehydrated:null,treeContext:null,retryLane:0};function fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function gf(e,t,r){var n=t.pendingProps,i=Le.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),je(Le,i&1),e===null)return il(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ma(o,n,0,null),e=tn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=fl(r),t.memoizedState=hl,e):wc(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Vg(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Fr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Fr(l,a):(a=tn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?fl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=hl,n}return a=e.child,e=a.sibling,n=Fr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wc(e,t){return t=Ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ni(e,t,r,n){return n!==null&&ac(n),zn(t,e.child,null,r),e=wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vg(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=yo(Error(B(422))),Ni(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ma({mode:"visible",children:n.children},i,0,null),a=tn(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&zn(t,e.child,null,o),t.child.memoizedState=fl(o),t.memoizedState=hl,a);if(!(t.mode&1))return Ni(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(B(419)),n=yo(a,n,void 0),Ni(e,t,o,n)}if(l=(o&e.childLanes)!==0,ut||l){if(n=Ve,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ur(e,i),Ht(n,e,i,-1))}return Sc(),n=yo(Error(B(421))),Ni(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sx.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,yt=Pr(i.nextSibling),vt=t,Se=!0,Wt=null,e!==null&&(St[Ct++]=ar,St[Ct++]=or,St[Ct++]=sn,ar=e.id,or=e.overflow,sn=t),t=wc(t,n.children),t.flags|=4096,t)}function Id(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),al(e.return,t,r)}function vo(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function xf(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(st(e,t,n.children,r),n=Le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Id(e,r,t);else if(e.tag===19)Id(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Le,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&la(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),vo(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&la(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}vo(t,!0,r,null,a);break;case"together":vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),on|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=Fr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qg(e,t,r){switch(t.tag){case 3:mf(t),Wn();break;case 5:Wh(t);break;case 1:ft(t.type)&&ra(t);break;case 4:hc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;je(ia,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?gf(e,t,r):(je(Le,Le.current&1),e=hr(e,t,r),e!==null?e.sibling:null);je(Le,Le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xf(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,hf(e,t,r)}return hr(e,t,r)}var pf,ml,yf,vf;pf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ml=function(){};yf=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Zr(Xt.current);var a=null;switch(r){case"input":i=Ao(e,i),n=Ao(e,n),a=[];break;case"select":i=Te({},i,{value:void 0}),n=Te({},n,{value:void 0}),a=[];break;case"textarea":i=Ro(e,i),n=Ro(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ea)}Wo(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ms.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ke("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};vf=function(e,t,r,n){r!==n&&(t.flags|=4)};function cs(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gg(e,t,r){var n=t.pendingProps;switch(ic(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return ft(t.type)&&ta(),Xe(t),null;case 3:return n=t.stateNode,Un(),_e(ht),_e(tt),mc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ki(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wt!==null&&(bl(Wt),Wt=null))),ml(e,t),Xe(t),null;case 5:fc(t);var i=Zr(Vs.current);if(r=t.type,e!==null&&t.stateNode!=null)yf(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return Xe(t),null}if(e=Zr(Xt.current),ki(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Qt]=t,n[Us]=a,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(i=0;i<vs.length;i++)ke(vs[i],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":Gc(n,a),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ke("invalid",n);break;case"textarea":Yc(n,a),ke("invalid",n)}Wo(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&bi(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&bi(n.textContent,l,e),i=["children",""+l]):Ms.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",n)}switch(r){case"input":mi(n),Kc(n,a,!0);break;case"textarea":mi(n),Qc(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ea)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qt]=t,e[Us]=n,pf(e,t,!1,!1),t.stateNode=e;e:{switch(o=zo(r,n),r){case"dialog":ke("cancel",e),ke("close",e),i=n;break;case"iframe":case"object":case"embed":ke("load",e),i=n;break;case"video":case"audio":for(i=0;i<vs.length;i++)ke(vs[i],e);i=n;break;case"source":ke("error",e),i=n;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=n;break;case"details":ke("toggle",e),i=n;break;case"input":Gc(e,n),i=Ao(e,n),ke("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Te({},n,{value:void 0}),ke("invalid",e);break;case"textarea":Yc(e,n),i=Ro(e,n),ke("invalid",e);break;default:i=n}Wo(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Yu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gu(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Os(e,c):typeof c=="number"&&Os(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ms.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ke("scroll",e):c!=null&&Hl(e,a,c,o))}switch(r){case"input":mi(e),Kc(e,n,!1);break;case"textarea":mi(e),Qc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ar(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Mn(e,!!n.multiple,a,!1):n.defaultValue!=null&&Mn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ea)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)vf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(r=Zr(Vs.current),Zr(Xt.current),ki(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qt]=t,(a=n.nodeValue!==r)&&(e=vt,e!==null))switch(e.tag){case 3:bi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bi(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qt]=t,t.stateNode=n}return Xe(t),null;case 13:if(_e(Le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&yt!==null&&t.mode&1&&!(t.flags&128))Ah(),Wn(),t.flags|=98560,a=!1;else if(a=ki(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[Qt]=t}else Wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),a=!1}else Wt!==null&&(bl(Wt),Wt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?ze===0&&(ze=3):Sc())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return Un(),ml(e,t),e===null&&Ws(t.stateNode.containerInfo),Xe(t),null;case 10:return cc(t.type._context),Xe(t),null;case 17:return ft(t.type)&&ta(),Xe(t),null;case 19:if(_e(Le),a=t.memoizedState,a===null)return Xe(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)cs(a,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=la(e),o!==null){for(t.flags|=128,cs(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Le,Le.current&1|2),t.child}e=e.sibling}a.tail!==null&&Oe()>Vn&&(t.flags|=128,n=!0,cs(a,!1),t.lanes=4194304)}else{if(!n)if(e=la(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Se)return Xe(t),null}else 2*Oe()-a.renderingStartTime>Vn&&r!==1073741824&&(t.flags|=128,n=!0,cs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Oe(),t.sibling=null,r=Le.current,je(Le,n?r&1|2:r&1),t):(Xe(t),null);case 22:case 23:return Nc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Kg(e,t){switch(ic(t),t.tag){case 1:return ft(t.type)&&ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(),_e(ht),_e(tt),mc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fc(t),null;case 13:if(_e(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Le),null;case 4:return Un(),null;case 10:return cc(t.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var Si=!1,et=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,K=null;function Pn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){De(e,t,n)}else r.current=null}function gl(e,t,r){try{r()}catch(n){De(e,t,n)}}var Rd=!1;function Qg(e,t){if(Xo=Ji,e=kh(),nc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var y;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++d===i&&(l=o),f===a&&++u===n&&(c=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zo={focusedElem:e,selectionRange:r},Ji=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,N=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:It(t.type,_),N);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(w){De(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return v=Rd,Rd=!1,v}function Cs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&gl(t,r,a)}i=i.next}while(i!==n)}}function Pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wf(e){var t=e.alternate;t!==null&&(e.alternate=null,wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[Us],delete t[rl],delete t[Dg],delete t[Mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jf(e){return e.tag===5||e.tag===3||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ea));else if(n!==4&&(e=e.child,e!==null))for(pl(e,t,r),e=e.sibling;e!==null;)pl(e,t,r),e=e.sibling}function yl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yl(e,t,r),e=e.sibling;e!==null;)yl(e,t,r),e=e.sibling}var qe=null,Rt=!1;function pr(e,t,r){for(r=r.child;r!==null;)bf(e,t,r),r=r.sibling}function bf(e,t,r){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ka,r)}catch{}switch(r.tag){case 5:et||Pn(r,t);case 6:var n=qe,i=Rt;qe=null,pr(e,t,r),qe=n,Rt=i,qe!==null&&(Rt?(e=qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qe.removeChild(r.stateNode));break;case 18:qe!==null&&(Rt?(e=qe,r=r.stateNode,e.nodeType===8?ho(e.parentNode,r):e.nodeType===1&&ho(e,r),Is(e)):ho(qe,r.stateNode));break;case 4:n=qe,i=Rt,qe=r.stateNode.containerInfo,Rt=!0,pr(e,t,r),qe=n,Rt=i;break;case 0:case 11:case 14:case 15:if(!et&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&gl(r,t,o),i=i.next}while(i!==n)}pr(e,t,r);break;case 1:if(!et&&(Pn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){De(r,t,l)}pr(e,t,r);break;case 21:pr(e,t,r);break;case 22:r.mode&1?(et=(n=et)||r.memoizedState!==null,pr(e,t,r),et=n):pr(e,t,r);break;default:pr(e,t,r)}}function Wd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Yg),t.forEach(function(n){var i=ix.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function At(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,Rt=!1;break e;case 3:qe=l.stateNode.containerInfo,Rt=!0;break e;case 4:qe=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(qe===null)throw Error(B(160));bf(a,o,i),qe=null,Rt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){De(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kf(t,e),t=t.sibling}function kf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Gt(e),n&4){try{Cs(3,e,e.return),Pa(3,e)}catch(_){De(e,e.return,_)}try{Cs(5,e,e.return)}catch(_){De(e,e.return,_)}}break;case 1:At(t,e),Gt(e),n&512&&r!==null&&Pn(r,r.return);break;case 5:if(At(t,e),Gt(e),n&512&&r!==null&&Pn(r,r.return),e.flags&32){var i=e.stateNode;try{Os(i,"")}catch(_){De(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Hu(i,a),zo(l,o);var d=zo(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Yu(i,h):u==="dangerouslySetInnerHTML"?Gu(i,h):u==="children"?Os(i,h):Hl(i,u,h,d)}switch(l){case"input":$o(i,a);break;case"textarea":Vu(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Mn(i,!!a.multiple,y,!1):f!==!!a.multiple&&(a.defaultValue!=null?Mn(i,!!a.multiple,a.defaultValue,!0):Mn(i,!!a.multiple,a.multiple?[]:"",!1))}i[Us]=a}catch(_){De(e,e.return,_)}}break;case 6:if(At(t,e),Gt(e),n&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(_){De(e,e.return,_)}}break;case 3:if(At(t,e),Gt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Is(t.containerInfo)}catch(_){De(e,e.return,_)}break;case 4:At(t,e),Gt(e);break;case 13:At(t,e),Gt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(kc=Oe())),n&4&&Wd(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(et=(d=et)||u,At(t,e),et=d):At(t,e),Gt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(K=e,u=e.child;u!==null;){for(h=K=u;K!==null;){switch(f=K,y=f.child,f.tag){case 0:case 11:case 14:case 15:Cs(4,f,f.return);break;case 1:Pn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(_){De(n,r,_)}}break;case 5:Pn(f,f.return);break;case 22:if(f.memoizedState!==null){Ud(h);continue}}y!==null?(y.return=f,K=y):Ud(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ku("display",o))}catch(_){De(e,e.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(_){De(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:At(t,e),Gt(e),n&4&&Wd(e);break;case 21:break;default:At(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(jf(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Os(i,""),n.flags&=-33);var a=Bd(e);yl(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Bd(e);pl(e,l,o);break;default:throw Error(B(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jg(e,t,r){K=e,_f(e)}function _f(e,t,r){for(var n=(e.mode&1)!==0;K!==null;){var i=K,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Si;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||et;l=Si;var d=et;if(Si=o,(et=c)&&!d)for(K=i;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?Hd(i):c!==null?(c.return=o,K=c):Hd(i);for(;a!==null;)K=a,_f(a),a=a.sibling;K=i,Si=l,et=d}zd(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,K=a):zd(e)}}function zd(e){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Pa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!et)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:It(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Sd(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sd(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Is(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}et||t.flags&512&&xl(t)}catch(f){De(t,t.return,f)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function Ud(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function Hd(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Pa(4,t)}catch(c){De(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){De(t,i,c)}}var a=t.return;try{xl(t)}catch(c){De(t,a,c)}break;case 5:var o=t.return;try{xl(t)}catch(c){De(t,o,c)}}}catch(c){De(t,t.return,c)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var Xg=Math.ceil,ua=mr.ReactCurrentDispatcher,jc=mr.ReactCurrentOwner,Et=mr.ReactCurrentBatchConfig,fe=0,Ve=null,Ae=null,Ge=0,pt=0,Dn=Wr(0),ze=0,Ys=null,on=0,Da=0,bc=0,Ls=null,ct=null,kc=0,Vn=1/0,nr=null,ha=!1,vl=null,Mr=null,Ci=!1,Cr=null,fa=0,Es=0,wl=null,Ui=-1,Hi=0;function it(){return fe&6?Oe():Ui!==-1?Ui:Ui=Oe()}function Or(e){return e.mode&1?fe&2&&Ge!==0?Ge&-Ge:Fg.transition!==null?(Hi===0&&(Hi=oh()),Hi):(e=ve,e!==0||(e=window.event,e=e===void 0?16:mh(e.type)),e):1}function Ht(e,t,r,n){if(50<Es)throw Es=0,wl=null,Error(B(185));ni(e,r,n),(!(fe&2)||e!==Ve)&&(e===Ve&&(!(fe&2)&&(Da|=r),ze===4&&_r(e,Ge)),mt(e,n),r===1&&fe===0&&!(t.mode&1)&&(Vn=Oe()+500,La&&zr()))}function mt(e,t){var r=e.callbackNode;Fm(e,t);var n=Qi(e,e===Ve?Ge:0);if(n===0)r!==null&&Zc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zc(r),t===1)e.tag===0?Og(Vd.bind(null,e)):Mh(Vd.bind(null,e)),Tg(function(){!(fe&6)&&zr()}),r=null;else{switch(lh(n)){case 1:r=Yl;break;case 4:r=ih;break;case 16:r=Yi;break;case 536870912:r=ah;break;default:r=Yi}r=Df(r,Nf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Nf(e,t){if(Ui=-1,Hi=0,fe&6)throw Error(B(327));var r=e.callbackNode;if(In()&&e.callbackNode!==r)return null;var n=Qi(e,e===Ve?Ge:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ma(e,n);else{t=n;var i=fe;fe|=2;var a=Cf();(Ve!==e||Ge!==t)&&(nr=null,Vn=Oe()+500,en(e,t));do try{tx();break}catch(l){Sf(e,l)}while(!0);lc(),ua.current=a,fe=i,Ae!==null?t=0:(Ve=null,Ge=0,t=ze)}if(t!==0){if(t===2&&(i=Go(e),i!==0&&(n=i,t=jl(e,i))),t===1)throw r=Ys,en(e,0),_r(e,n),mt(e,Oe()),r;if(t===6)_r(e,n);else{if(i=e.current.alternate,!(n&30)&&!Zg(i)&&(t=ma(e,n),t===2&&(a=Go(e),a!==0&&(n=a,t=jl(e,a))),t===1))throw r=Ys,en(e,0),_r(e,n),mt(e,Oe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:Gr(e,ct,nr);break;case 3:if(_r(e,n),(n&130023424)===n&&(t=kc+500-Oe(),10<t)){if(Qi(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){it(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=tl(Gr.bind(null,e,ct,nr),t);break}Gr(e,ct,nr);break;case 4:if(_r(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Ut(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Xg(n/1960))-n,10<n){e.timeoutHandle=tl(Gr.bind(null,e,ct,nr),n);break}Gr(e,ct,nr);break;case 5:Gr(e,ct,nr);break;default:throw Error(B(329))}}}return mt(e,Oe()),e.callbackNode===r?Nf.bind(null,e):null}function jl(e,t){var r=Ls;return e.current.memoizedState.isDehydrated&&(en(e,t).flags|=256),e=ma(e,t),e!==2&&(t=ct,ct=r,t!==null&&bl(t)),e}function bl(e){ct===null?ct=e:ct.push.apply(ct,e)}function Zg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Vt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~bc,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ut(t),n=1<<r;e[r]=-1,t&=~n}}function Vd(e){if(fe&6)throw Error(B(327));In();var t=Qi(e,0);if(!(t&1))return mt(e,Oe()),null;var r=ma(e,t);if(e.tag!==0&&r===2){var n=Go(e);n!==0&&(t=n,r=jl(e,n))}if(r===1)throw r=Ys,en(e,0),_r(e,t),mt(e,Oe()),r;if(r===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,ct,nr),mt(e,Oe()),null}function _c(e,t){var r=fe;fe|=1;try{return e(t)}finally{fe=r,fe===0&&(Vn=Oe()+500,La&&zr())}}function ln(e){Cr!==null&&Cr.tag===0&&!(fe&6)&&In();var t=fe;fe|=1;var r=Et.transition,n=ve;try{if(Et.transition=null,ve=1,e)return e()}finally{ve=n,Et.transition=r,fe=t,!(fe&6)&&zr()}}function Nc(){pt=Dn.current,_e(Dn)}function en(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Eg(r)),Ae!==null)for(r=Ae.return;r!==null;){var n=r;switch(ic(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ta();break;case 3:Un(),_e(ht),_e(tt),mc();break;case 5:fc(n);break;case 4:Un();break;case 13:_e(Le);break;case 19:_e(Le);break;case 10:cc(n.type._context);break;case 22:case 23:Nc()}r=r.return}if(Ve=e,Ae=e=Fr(e.current,null),Ge=pt=t,ze=0,Ys=null,bc=Da=on=0,ct=Ls=null,Xr!==null){for(t=0;t<Xr.length;t++)if(r=Xr[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Xr=null}return e}function Sf(e,t){do{var r=Ae;try{if(lc(),Bi.current=da,ca){for(var n=Ee.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ca=!1}if(an=0,He=We=Ee=null,Ss=!1,qs=0,jc.current=null,r===null||r.return===null){ze=1,Ys=t,Ae=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=Dd(o);if(y!==null){y.flags&=-257,Md(y,o,l,a,t),y.mode&1&&Pd(a,d,t),t=y,c=d;var v=t.updateQueue;if(v===null){var _=new Set;_.add(c),t.updateQueue=_}else v.add(c);break e}else{if(!(t&1)){Pd(a,d,t),Sc();break e}c=Error(B(426))}}else if(Se&&l.mode&1){var N=Dd(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Md(N,o,l,a,t),ac(Hn(c,l));break e}}a=c=Hn(c,l),ze!==4&&(ze=2),Ls===null?Ls=[a]:Ls.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=cf(a,c,t);Nd(a,m);break e;case 1:l=c;var g=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Mr===null||!Mr.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=df(a,l,t);Nd(a,w);break e}}a=a.return}while(a!==null)}Ef(r)}catch(T){t=T,Ae===r&&r!==null&&(Ae=r=r.return);continue}break}while(!0)}function Cf(){var e=ua.current;return ua.current=da,e===null?da:e}function Sc(){(ze===0||ze===3||ze===2)&&(ze=4),Ve===null||!(on&268435455)&&!(Da&268435455)||_r(Ve,Ge)}function ma(e,t){var r=fe;fe|=2;var n=Cf();(Ve!==e||Ge!==t)&&(nr=null,en(e,t));do try{ex();break}catch(i){Sf(e,i)}while(!0);if(lc(),fe=r,ua.current=n,Ae!==null)throw Error(B(261));return Ve=null,Ge=0,ze}function ex(){for(;Ae!==null;)Lf(Ae)}function tx(){for(;Ae!==null&&!Sm();)Lf(Ae)}function Lf(e){var t=Pf(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Ef(e):Ae=t,jc.current=null}function Ef(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Kg(r,t),r!==null){r.flags&=32767,Ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Ae=null;return}}else if(r=Gg(r,t,pt),r!==null){Ae=r;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);ze===0&&(ze=5)}function Gr(e,t,r){var n=ve,i=Et.transition;try{Et.transition=null,ve=1,rx(e,t,r,n)}finally{Et.transition=i,ve=n}return null}function rx(e,t,r,n){do In();while(Cr!==null);if(fe&6)throw Error(B(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Am(e,a),e===Ve&&(Ae=Ve=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ci||(Ci=!0,Df(Yi,function(){return In(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Et.transition,Et.transition=null;var o=ve;ve=1;var l=fe;fe|=4,jc.current=null,Qg(e,r),kf(r,e),bg(Zo),Ji=!!Xo,Zo=Xo=null,e.current=r,Jg(r),Cm(),fe=l,ve=o,Et.transition=a}else e.current=r;if(Ci&&(Ci=!1,Cr=e,fa=i),a=e.pendingLanes,a===0&&(Mr=null),Tm(r.stateNode),mt(e,Oe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ha)throw ha=!1,e=vl,vl=null,e;return fa&1&&e.tag!==0&&In(),a=e.pendingLanes,a&1?e===wl?Es++:(Es=0,wl=e):Es=0,zr(),null}function In(){if(Cr!==null){var e=lh(fa),t=Et.transition,r=ve;try{if(Et.transition=null,ve=16>e?16:e,Cr===null)var n=!1;else{if(e=Cr,Cr=null,fa=0,fe&6)throw Error(B(331));var i=fe;for(fe|=4,K=e.current;K!==null;){var a=K,o=a.child;if(K.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(K=d;K!==null;){var u=K;switch(u.tag){case 0:case 11:case 15:Cs(8,u,a)}var h=u.child;if(h!==null)h.return=u,K=h;else for(;K!==null;){u=K;var f=u.sibling,y=u.return;if(wf(u),u===d){K=null;break}if(f!==null){f.return=y,K=f;break}K=y}}}var v=a.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var N=_.sibling;_.sibling=null,_=N}while(_!==null)}}K=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,K=o;else e:for(;K!==null;){if(a=K,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Cs(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,K=m;break e}K=a.return}}var g=e.current;for(K=g;K!==null;){o=K;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,K=x;else e:for(o=g;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pa(9,l)}}catch(T){De(l,l.return,T)}if(l===o){K=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,K=w;break e}K=l.return}}if(fe=i,zr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ka,e)}catch{}n=!0}return n}finally{ve=r,Et.transition=t}}return!1}function qd(e,t,r){t=Hn(r,t),t=cf(e,t,1),e=Dr(e,t,1),t=it(),e!==null&&(ni(e,1,t),mt(e,t))}function De(e,t,r){if(e.tag===3)qd(e,e,r);else for(;t!==null;){if(t.tag===3){qd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mr===null||!Mr.has(n))){e=Hn(r,e),e=df(t,e,1),t=Dr(t,e,1),e=it(),t!==null&&(ni(t,1,e),mt(t,e));break}}t=t.return}}function nx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&r,Ve===e&&(Ge&r)===r&&(ze===4||ze===3&&(Ge&130023424)===Ge&&500>Oe()-kc?en(e,0):bc|=r),mt(e,t)}function Tf(e,t){t===0&&(e.mode&1?(t=pi,pi<<=1,!(pi&130023424)&&(pi=4194304)):t=1);var r=it();e=ur(e,t),e!==null&&(ni(e,t,r),mt(e,r))}function sx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Tf(e,r)}function ix(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),Tf(e,r)}var Pf;Pf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ut=!1,qg(e,t,r);ut=!!(e.flags&131072)}else ut=!1,Se&&t.flags&1048576&&Oh(t,sa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zi(e,t),e=t.pendingProps;var i=Bn(t,tt.current);$n(t,r),i=xc(null,t,n,e,i,r);var a=pc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(n)?(a=!0,ra(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uc(t),i.updater=Ta,t.stateNode=i,i._reactInternals=t,ll(t,n,e,r),t=ul(null,t,n,!0,a,r)):(t.tag=0,Se&&a&&sc(t),st(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zi(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=ox(n),e=It(n,e),i){case 0:t=dl(null,t,n,e,r);break e;case 1:t=Ad(null,t,n,e,r);break e;case 11:t=Od(null,t,n,e,r);break e;case 14:t=Fd(null,t,n,It(n.type,e),r);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:It(n,i),dl(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:It(n,i),Ad(e,t,n,i,r);case 3:e:{if(mf(t),e===null)throw Error(B(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Bh(e,t),oa(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Hn(Error(B(423)),t),t=$d(e,t,n,r,i);break e}else if(n!==i){i=Hn(Error(B(424)),t),t=$d(e,t,n,r,i);break e}else for(yt=Pr(t.stateNode.containerInfo.firstChild),vt=t,Se=!0,Wt=null,r=Ih(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wn(),n===i){t=hr(e,t,r);break e}st(e,t,n,r)}t=t.child}return t;case 5:return Wh(t),e===null&&il(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,el(n,i)?o=null:a!==null&&el(n,a)&&(t.flags|=32),ff(e,t),st(e,t,o,r),t.child;case 6:return e===null&&il(t),null;case 13:return gf(e,t,r);case 4:return hc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zn(t,null,n,r):st(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:It(n,i),Od(e,t,n,i,r);case 7:return st(e,t,t.pendingProps,r),t.child;case 8:return st(e,t,t.pendingProps.children,r),t.child;case 12:return st(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,je(ia,n._currentValue),n._currentValue=o,a!==null)if(Vt(a.value,o)){if(a.children===i.children&&!ht.current){t=hr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=lr(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),al(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),al(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}st(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,$n(t,r),i=Pt(i),n=n(i),t.flags|=1,st(e,t,n,r),t.child;case 14:return n=t.type,i=It(n,t.pendingProps),i=It(n.type,i),Fd(e,t,n,i,r);case 15:return uf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:It(n,i),zi(e,t),t.tag=1,ft(n)?(e=!0,ra(t)):e=!1,$n(t,r),lf(t,n,i),ll(t,n,i,r),ul(null,t,n,!0,e,r);case 19:return xf(e,t,r);case 22:return hf(e,t,r)}throw Error(B(156,t.tag))};function Df(e,t){return sh(e,t)}function ax(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,r,n){return new ax(e,t,r,n)}function Cc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ox(e){if(typeof e=="function")return Cc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ql)return 11;if(e===Gl)return 14}return 2}function Fr(e,t){var r=e.alternate;return r===null?(r=Lt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vi(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")Cc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case bn:return tn(r.children,i,a,t);case Vl:o=8,i|=8;break;case Do:return e=Lt(12,r,t,i|2),e.elementType=Do,e.lanes=a,e;case Mo:return e=Lt(13,r,t,i),e.elementType=Mo,e.lanes=a,e;case Oo:return e=Lt(19,r,t,i),e.elementType=Oo,e.lanes=a,e;case Wu:return Ma(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ru:o=10;break e;case Bu:o=9;break e;case ql:o=11;break e;case Gl:o=14;break e;case jr:o=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Lt(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function tn(e,t,r,n){return e=Lt(7,e,n,t),e.lanes=r,e}function Ma(e,t,r,n){return e=Lt(22,e,n,t),e.elementType=Wu,e.lanes=r,e.stateNode={isHidden:!1},e}function wo(e,t,r){return e=Lt(6,e,null,t),e.lanes=r,e}function jo(e,t,r){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lx(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lc(e,t,r,n,i,a,o,l,c){return e=new lx(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Lt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uc(a),e}function cx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Mf(e){if(!e)return $r;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var r=e.type;if(ft(r))return Dh(e,r,t)}return t}function Of(e,t,r,n,i,a,o,l,c){return e=Lc(r,n,!0,e,i,a,o,l,c),e.context=Mf(null),r=e.current,n=it(),i=Or(r),a=lr(n,i),a.callback=t??null,Dr(r,a,i),e.current.lanes=i,ni(e,i,n),mt(e,n),e}function Oa(e,t,r,n){var i=t.current,a=it(),o=Or(i);return r=Mf(r),t.context===null?t.context=r:t.pendingContext=r,t=lr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Dr(i,t,o),e!==null&&(Ht(e,i,o,a),Ri(e,i,o)),o}function ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ec(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function dx(){return null}var Ff=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tc(e){this._internalRoot=e}Fa.prototype.render=Tc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Oa(e,t,null,null)};Fa.prototype.unmount=Tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ln(function(){Oa(null,e,null,null)}),t[dr]=null}};function Fa(e){this._internalRoot=e}Fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=uh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<kr.length&&t!==0&&t<kr[r].priority;r++);kr.splice(r,0,e),r===0&&fh(e)}};function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function ux(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=ga(o);a.call(d)}}var o=Of(t,n,e,0,null,!1,!1,"",Kd);return e._reactRootContainer=o,e[dr]=o.current,Ws(e.nodeType===8?e.parentNode:e),ln(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=ga(c);l.call(d)}}var c=Lc(e,0,!1,null,null,!1,!1,"",Kd);return e._reactRootContainer=c,e[dr]=c.current,Ws(e.nodeType===8?e.parentNode:e),ln(function(){Oa(t,c,r,n)}),c}function $a(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=ga(o);l.call(c)}}Oa(t,o,e,i)}else o=ux(r,t,e,i,n);return ga(o)}ch=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ys(t.pendingLanes);r!==0&&(Ql(t,r|1),mt(t,Oe()),!(fe&6)&&(Vn=Oe()+500,zr()))}break;case 13:ln(function(){var n=ur(e,1);if(n!==null){var i=it();Ht(n,e,1,i)}}),Ec(e,1)}};Jl=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var r=it();Ht(t,e,134217728,r)}Ec(e,134217728)}};dh=function(e){if(e.tag===13){var t=Or(e),r=ur(e,t);if(r!==null){var n=it();Ht(r,e,t,n)}Ec(e,t)}};uh=function(){return ve};hh=function(e,t){var r=ve;try{return ve=e,t()}finally{ve=r}};Ho=function(e,t,r){switch(t){case"input":if($o(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ca(n);if(!i)throw Error(B(90));Uu(n),$o(n,i)}}}break;case"textarea":Vu(e,r);break;case"select":t=r.value,t!=null&&Mn(e,!!r.multiple,t,!1)}};Xu=_c;Zu=ln;var hx={usingClientEntryPoint:!1,Events:[ii,Sn,Ca,Qu,Ju,_c]},ds={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fx={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rh(e),e===null?null:e.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||dx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{ka=Li.inject(fx),Jt=Li}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hx;kt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(t))throw Error(B(200));return cx(e,t,null,r)};kt.createRoot=function(e,t){if(!Pc(e))throw Error(B(299));var r=!1,n="",i=Ff;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lc(e,1,!1,null,null,r,!1,n,i),e[dr]=t.current,Ws(e.nodeType===8?e.parentNode:e),new Tc(t)};kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=rh(t),e=e===null?null:e.stateNode,e};kt.flushSync=function(e){return ln(e)};kt.hydrate=function(e,t,r){if(!Aa(t))throw Error(B(200));return $a(null,e,t,!0,r)};kt.hydrateRoot=function(e,t,r){if(!Pc(e))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Ff;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Of(t,null,e,1,r??null,i,!1,a,o),e[dr]=t.current,Ws(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Fa(t)};kt.render=function(e,t,r){if(!Aa(t))throw Error(B(200));return $a(null,e,t,!1,r)};kt.unmountComponentAtNode=function(e){if(!Aa(e))throw Error(B(40));return e._reactRootContainer?(ln(function(){$a(null,null,e,!1,function(){e._reactRootContainer=null,e[dr]=null})}),!0):!1};kt.unstable_batchedUpdates=_c;kt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Aa(r))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return $a(e,t,r,!1,n)};kt.version="18.3.1-next-f1338f8080-20240426";function Af(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Af)}catch(e){console.error(e)}}Af(),Fu.exports=kt;var mx=Fu.exports,$f,Yd=mx;$f=Yd.createRoot,Yd.hydrateRoot;const gx="modulepreload",xx=function(e,t){return new URL(e,t).href},Qd={},oi=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(d=>{if(d=xx(d,n),d in Qd)return;Qd[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!n)for(let v=o.length-1;v>=0;v--){const _=o[v];if(_.href===d&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${h}`))return;const y=document.createElement("link");if(y.rel=u?"stylesheet":gx,u||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),u)return new Promise((v,_)=>{y.addEventListener("load",v),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},px=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>Xn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Dc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yx extends Dc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jd extends Dc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Xd extends Dc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kl||(kl={}));var vx=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class wx{constructor(t,{headers:r={},customFetch:n,region:i=kl.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=px(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return vx(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(_=>{throw new yx(_)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Jd(h);if(!h.ok)throw new Xd(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield h.json():y==="application/octet-stream"?v=yield h.blob():y==="text/event-stream"?v=h:y==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Xd||i instanceof Jd?i.context:void 0}}})}}var dt={},Mc={},Ia={},li={},Ra={},Ba={},jx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qn=jx();const bx=qn.fetch,If=qn.fetch.bind(qn),Rf=qn.Headers,kx=qn.Request,_x=qn.Response,Xn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rf,Request:kx,Response:_x,default:If,fetch:bx},Symbol.toStringTag,{value:"Module"})),Nx=z0(Xn);var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});let Sx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Wa.default=Sx;var Bf=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ba,"__esModule",{value:!0});const Cx=Bf(Nx),Lx=Bf(Wa);let Ex=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Cx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let d=null,u=null,h=null,f=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const m=await a.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=m:u=JSON.parse(m))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),N=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&N&&N.length>1&&(h=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const _=await a.text();try{d=JSON.parse(_),Array.isArray(d)&&a.status===404&&(u=[],d=null,f=200,y="OK")}catch{a.status===404&&_===""?(f=204,y="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,y="OK"),d&&this.shouldThrowOnError)throw new Lx.default(d)}return{error:d,data:u,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Ba.default=Ex;var Tx=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ra,"__esModule",{value:!0});const Px=Tx(Ba);let Dx=class extends Px.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ra.default=Dx;var Mx=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(li,"__esModule",{value:!0});const Ox=Mx(Ra);let Fx=class extends Ox.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};li.default=Fx;var Ax=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ia,"__esModule",{value:!0});const us=Ax(li);let $x=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new us.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new us.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new us.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new us.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new us.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ia.default=$x;var za={},Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.version=void 0;Ua.version="0.0.0-automated";Object.defineProperty(za,"__esModule",{value:!0});za.DEFAULT_HEADERS=void 0;const Ix=Ua;za.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ix.version}`};var Wf=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mc,"__esModule",{value:!0});const Rx=Wf(Ia),Bx=Wf(li),Wx=za;let zx=class zf{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Wx.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new Rx.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new zf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new Bx.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Mc.default=zx;var Zn=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dt,"__esModule",{value:!0});dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const Uf=Zn(Mc);dt.PostgrestClient=Uf.default;const Hf=Zn(Ia);dt.PostgrestQueryBuilder=Hf.default;const Vf=Zn(li);dt.PostgrestFilterBuilder=Vf.default;const qf=Zn(Ra);dt.PostgrestTransformBuilder=qf.default;const Gf=Zn(Ba);dt.PostgrestBuilder=Gf.default;const Kf=Zn(Wa);dt.PostgrestError=Kf.default;var Ux=dt.default={PostgrestClient:Uf.default,PostgrestQueryBuilder:Hf.default,PostgrestFilterBuilder:Vf.default,PostgrestTransformBuilder:qf.default,PostgrestBuilder:Gf.default,PostgrestError:Kf.default};const{PostgrestClient:Hx,PostgrestQueryBuilder:wk,PostgrestFilterBuilder:jk,PostgrestTransformBuilder:bk,PostgrestBuilder:kk,PostgrestError:_k}=Ux;class Vx{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qx="2.15.1",Gx=`realtime-js/${qx}`,Kx="1.0.0",_l=1e4,Yx=1e3,Qx=100;var Ts;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ts||(Ts={}));var Re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Re||(Re={}));var Bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bt||(Bt={}));var Nl;(function(e){e.websocket="websocket"})(Nl||(Nl={}));var Qr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qr||(Qr={}));class Jx{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Yf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(we||(we={}));const Zd=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=Xx(o,e,t,i),a),{})},Xx=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?Qf(a,o):Sl(o)},Qf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rp(t,r)}switch(e){case we.bool:return Zx(t);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return ep(t);case we.json:case we.jsonb:return tp(t);case we.timestamp:return np(t);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return Sl(t);default:return Sl(t)}},Sl=e=>e,Zx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ep=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tp=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rp=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Qf(t,l))}return e},np=e=>typeof e=="string"?e.replace(" ","T"):e,Jf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class bo{constructor(t,r,n={},i=_l){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var eu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(eu||(eu={}));class Ps{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ps.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Ps.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ps.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const f=u.map(N=>N.presence_ref),y=h.map(N=>N.presence_ref),v=u.filter(N=>y.indexOf(N.presence_ref)<0),_=h.filter(N=>f.indexOf(N.presence_ref)<0);v.length>0&&(l[d]=v),_.length>0&&(c[d]=_)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(y=>y.presence_ref),f=u.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...f)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tu||(tu={}));var Ds;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ds||(Ds={}));var sr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(sr||(sr={}));class Oc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bo(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new Yf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ps(this),this.broadcastEndpointURL=Jf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0,u={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(sr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(sr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){t==null||t(sr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,N=[];for(let m=0;m<_;m++){const g=v[m],{filter:{event:x,schema:w,table:T,filter:S}}=g,C=f&&f[m];if(C&&C.event===x&&C.schema===w&&C.table===T&&C.filter===S)N.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=Re.errored,t==null||t(sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(sr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Re.errored,t==null||t(sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Re.joined&&t===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new bo(this,Bt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bo(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Qx){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Bt;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var v,_,N;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((N=(_=y.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var v,_,N,m,g,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,T=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((_=r.ids)===null||_===void 0?void 0:_.includes(w))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const w=(g=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:_,table:N,commit_timestamp:m,type:g,errors:x}=v;f=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:m,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Oc.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Bt.close,{},t)}_onError(t){this._on(Bt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Zd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Zd(t.columns,t.old_record)),r}}const ru=()=>{},Ei={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sp=[1e3,2e3,5e3,1e4],ip=1e4,ap=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class op{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_l,this.transport=null,this.heartbeatIntervalMs=Ei.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ru,this.ref=0,this.reconnectTimer=null,this.logger=ru,this.conn=null,this.sendBuffer=[],this.serializer=new Jx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>oi(async()=>{const{default:l}=await Promise.resolve().then(()=>Xn);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Nl.websocket}`,this.httpEndpoint=Jf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kx}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ts.connecting:return Qr.Connecting;case Ts.open:return Qr.Open;case Ts.closing:return Qr.Closing;default:return Qr.Closed}}isConnected(){return this.connectionState()===Qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Oc(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Yx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ei.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Bt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ap],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Gx};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Bt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Yf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ei.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:_l,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ei.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:u=>sp[u-1]||ip,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(u,h)=>h(JSON.stringify(u)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Fc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lp extends Fc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cl extends Fc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var cp=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Xf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>Xn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},dp=()=>cp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oi(()=>Promise.resolve().then(()=>Xn),void 0,import.meta.url)).Response:Response}),Ll=e=>{if(Array.isArray(e))return e.map(r=>Ll(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Ll(n)}),t},up=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var un=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const ko=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hp=(e,t,r)=>un(void 0,void 0,void 0,function*(){const n=yield dp();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new lp(ko(i),a,o))}).catch(i=>{t(new Cl(ko(i),i))}):t(new Cl(ko(e),e))}),fp=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(up(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ci(e,t,r,n,i,a){return un(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,fp(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>hp(c,l,n))})})}function xa(e,t,r,n){return un(this,void 0,void 0,function*(){return ci(e,"GET",t,r,n)})}function Yt(e,t,r,n,i){return un(this,void 0,void 0,function*(){return ci(e,"POST",t,n,i,r)})}function El(e,t,r,n,i){return un(this,void 0,void 0,function*(){return ci(e,"PUT",t,n,i,r)})}function mp(e,t,r,n){return un(this,void 0,void 0,function*(){return ci(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Zf(e,t,r,n,i){return un(this,void 0,void 0,function*(){return ci(e,"DELETE",t,n,i,r)})}var nt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const gp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xp{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Xf(i)}uploadOrUpdate(t,r,n,i){return nt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},nu),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?El:Yt)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}upload(t,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return nt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:nu.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield El(this.fetch,l.toString(),c,{headers:u});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(Be(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Yt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Fc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}update(t,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return nt(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}copy(t,r,n){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return nt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Yt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return nt(this,void 0,void 0,function*(){try{const i=yield Yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}download(t,r){return nt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield xa(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}})}info(t){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield xa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ll(n),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}exists(t){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield mp(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Be(n)&&n instanceof Cl){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return nt(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}list(t,r,n){return nt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},gp),r),{prefix:t||""});return{data:yield Yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}listV2(t,r){return nt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Yt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const pp="2.11.0",yp={"X-Client-Info":`storage-js/${pp}`};var fn=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class vp{constructor(t,r={},n,i){const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},yp),r),this.fetch=Xf(n)}listBuckets(){return fn(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Be(t))return{data:null,error:t};throw t}})}getBucket(t){return fn(this,void 0,void 0,function*(){try{return{data:yield xa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return fn(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return fn(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}emptyBucket(t){return fn(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}deleteBucket(t){return fn(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}}class wp extends vp{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new xp(this.url,this.headers,t,this.fetch)}}const jp="2.55.0";let ws="";typeof Deno<"u"?ws="deno":typeof document<"u"?ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ws="react-native":ws="node";const bp={"X-Client-Info":`supabase-js-${ws}/${jp}`},kp={headers:bp},_p={schema:"public"},Np={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sp={};var Cp=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Lp=e=>{let t;return e?t=e:typeof fetch>"u"?t=If:t=fetch,(...r)=>t(...r)},Ep=()=>typeof Headers>"u"?Rf:Headers,Tp=(e,t,r)=>{const n=Lp(r),i=Ep();return(a,o)=>Cp(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:d}))})};var Pp=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function Dp(e){return e.endsWith("/")?e:e+"/"}function Mp(e,t){var r,n;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Pp(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const e0="2.71.1",vn=30*1e3,Tl=3,_o=Tl*vn,Op="http://localhost:9999",Fp="supabase.auth.token",Ap={"X-Client-Info":`gotrue-js/${e0}`},Pl="X-Supabase-Api-Version",t0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$p=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ip=10*60*1e3;class Ac extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Rp extends Ac{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Bp(e){return ce(e)&&e.name==="AuthApiError"}class r0 extends Ac{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ur extends Ac{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class wr extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wp(e){return ce(e)&&e.name==="AuthSessionMissingError"}class Ti extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pi extends Ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Di extends Ur{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zp(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class su extends Ur{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dl extends Ur{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function No(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class iu extends Ur{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ml extends Ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),au=` 	
\r=`.split(""),Up=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<au.length;t+=1)e[au[t].charCodeAt(0)]=-2;for(let t=0;t<pa.length;t+=1)e[pa[t].charCodeAt(0)]=t;return e})();function ou(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pa[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pa[n]),t.queuedBits-=6}}function n0(e,t,r){const n=Up[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lu(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{qp(o,n,r)};for(let o=0;o<e.length;o+=1)n0(e.charCodeAt(o),i,a);return t.join("")}function Hp(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Vp(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Hp(n,t)}}function qp(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Gp(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)n0(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Kp(e){const t=[];return Vp(e,r=>t.push(r)),new Uint8Array(t)}function Yp(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>ou(i,r,n)),ou(null,r,n),t.join("")}function Qp(e){return Math.round(Date.now()/1e3)+e}function Jp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $t=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},s0=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function Xp(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const i0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>Xn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Zp=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yr=async(e,t)=>{await e.removeItem(t)};class Ha{constructor(){this.promise=new Ha.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ha.promiseConstructor=Promise;function So(e){const t=e.split(".");if(t.length!==3)throw new Ml("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$p.test(t[n]))throw new Ml("JWT not in base64url format");return{header:JSON.parse(lu(t[0])),payload:JSON.parse(lu(t[1])),signature:Gp(t[2]),raw:{header:t[0],payload:t[1]}}}async function e2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function t2(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function r2(e){return("0"+e.toString(16)).substr(-2)}function n2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,r2).join("")}async function s2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function i2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await s2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mn(e,t,r=!1){const n=n2();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await wn(e,`${t}-code-verifier`,i);const a=await i2(n);return[a,n===a?"plain":"s256"]}const a2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o2(e){const t=e.headers.get(Pl);if(!t||!t.match(a2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function l2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function c2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gn(e){if(!d2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Co(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cu(e){return JSON.parse(JSON.stringify(e))}var u2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Kr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h2=[502,503,504];async function du(e){var t;if(!Zp(e))throw new Dl(Kr(e),0);if(h2.includes(e.status))throw new Dl(Kr(e),e.status);let r;try{r=await e.json()}catch(a){throw new r0(Kr(a),a)}let n;const i=o2(e);if(i&&i.getTime()>=t0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new iu(Kr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new iu(Kr(r),e.status,r.weak_password.reasons);throw new Rp(Kr(r),e.status||500,n)}const f2=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ue(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Pl]||(a[Pl]=t0["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await m2(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function m2(e,t,r,n,i,a){const o=f2(t,n,i,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Dl(Kr(c),0)}if(l.ok||await du(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await du(c)}}function rr(e){var t;let r=null;y2(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Qp(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function uu(e){const t=rr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function g2(e){return{data:e,error:null}}function x2(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=u2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function p2(e){return e}function y2(e){return e.access_token&&e.refresh_token&&e.expires_in}const Lo=["global","local","others"];var v2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class w2{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=i0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Lo[0]){if(Lo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lo.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=v2(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:x2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:p2});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(v.split(";")[1].split("=")[1]);d[`${N}Page`]=_}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ce(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){gn(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){gn(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Nr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){gn(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){gn(t.userId);try{const{data:r,error:n}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){gn(t.userId),gn(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function hu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function j2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xn={debug:!!(globalThis&&s0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class a0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class b2 extends a0{}async function k2(e,t,r){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new b2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}j2();const _2={url:Op,storageKey:Fp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ap,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fu(e,t,r){return await r()}const pn={};class Qs{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qs.nextInstanceID,Qs.nextInstanceID+=1,this.instanceID>0&&$t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},_2),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new w2({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=i0(i.fetch),this.lock=i.lock||fu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$t()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=k2:this.lock=fu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:s0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=hu(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=pn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=pn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${e0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Xp(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),$t()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zp(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?{error:r}:{error:new r0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:rr}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:h,options:f}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await mn(this.storage,this.storageKey)),a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:rr})}else if("phone"in t){const{phone:u,password:h,options:f}=t;a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rr})}else throw new Pi("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:uu})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:uu})}else throw new Pi("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ti}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,o,l,c,d,u,h,f,y;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:N,wallet:m,statement:g,options:x}=t;let w;if($t())if(typeof m=="object")w=m;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const T=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),g?{statement:g}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),_=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=S}}try{const{data:N,error:m}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Yp(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:rr});if(m)throw m;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Ti}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:m})}catch(N){if(ce(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const r=await Vr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:rr});if(await yr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ti}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(ce(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,l=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ti}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await mn(this.storage,this.storageKey));const{error:h}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Pi("You must provide either an email or phone number.")}catch(l){if(ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:rr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await mn(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:g2})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new wr;const{error:i}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:l}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Pi("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_o:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Vr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Co()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nr}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Nr})})}catch(r){if(ce(r))return Wp(r)&&(await this._removeSession(),await yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new wr;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await mn(this.storage,this.storageKey));const{data:d,error:u}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Nr});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=So(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ce(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new wr;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!$t())throw new Di("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Di(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new su("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Di("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new su("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!o||!d)throw new Di("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const y=f-u;y*1e3<=vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:_,error:N}=await this._getUser(a);if(N)throw N;const m={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(ce(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Bp(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Jp(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await mn(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,d,u;const{data:h,error:f}=a;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return $t()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ce(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await t2(async i=>(i>0&&await e2(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&No(a)&&Date.now()+o-n<vn})}catch(n){if(this._debug(r,"error",n),ce(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$t()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Vr(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await wn(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Co()}else if(i&&!i.user&&!i.user){const o=await Vr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await yr(this.storage,this.storageKey+"-user"),await wn(this.storage,this.storageKey,i)):i.user=Co()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_o;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${_o}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),No(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ha;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new wr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),ce(a)){const o={session:null,error:a};return No(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=cu(i);await wn(this.storage,this.storageKey,a)}else{const i=cu(r);await wn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await yr(this.storage,this.storageKey),await yr(this.storage,this.storageKey+"-code-verifier"),await yr(this.storage,this.storageKey+"-user"),this.userStorage&&await yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vn}ms, refresh threshold is ${Tl} ticks`),i<=Tl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof a0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await mn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=So(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Ip>i)return n;const{data:a,error:o}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=So(n);r!=null&&r.allowExpired||l2(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const u=c2(i.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Kp(`${l}.${c}`)))throw new Ml("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}Qs.nextInstanceID=0;const N2=Qs;class S2 extends N2{constructor(t){super(t)}}var C2=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class L2{constructor(t,r,n){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Dp(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:_p,realtime:Sp,auth:Object.assign(Object.assign({},Np),{storageKey:d}),global:kp},h=Mp(n??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Tp(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Hx(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new wp(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new wx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return C2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S2({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new op(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E2=(e,t,r)=>new L2(e,t,r);function T2(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}T2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P2="https://vdjxrusqywiraonfwujq.supabase.co",D2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkanhydXNxeXdpcmFvbmZ3dWpxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzNTUwMjQsImV4cCI6MjA2NjkzMTAyNH0.JhZuVdWlMUhOsQEhfySWBAlauVWkjLM-FRFNftf4L9A",X=E2(P2,D2,{auth:{persistSession:!0,autoRefreshToken:!0}}),o0=k.createContext(),hs="mms_user_context",Mt=()=>{const e=k.useContext(o0);if(!e)throw new Error("useUser must be used within a UserProvider");return e},M2=({children:e})=>{const[t,r]=k.useState(null),[n,i]=k.useState(null),[a,o]=k.useState(null),[l,c]=k.useState(!1),[d,u]=k.useState(!0),[h,f]=k.useState(!1),[y,v]=k.useState([]),[_,N]=k.useState(null),[m,g]=k.useState(!1);k.useEffect(()=>{try{const P=sessionStorage.getItem(hs);if(P){const L=JSON.parse(P);console.log(" Loading saved context from session storage:",L),L.currentUserID&&i(L.currentUserID),L.currentSchoolID&&o(L.currentSchoolID),L.userIsAdmin!==void 0&&c(L.userIsAdmin),L.availableSchools&&v(L.availableSchools),L.needsSchoolSelection!==void 0&&f(L.needsSchoolSelection),g(!0)}}catch(P){console.error("Error loading persisted context:",P)}},[]),k.useEffect(()=>{if(n&&a)try{const P={currentUserID:n,currentSchoolID:a,userIsAdmin:l,needsSchoolSelection:h,availableSchools:y};console.log(" Saving context to session storage:",P),sessionStorage.setItem(hs,JSON.stringify(P))}catch(P){console.error("Error persisting context:",P)}},[n,a,l,h,y]),k.useEffect(()=>{X.auth.getSession().then(({data:{session:L}})=>{var M;console.log(" Initial session check:",((M=L==null?void 0:L.user)==null?void 0:M.id)||"No session"),L!=null&&L.user?(r(L.user),m&&n&&a?(console.log(" Using existing context from session storage, skipping fetch"),u(!1)):w(L.user)):(x(),u(!1))});const{data:{subscription:P}}=X.auth.onAuthStateChange((L,M)=>{var U;console.log(" Auth state change:",L,((U=M==null?void 0:M.user)==null?void 0:U.id)||"No user"),M!=null&&M.user?(r(M.user),L==="SIGNED_IN"||!n||!a||!m&&h?w(M.user):(console.log(" Auth state changed but using existing context"),u(!1))):(x(),sessionStorage.removeItem(hs))});return()=>P.unsubscribe()},[n,a,m,h]);const x=()=>{console.log(" Resetting user context"),r(null),i(null),o(null),c(!1),f(!1),v([]),N(null),g(!1),u(!1)},w=async P=>{var L;try{u(!0),console.log(" Starting user login flow for auth user:",P.id),console.log(" Querying users table with corrected join...");const{data:M,error:U}=await X.from("users").select(`
          id,
          auth_user_id,
          name,
          email,
          role,
          school_id,
          is_admin,
          school:school_id (
            id,
            name
          )
        `).eq("auth_user_id",P.id).eq("role","teacher");console.log(" User records query result:",{userRecords:M,userError:U,recordCount:(M==null?void 0:M.length)||0});const te={authUserId:P.id,authUserEmail:P.email,queryResult:M,queryError:U,recordCount:(M==null?void 0:M.length)||0,timestamp:new Date().toISOString()};if(N(te),U)throw console.error(" Error fetching user records:",U),new Error(`Database query failed: ${U.message}`);if(!M||M.length===0){console.error(" No teacher records found for auth user:",P.id),console.log(" Available auth user data:",{id:P.id,email:P.email,created_at:P.created_at});const{data:Z,error:ae}=await X.from("users").select("id, auth_user_id, email, role").eq("role","teacher");throw console.log(" All teacher users in database:",Z),console.log(" All users query error:",ae),new Error(`No teacher account found for this user. Auth ID: ${P.id}`)}if(console.log(` Processing ${M.length} school(s)...`),M.length===1){const Z=M[0];console.log(" Single school found, auto-selecting:",{userRecordId:Z.id,schoolId:Z.school_id,schoolName:(L=Z.school)==null?void 0:L.name,isAdmin:Z.is_admin}),i(Z.id),o(Z.school_id),c(Z.is_admin||!1),f(!1),g(!0),u(!1)}else{console.log(" Multiple schools found, checking if already selected...");const Z=M.map(ae=>{var Y;return{schoolId:ae.school_id,schoolName:((Y=ae.school)==null?void 0:Y.name)||`School ${ae.school_id}`,userRecordId:ae.id,isAdmin:ae.is_admin||!1}});console.log(" Available schools:",Z),m&&a&&Z.some(ae=>ae.schoolId===a)?(console.log(" Using previously selected school from session storage:",a),v(Z),f(!1)):(console.log(" No valid school selection found, showing selector"),v(Z),f(!0)),u(!1)}}catch(M){console.error(" Login flow error:",M),u(!1)}},C={user:t,loading:d,currentUserID:n,currentSchoolID:a,userIsAdmin:l,needsSchoolSelection:h,availableSchools:y,selectSchool:P=>{console.log(" School selected:",P);const L=y.find(M=>M.schoolId===P);if(console.log(" Selected school data:",L),L){i(L.userRecordId),o(L.schoolId),c(L.isAdmin),f(!1),g(!0),console.log(" School context set:",{userRecordId:L.userRecordId,schoolId:L.schoolId,isAdmin:L.isAdmin});try{const M={currentUserID:L.userRecordId,currentSchoolID:L.schoolId,userIsAdmin:L.isAdmin,needsSchoolSelection:!1,availableSchools:y};sessionStorage.setItem(hs,JSON.stringify(M))}catch(M){console.error("Error saving school selection:",M)}}else console.error(" Selected school not found in available schools")},signOut:async()=>{console.log(" Signing out..."),sessionStorage.removeItem(hs),await X.auth.signOut(),x()},debugInfo:_};return s.jsx(o0.Provider,{value:C,children:e})};var l0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mu=Ze.createContext&&Ze.createContext(l0),O2=["attr","size","title"];function F2(e,t){if(e==null)return{};var r=A2(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A2(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(this,arguments)}function gu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gu(Object(r),!0).forEach(function(n){$2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $2(e,t,r){return t=I2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I2(e){var t=R2(e,"string");return typeof t=="symbol"?t:t+""}function R2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c0(e){return e&&e.map((t,r)=>Ze.createElement(t.tag,va({key:r},t.attr),c0(t.child)))}function p(e){return t=>Ze.createElement(B2,ya({attr:va({},e.attr)},t),c0(e.child))}function B2(e){var t=r=>{var{attr:n,size:i,title:a}=e,o=F2(e,O2),l=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Ze.createElement("svg",ya({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:va(va({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Ze.createElement("title",null,a),e.children)};return mu!==void 0?Ze.createElement(mu.Consumer,null,r=>t(r)):t(l0)}function W2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function z2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"},child:[]},{tag:"polygon",attr:{points:"12 15 17 21 7 21 12 15"},child:[]}]})(e)}function Ne(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function U2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function fr(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function H2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"10",x2:"6",y2:"10"},child:[]},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"},child:[]},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"},child:[]},{tag:"line",attr:{x1:"18",y1:"18",x2:"6",y2:"18"},child:[]}]})(e)}function V2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"21",y1:"10",x2:"3",y2:"10"},child:[]},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"},child:[]},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"},child:[]},{tag:"line",attr:{x1:"21",y1:"18",x2:"3",y2:"18"},child:[]}]})(e)}function q2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"10",x2:"3",y2:"10"},child:[]},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"},child:[]},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"},child:[]},{tag:"line",attr:{x1:"17",y1:"18",x2:"3",y2:"18"},child:[]}]})(e)}function G2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"21",y1:"10",x2:"7",y2:"10"},child:[]},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"},child:[]},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"},child:[]},{tag:"line",attr:{x1:"21",y1:"18",x2:"7",y2:"18"},child:[]}]})(e)}function K2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"5",r:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"8"},child:[]},{tag:"path",attr:{d:"M5 12H2a10 10 0 0 0 20 0h-3"},child:[]}]})(e)}function Y2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"14.31",y1:"8",x2:"20.05",y2:"17.94"},child:[]},{tag:"line",attr:{x1:"9.69",y1:"8",x2:"21.17",y2:"8"},child:[]},{tag:"line",attr:{x1:"7.38",y1:"12",x2:"13.12",y2:"2.06"},child:[]},{tag:"line",attr:{x1:"9.69",y1:"16",x2:"3.95",y2:"6.06"},child:[]},{tag:"line",attr:{x1:"14.31",y1:"16",x2:"2.83",y2:"16"},child:[]},{tag:"line",attr:{x1:"16.62",y1:"12",x2:"10.88",y2:"21.94"},child:[]}]})(e)}function Q2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"},child:[]},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"},child:[]},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"},child:[]}]})(e)}function J2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"8 12 12 16 16 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]}]})(e)}function X2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"7",x2:"7",y2:"17"},child:[]},{tag:"polyline",attr:{points:"17 17 7 17 7 7"},child:[]}]})(e)}function Z2(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"7",x2:"17",y2:"17"},child:[]},{tag:"polyline",attr:{points:"17 7 17 17 7 17"},child:[]}]})(e)}function e1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function t1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 8 8 12 12 16"},child:[]},{tag:"line",attr:{x1:"16",y1:"12",x2:"8",y2:"12"},child:[]}]})(e)}function Va(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function r1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 16 16 12 12 8"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function n1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function s1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"16 12 12 8 8 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"8"},child:[]}]})(e)}function i1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"17",x2:"7",y2:"7"},child:[]},{tag:"polyline",attr:{points:"7 17 7 7 17 7"},child:[]}]})(e)}function a1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"17",x2:"17",y2:"7"},child:[]},{tag:"polyline",attr:{points:"7 7 17 7 17 17"},child:[]}]})(e)}function o1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(e)}function l1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"},child:[]}]})(e)}function c1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function d1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function u1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(e)}function h1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"},child:[]},{tag:"line",attr:{x1:"23",y1:"13",x2:"23",y2:"11"},child:[]},{tag:"polyline",attr:{points:"11 6 7 12 13 12 9 18"},child:[]}]})(e)}function f1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"6",width:"18",height:"12",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"23",y1:"13",x2:"23",y2:"11"},child:[]}]})(e)}function m1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]},{tag:"path",attr:{d:"M18.63 13A17.89 17.89 0 0 1 18 8"},child:[]},{tag:"path",attr:{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"},child:[]},{tag:"path",attr:{d:"M18 8a6 6 0 0 0-9.33-5"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function g1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function x1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"},child:[]}]})(e)}function p1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"},child:[]},{tag:"path",attr:{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"},child:[]}]})(e)}function y1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function v1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(e)}function w1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(e)}function j1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function b1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function Me(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function k1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"},child:[]}]})(e)}function _1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function N1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"},child:[]},{tag:"line",attr:{x1:"2",y1:"20",x2:"2.01",y2:"20"},child:[]}]})(e)}function S1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function C1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function Ke(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function wa(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function d0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function u0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function Ol(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function L1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(e)}function E1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"11 17 6 12 11 7"},child:[]},{tag:"polyline",attr:{points:"18 17 13 12 18 7"},child:[]}]})(e)}function T1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"13 17 18 12 13 7"},child:[]},{tag:"polyline",attr:{points:"6 17 11 12 6 7"},child:[]}]})(e)}function P1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 11 12 6 7 11"},child:[]},{tag:"polyline",attr:{points:"17 18 12 13 7 18"},child:[]}]})(e)}function D1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"line",attr:{x1:"21.17",y1:"8",x2:"12",y2:"8"},child:[]},{tag:"line",attr:{x1:"3.95",y1:"6.06",x2:"8.54",y2:"14"},child:[]},{tag:"line",attr:{x1:"10.88",y1:"21.94",x2:"15.46",y2:"14"},child:[]}]})(e)}function M1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]}]})(e)}function O1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(e)}function Ye(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function F1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"19",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"8",y1:"13",x2:"8",y2:"15"},child:[]},{tag:"line",attr:{x1:"16",y1:"19",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"16",y2:"15"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"17"},child:[]},{tag:"path",attr:{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"},child:[]}]})(e)}function A1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"},child:[]},{tag:"polyline",attr:{points:"13 11 9 17 15 17 11 23"},child:[]}]})(e)}function $1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function I1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16",y1:"13",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"8",y1:"13",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"},child:[]}]})(e)}function R1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"},child:[]},{tag:"line",attr:{x1:"8",y1:"16",x2:"8.01",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"20",x2:"8.01",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12.01",y2:"22"},child:[]},{tag:"line",attr:{x1:"16",y1:"16",x2:"16.01",y2:"16"},child:[]},{tag:"line",attr:{x1:"16",y1:"20",x2:"16.01",y2:"20"},child:[]}]})(e)}function B1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"},child:[]}]})(e)}function W1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(e)}function z1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"15.5"},child:[]},{tag:"polyline",attr:{points:"22 8.5 12 15.5 2 8.5"},child:[]},{tag:"polyline",attr:{points:"2 15.5 12 8.5 22 15.5"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"8.5"},child:[]}]})(e)}function U1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"7.5 4.21 12 6.81 16.5 4.21"},child:[]},{tag:"polyline",attr:{points:"7.5 19.79 7.5 14.6 3 12"},child:[]},{tag:"polyline",attr:{points:"21 12 16.5 14.6 16.5 19.79"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function H1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(e)}function V1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"},child:[]}]})(e)}function q1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"},child:[]}]})(e)}function G1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"},child:[]}]})(e)}function K1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function Y1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 10 4 15 9 20"},child:[]},{tag:"path",attr:{d:"M20 4v7a4 4 0 0 1-4 4H4"},child:[]}]})(e)}function Q1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 10 20 15 15 20"},child:[]},{tag:"path",attr:{d:"M4 4v7a4 4 0 0 0 4 4h12"},child:[]}]})(e)}function J1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"14 15 9 20 4 15"},child:[]},{tag:"path",attr:{d:"M20 4h-7a4 4 0 0 0-4 4v12"},child:[]}]})(e)}function X1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"14 9 9 4 4 9"},child:[]},{tag:"path",attr:{d:"M20 20h-7a4 4 0 0 1-4-4V4"},child:[]}]})(e)}function Z1(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"10 15 15 20 20 15"},child:[]},{tag:"path",attr:{d:"M4 4h7a4 4 0 0 1 4 4v12"},child:[]}]})(e)}function ey(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"10 9 15 4 20 9"},child:[]},{tag:"path",attr:{d:"M4 20h7a4 4 0 0 0 4-4V4"},child:[]}]})(e)}function ty(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 14 4 9 9 4"},child:[]},{tag:"path",attr:{d:"M20 20v-7a4 4 0 0 0-4-4H4"},child:[]}]})(e)}function ry(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 14 20 9 15 4"},child:[]},{tag:"path",attr:{d:"M4 20v-7a4 4 0 0 1 4-4h12"},child:[]}]})(e)}function ny(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(e)}function sy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function iy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6.13 1L6 16a2 2 0 0 0 2 2h15"},child:[]},{tag:"path",attr:{d:"M1 6.13L16 6a2 2 0 0 1 2 2v15"},child:[]}]})(e)}function ay(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"22",y1:"12",x2:"18",y2:"12"},child:[]},{tag:"line",attr:{x1:"6",y1:"12",x2:"2",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"6",x2:"12",y2:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"18"},child:[]}]})(e)}function Fl(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(e)}function oy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"},child:[]},{tag:"line",attr:{x1:"18",y1:"9",x2:"12",y2:"15"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"18",y2:"15"},child:[]}]})(e)}function ly(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function cy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"8"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]}]})(e)}function dy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"8"},child:[]}]})(e)}function uy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"6",r:"2"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"circle",attr:{cx:"12",cy:"18",r:"2"},child:[]}]})(e)}function Gn(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function hy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"8 17 12 21 16 17"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"},child:[]}]})(e)}function fy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function my(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"},child:[]}]})(e)}function gy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"},child:[]}]})(e)}function es(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function xy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function py(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function h0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function yy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function vy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function wy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(e)}function jy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 19 22 12 13 5 13 19"},child:[]},{tag:"polygon",attr:{points:"2 19 11 12 2 5 2 19"},child:[]}]})(e)}function by(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"},child:[]},{tag:"line",attr:{x1:"16",y1:"8",x2:"2",y2:"22"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"15",x2:"9",y2:"15"},child:[]}]})(e)}function ky(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"},child:[]},{tag:"path",attr:{d:"M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"},child:[]},{tag:"path",attr:{d:"M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"},child:[]},{tag:"path",attr:{d:"M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"},child:[]},{tag:"path",attr:{d:"M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"},child:[]}]})(e)}function _y(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"9",y1:"15",x2:"15",y2:"15"},child:[]}]})(e)}function Ny(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"9",y1:"15",x2:"15",y2:"15"},child:[]}]})(e)}function $c(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Sy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(e)}function Cy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(e)}function f0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function Ly(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)}function Ey(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]},{tag:"line",attr:{x1:"9",y1:"14",x2:"15",y2:"14"},child:[]}]})(e)}function Ty(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]},{tag:"line",attr:{x1:"12",y1:"11",x2:"12",y2:"17"},child:[]},{tag:"line",attr:{x1:"9",y1:"14",x2:"15",y2:"14"},child:[]}]})(e)}function Py(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(e)}function Dy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"},child:[]}]})(e)}function My(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M16 16s-1.5-2-4-2-4 2-4 2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function Oy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function Fy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"6",y1:"3",x2:"6",y2:"15"},child:[]},{tag:"circle",attr:{cx:"18",cy:"6",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"path",attr:{d:"M18 9a9 9 0 0 1-9 9"},child:[]}]})(e)}function Ay(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"line",attr:{x1:"1.05",y1:"12",x2:"7",y2:"12"},child:[]},{tag:"line",attr:{x1:"17.01",y1:"12",x2:"22.96",y2:"12"},child:[]}]})(e)}function $y(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"path",attr:{d:"M6 21V9a9 9 0 0 0 9 9"},child:[]}]})(e)}function Iy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"path",attr:{d:"M13 6h3a2 2 0 0 1 2 2v7"},child:[]},{tag:"line",attr:{x1:"6",y1:"9",x2:"6",y2:"21"},child:[]}]})(e)}function Ry(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(e)}function By(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"},child:[]}]})(e)}function Wy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function m0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function zy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"12",x2:"2",y2:"12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]},{tag:"line",attr:{x1:"6",y1:"16",x2:"6.01",y2:"16"},child:[]},{tag:"line",attr:{x1:"10",y1:"16",x2:"10.01",y2:"16"},child:[]}]})(e)}function Uy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function Hy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"},child:[]},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"},child:[]}]})(e)}function g0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function Vy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function qy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]}]})(e)}function Kn(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function Gy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function Ky(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(e)}function Ir(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function Yy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(e)}function Qy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"4",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"20",x2:"5",y2:"20"},child:[]},{tag:"line",attr:{x1:"15",y1:"4",x2:"9",y2:"20"},child:[]}]})(e)}function Jy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function Xy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function Zy(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(e)}function ev(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"9.17",y2:"9.17"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"14.83",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"19.07",y2:"4.93"},child:[]},{tag:"line",attr:{x1:"14.83",y1:"9.17",x2:"18.36",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"9.17",y2:"14.83"},child:[]}]})(e)}function tv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function x0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(e)}function rv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(e)}function p0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function qa(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function y0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function nv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function sv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function wt(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Js(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function iv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(e)}function av(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"polyline",attr:{points:"9 21 3 21 3 15"},child:[]},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(e)}function ov(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(e)}function lv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"8",y1:"15",x2:"16",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function v0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function cv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function Ic(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function dv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"},child:[]},{tag:"path",attr:{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(e)}function uv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(e)}function hv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"},child:[]},{tag:"polyline",attr:{points:"20 10 14 10 14 4"},child:[]},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(e)}function fv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"},child:[]}]})(e)}function mv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function gv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function xv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function pv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(e)}function yv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function vv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(e)}function wv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(e)}function jv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"},child:[]},{tag:"path",attr:{d:"M13 13l6 6"},child:[]}]})(e)}function bv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"5 9 2 12 5 15"},child:[]},{tag:"polyline",attr:{points:"9 5 12 2 15 5"},child:[]},{tag:"polyline",attr:{points:"15 19 12 22 9 19"},child:[]},{tag:"polyline",attr:{points:"19 9 22 12 19 15"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"22"},child:[]}]})(e)}function ts(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(e)}function kv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 19 21 12 17 5 21 12 2"},child:[]}]})(e)}function _v(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(e)}function Nv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]}]})(e)}function Sv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Cv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function Lv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"10",y1:"15",x2:"10",y2:"9"},child:[]},{tag:"line",attr:{x1:"14",y1:"15",x2:"14",y2:"9"},child:[]}]})(e)}function Ev(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(e)}function Tv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(e)}function Pv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(e)}function Dv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Mv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"19 1 23 5 19 9"},child:[]},{tag:"line",attr:{x1:"15",y1:"5",x2:"23",y2:"5"},child:[]},{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Ov(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 2 16 8 22 8"},child:[]},{tag:"line",attr:{x1:"23",y1:"1",x2:"16",y2:"8"},child:[]},{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Fv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"23",y1:"1",x2:"17",y2:"7"},child:[]},{tag:"line",attr:{x1:"17",y1:"1",x2:"23",y2:"7"},child:[]},{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Av(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"},child:[]},{tag:"line",attr:{x1:"23",y1:"1",x2:"1",y2:"23"},child:[]}]})(e)}function $v(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 7 23 1 17 1"},child:[]},{tag:"line",attr:{x1:"16",y1:"8",x2:"23",y2:"1"},child:[]},{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Xs(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Iv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function Rv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(e)}function Zs(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function Bv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function Wv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function Zt(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function zv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"},child:[]},{tag:"polyline",attr:{points:"8 10 12 14 16 10"},child:[]}]})(e)}function Uv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18.36 6.64a9 9 0 1 1-12.73 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"12"},child:[]}]})(e)}function Hv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function Vv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]},{tag:"path",attr:{d:"M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"},child:[]}]})(e)}function qv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(e)}function Rc(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Gv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"},child:[]},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"},child:[]},{tag:"polyline",attr:{points:"7 23 3 19 7 15"},child:[]},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"},child:[]}]})(e)}function Kv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 19 2 12 11 5 11 19"},child:[]},{tag:"polygon",attr:{points:"22 19 13 12 22 5 22 19"},child:[]}]})(e)}function Yv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(e)}function Qv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"path",attr:{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"},child:[]}]})(e)}function Jv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 11a9 9 0 0 1 9 9"},child:[]},{tag:"path",attr:{d:"M4 4a16 16 0 0 1 16 16"},child:[]},{tag:"circle",attr:{cx:"5",cy:"19",r:"1"},child:[]}]})(e)}function rs(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function Xv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"4",x2:"8.12",y2:"15.88"},child:[]},{tag:"line",attr:{x1:"14.47",y1:"14.48",x2:"20",y2:"20"},child:[]},{tag:"line",attr:{x1:"8.12",y1:"8.12",x2:"12",y2:"12"},child:[]}]})(e)}function ei(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Zv(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function ew(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"6.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"6",y1:"18",x2:"6.01",y2:"18"},child:[]}]})(e)}function Al(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function tw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}function rw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"},child:[]},{tag:"polyline",attr:{points:"16 6 12 2 8 6"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"15"},child:[]}]})(e)}function nw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"},child:[]},{tag:"path",attr:{d:"M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function rn(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function sw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function iw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function aw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 3 21 3 21 8"},child:[]},{tag:"line",attr:{x1:"4",y1:"20",x2:"21",y2:"3"},child:[]},{tag:"polyline",attr:{points:"21 16 21 21 16 21"},child:[]},{tag:"line",attr:{x1:"15",y1:"15",x2:"21",y2:"21"},child:[]},{tag:"line",attr:{x1:"4",y1:"4",x2:"9",y2:"9"},child:[]}]})(e)}function ow(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"9",y1:"3",x2:"9",y2:"21"},child:[]}]})(e)}function lw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"19 20 9 12 19 4 19 20"},child:[]},{tag:"line",attr:{x1:"5",y1:"19",x2:"5",y2:"5"},child:[]}]})(e)}function cw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 4 15 12 5 20 5 4"},child:[]},{tag:"line",attr:{x1:"19",y1:"5",x2:"19",y2:"19"},child:[]}]})(e)}function dw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"},child:[]},{tag:"path",attr:{d:"M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]},{tag:"path",attr:{d:"M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"},child:[]},{tag:"path",attr:{d:"M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"},child:[]},{tag:"path",attr:{d:"M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"},child:[]},{tag:"path",attr:{d:"M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"},child:[]},{tag:"path",attr:{d:"M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"},child:[]},{tag:"path",attr:{d:"M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"},child:[]}]})(e)}function uw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"},child:[]}]})(e)}function hw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"},child:[]},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"},child:[]},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"},child:[]},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"},child:[]},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"},child:[]}]})(e)}function fw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function mw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function gw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"14",r:"4"},child:[]},{tag:"line",attr:{x1:"12",y1:"6",x2:"12.01",y2:"6"},child:[]}]})(e)}function xw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]}]})(e)}function w0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function pw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]}]})(e)}function j0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function yw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 18a5 5 0 0 0-10 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"9"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64"},child:[]},{tag:"line",attr:{x1:"1",y1:"18",x2:"3",y2:"18"},child:[]},{tag:"line",attr:{x1:"21",y1:"18",x2:"23",y2:"18"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22"},child:[]},{tag:"line",attr:{x1:"23",y1:"22",x2:"1",y2:"22"},child:[]},{tag:"polyline",attr:{points:"8 6 12 2 16 6"},child:[]}]})(e)}function vw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 18a5 5 0 0 0-10 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"2"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"10.22",x2:"5.64",y2:"11.64"},child:[]},{tag:"line",attr:{x1:"1",y1:"18",x2:"3",y2:"18"},child:[]},{tag:"line",attr:{x1:"21",y1:"18",x2:"23",y2:"18"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"11.64",x2:"19.78",y2:"10.22"},child:[]},{tag:"line",attr:{x1:"23",y1:"22",x2:"1",y2:"22"},child:[]},{tag:"polyline",attr:{points:"16 5 12 9 8 5"},child:[]}]})(e)}function ww(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"},child:[]}]})(e)}function jw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function bw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function kw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function _w(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 17 10 11 4 5"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"20",y2:"19"},child:[]}]})(e)}function Nw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"},child:[]}]})(e)}function Sw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"},child:[]}]})(e)}function Cw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(e)}function Lw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(e)}function Ew(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(e)}function Tw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(e)}function Ga(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Pw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(e)}function Dw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"7",y:"7",width:"3",height:"9"},child:[]},{tag:"rect",attr:{x:"14",y:"7",width:"3",height:"5"},child:[]}]})(e)}function Mw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(e)}function b0(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function Ow(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]}]})(e)}function Fw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function Aw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(e)}function $w(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"},child:[]}]})(e)}function Iw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(e)}function Rw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(e)}function Bw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"},child:[]}]})(e)}function Ww(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"},child:[]},{tag:"line",attr:{x1:"4",y1:"21",x2:"20",y2:"21"},child:[]}]})(e)}function zw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(e)}function Uw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(e)}function Hw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function Vw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function qw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function ti(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function Gw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function at(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Rr(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Kw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Yw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(e)}function Qw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"5.5",cy:"11.5",r:"4.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"11.5",r:"4.5"},child:[]},{tag:"line",attr:{x1:"5.5",y1:"16",x2:"18.5",y2:"16"},child:[]}]})(e)}function Jw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"path",attr:{d:"M15.54 8.46a5 5 0 0 1 0 7.07"},child:[]}]})(e)}function Xw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"},child:[]}]})(e)}function Zw(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"},child:[]},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"},child:[]}]})(e)}function ej(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]}]})(e)}function tj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"7"},child:[]},{tag:"polyline",attr:{points:"12 9 12 12 13.5 13.5"},child:[]},{tag:"path",attr:{d:"M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"},child:[]}]})(e)}function rj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"},child:[]},{tag:"path",attr:{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"},child:[]},{tag:"path",attr:{d:"M10.71 5.05A16 16 0 0 1 22.58 9"},child:[]},{tag:"path",attr:{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function nj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function sj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"},child:[]}]})(e)}function ij(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function aj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function oj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]}]})(e)}function rt(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function lj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"},child:[]},{tag:"polygon",attr:{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"},child:[]}]})(e)}function cj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"12.41 6.75 13 2 10.57 4.92"},child:[]},{tag:"polyline",attr:{points:"18.57 12.91 21 10 15.66 10"},child:[]},{tag:"polyline",attr:{points:"8 8 3 14 12 14 11 22 16 16"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function dj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}function uj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(e)}function hj(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(e)}const fj=Object.freeze(Object.defineProperty({__proto__:null,FiActivity:W2,FiAirplay:z2,FiAlertCircle:Ne,FiAlertOctagon:U2,FiAlertTriangle:fr,FiAlignCenter:H2,FiAlignJustify:V2,FiAlignLeft:q2,FiAlignRight:G2,FiAnchor:K2,FiAperture:Y2,FiArchive:Q2,FiArrowDown:e1,FiArrowDownCircle:J2,FiArrowDownLeft:X2,FiArrowDownRight:Z2,FiArrowLeft:Va,FiArrowLeftCircle:t1,FiArrowRight:n1,FiArrowRightCircle:r1,FiArrowUp:o1,FiArrowUpCircle:s1,FiArrowUpLeft:i1,FiArrowUpRight:a1,FiAtSign:l1,FiAward:c1,FiBarChart:u1,FiBarChart2:d1,FiBattery:f1,FiBatteryCharging:h1,FiBell:g1,FiBellOff:m1,FiBluetooth:x1,FiBold:p1,FiBook:v1,FiBookOpen:y1,FiBookmark:w1,FiBox:j1,FiBriefcase:b1,FiCalendar:Me,FiCamera:_1,FiCameraOff:k1,FiCast:N1,FiCheck:Ke,FiCheckCircle:S1,FiCheckSquare:C1,FiChevronDown:wa,FiChevronLeft:d0,FiChevronRight:u0,FiChevronUp:Ol,FiChevronsDown:L1,FiChevronsLeft:E1,FiChevronsRight:T1,FiChevronsUp:P1,FiChrome:D1,FiCircle:M1,FiClipboard:O1,FiClock:Ye,FiCloud:B1,FiCloudDrizzle:F1,FiCloudLightning:A1,FiCloudOff:$1,FiCloudRain:I1,FiCloudSnow:R1,FiCode:W1,FiCodepen:z1,FiCodesandbox:U1,FiCoffee:H1,FiColumns:V1,FiCommand:q1,FiCompass:G1,FiCopy:K1,FiCornerDownLeft:Y1,FiCornerDownRight:Q1,FiCornerLeftDown:J1,FiCornerLeftUp:X1,FiCornerRightDown:Z1,FiCornerRightUp:ey,FiCornerUpLeft:ty,FiCornerUpRight:ry,FiCpu:ny,FiCreditCard:sy,FiCrop:iy,FiCrosshair:ay,FiDatabase:Fl,FiDelete:oy,FiDisc:ly,FiDivide:uy,FiDivideCircle:cy,FiDivideSquare:dy,FiDollarSign:Gn,FiDownload:fy,FiDownloadCloud:hy,FiDribbble:my,FiDroplet:gy,FiEdit:py,FiEdit2:es,FiEdit3:xy,FiExternalLink:h0,FiEye:vy,FiEyeOff:yy,FiFacebook:wy,FiFastForward:jy,FiFeather:by,FiFigma:ky,FiFile:Sy,FiFileMinus:_y,FiFilePlus:Ny,FiFileText:$c,FiFilm:Cy,FiFilter:f0,FiFlag:Ly,FiFolder:Py,FiFolderMinus:Ey,FiFolderPlus:Ty,FiFramer:Dy,FiFrown:My,FiGift:Oy,FiGitBranch:Fy,FiGitCommit:Ay,FiGitMerge:$y,FiGitPullRequest:Iy,FiGithub:Ry,FiGitlab:By,FiGlobe:Wy,FiGrid:m0,FiHardDrive:zy,FiHash:Uy,FiHeadphones:Hy,FiHeart:g0,FiHelpCircle:Vy,FiHexagon:qy,FiHome:Kn,FiImage:Gy,FiInbox:Ky,FiInfo:Ir,FiInstagram:Yy,FiItalic:Qy,FiKey:Jy,FiLayers:Xy,FiLayout:Zy,FiLifeBuoy:ev,FiLink:x0,FiLink2:tv,FiLinkedin:rv,FiList:p0,FiLoader:qa,FiLock:y0,FiLogIn:nv,FiLogOut:sv,FiMail:wt,FiMap:iv,FiMapPin:Js,FiMaximize:ov,FiMaximize2:av,FiMeh:lv,FiMenu:v0,FiMessageCircle:cv,FiMessageSquare:Ic,FiMic:uv,FiMicOff:dv,FiMinimize:fv,FiMinimize2:hv,FiMinus:xv,FiMinusCircle:mv,FiMinusSquare:gv,FiMonitor:pv,FiMoon:yv,FiMoreHorizontal:vv,FiMoreVertical:wv,FiMousePointer:jv,FiMove:bv,FiMusic:ts,FiNavigation:_v,FiNavigation2:kv,FiOctagon:Nv,FiPackage:Sv,FiPaperclip:Cv,FiPause:Ev,FiPauseCircle:Lv,FiPenTool:Tv,FiPercent:Pv,FiPhone:Xs,FiPhoneCall:Dv,FiPhoneForwarded:Mv,FiPhoneIncoming:Ov,FiPhoneMissed:Fv,FiPhoneOff:Av,FiPhoneOutgoing:$v,FiPieChart:Iv,FiPlay:Zs,FiPlayCircle:Rv,FiPlus:Zt,FiPlusCircle:Bv,FiPlusSquare:Wv,FiPocket:zv,FiPower:Uv,FiPrinter:Hv,FiRadio:Vv,FiRefreshCcw:qv,FiRefreshCw:Rc,FiRepeat:Gv,FiRewind:Kv,FiRotateCcw:Yv,FiRotateCw:Qv,FiRss:Jv,FiSave:rs,FiScissors:Xv,FiSearch:ei,FiSend:Zv,FiServer:ew,FiSettings:Al,FiShare:rw,FiShare2:tw,FiShield:rn,FiShieldOff:nw,FiShoppingBag:sw,FiShoppingCart:iw,FiShuffle:aw,FiSidebar:ow,FiSkipBack:lw,FiSkipForward:cw,FiSlack:dw,FiSlash:uw,FiSliders:hw,FiSmartphone:fw,FiSmile:mw,FiSpeaker:gw,FiSquare:xw,FiStar:w0,FiStopCircle:pw,FiSun:j0,FiSunrise:yw,FiSunset:vw,FiTable:ww,FiTablet:jw,FiTag:bw,FiTarget:kw,FiTerminal:_w,FiThermometer:Nw,FiThumbsDown:Sw,FiThumbsUp:Cw,FiToggleLeft:Lw,FiToggleRight:Ew,FiTool:Tw,FiTrash:Pw,FiTrash2:Ga,FiTrello:Dw,FiTrendingDown:Mw,FiTrendingUp:b0,FiTriangle:Ow,FiTruck:Fw,FiTv:Aw,FiTwitch:$w,FiTwitter:Iw,FiType:Rw,FiUmbrella:Bw,FiUnderline:Ww,FiUnlock:zw,FiUpload:Hw,FiUploadCloud:Uw,FiUser:at,FiUserCheck:Vw,FiUserMinus:qw,FiUserPlus:ti,FiUserX:Gw,FiUsers:Rr,FiVideo:Yw,FiVideoOff:Kw,FiVoicemail:Qw,FiVolume:ej,FiVolume1:Jw,FiVolume2:Xw,FiVolumeX:Zw,FiWatch:tj,FiWifi:nj,FiWifiOff:rj,FiWind:sj,FiX:rt,FiXCircle:ij,FiXOctagon:aj,FiXSquare:oj,FiYoutube:lj,FiZap:dj,FiZapOff:cj,FiZoomIn:uj,FiZoomOut:hj},Symbol.toStringTag,{value:"Module"})),b=({icon:e,name:t,...r})=>{let n;try{n=e||t&&fj[`Fi${t}`]}catch{n=null}return n?Ze.createElement(n,r):s.jsx(fr,{...r})},mj=({onAuthSuccess:e})=>{const[t,r]=k.useState(!0),[n,i]=k.useState(""),[a,o]=k.useState(""),[l,c]=k.useState(!1),[d,u]=k.useState(""),h=async f=>{f.preventDefault(),c(!0),u("");try{let y;if(t?y=await X.auth.signInWithPassword({email:n,password:a}):y=await X.auth.signUp({email:n,password:a}),y.error)throw y.error;y.data.user&&e(y.data.user)}catch(y){console.error("Auth error:",y),u(y.message||"An error occurred during authentication")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-red-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-red-400 rounded-2xl flex items-center justify-center mx-auto mb-4",children:s.jsx(b,{icon:ts,className:"text-white text-2xl"})}),s.jsx("img",{src:"https://vdjxrusqywiraonfwujq.supabase.co/storage/v1/object/public/mmsmedia/icons/MyMusicStudioLogo.png",alt:"My Music Studio",className:"max-w-[250px] h-auto mx-auto mb-6",style:{maxWidth:"100%"},onError:f=>{f.target.onerror=null,f.target.parentElement.className="w-16 h-16 bg-gradient-to-br from-orange-400 to-red-400 rounded-2xl flex items-center justify-center mx-auto mb-4",f.target.remove();const y=document.createElement("div");y.innerHTML='<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="text-white text-2xl" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>',f.target.parentElement.appendChild(y)}}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Teacher Dashboard"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:t?"Welcome Back":"Create Account"}),d&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsx("p",{className:"text-red-600 text-sm",children:d})]})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(b,{icon:wt,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"email",value:n,onChange:f=>i(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(b,{icon:y0,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"password",value:a,onChange:f=>o(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent",placeholder:"Enter your password",required:!0})]})]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-orange-400 to-red-400 text-white py-3 rounded-xl font-medium hover:from-orange-500 hover:to-red-500 transition-all duration-200 disabled:opacity-50",children:l?"Please wait...":t?"Sign In":"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{onClick:()=>r(!t),className:"text-orange-600 hover:text-orange-700 font-medium",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})},gj=({availableSchools:e,onSelectSchool:t})=>{const[r,n]=k.useState(null),i=a=>{a.preventDefault(),r&&t(r)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-red-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-auto h-auto mx-auto mb-6",children:s.jsx("img",{src:"https://vdjxrusqywiraonfwujq.supabase.co/storage/v1/object/public/mmsmedia/icons/MyMusicStudioLogo.png",alt:"My Music Studio Logo",className:"max-w-[250px] h-auto mx-auto object-contain",onError:a=>{a.target.onerror=null,a.target.parentElement.className="w-16 h-16 bg-gradient-to-br from-orange-400 to-red-400 rounded-2xl flex items-center justify-center mx-auto mb-4",a.target.remove();const o=document.createElement("div");o.innerHTML='<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="text-white text-2xl" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>',a.target.parentElement.appendChild(o)}})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Select Your School"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Choose which school you'd like to access"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6 text-center",children:"Available Schools"}),s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:e.map(a=>s.jsxs("label",{className:`block w-full p-4 border rounded-xl cursor-pointer transition-all duration-200 ${r===a.schoolId?"border-orange-400 bg-orange-50 shadow-md":"border-gray-200 hover:border-orange-200 hover:bg-orange-25"}`,children:[s.jsx("input",{type:"radio",name:"school",value:a.schoolId,checked:r===a.schoolId,onChange:o=>n(o.target.value),className:"sr-only"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-400 to-teal-500 rounded-xl flex items-center justify-center",children:s.jsx(b,{icon:at,className:"text-white text-lg"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-800",children:a.schoolName}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(b,{icon:at,className:"text-xs"}),s.jsx("span",{children:"Teacher"}),a.isAdmin&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx(b,{icon:rn,className:"text-xs text-amber-600"}),s.jsx("span",{className:"text-amber-600",children:"Admin"})]})]})]})]}),s.jsx(b,{icon:u0,className:`text-gray-400 transition-colors ${r===a.schoolId?"text-orange-500":""}`})]})]},a.schoolId))}),s.jsx("button",{type:"submit",disabled:!r,className:"w-full bg-gradient-to-r from-orange-400 to-red-400 text-white py-3 rounded-xl font-medium hover:from-orange-500 hover:to-red-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:"Access School Dashboard"})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Don't see your school? Contact your administrator."})})]})]})})},xj=({activeSection:e,onSectionChange:t})=>{const[r,n]=k.useState(!1),[i,a]=k.useState(!1),o=[{id:"dashboard",icon:Kn,label:"Dashboard"},{id:"students",icon:Rr,label:"Students"},{id:"timetable",icon:Ye,label:"Timetable"},{id:"lessons",icon:Me,label:"Lessons"},{id:"calendar",icon:Me,label:"Calendar"}],l=()=>{n(!r)},c=()=>{r&&a(!0)},d=()=>{a(!1)},u=f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),l())},h=!r||i;return s.jsxs("nav",{className:`bg-gradient-to-b from-amber-50 to-orange-50 min-h-screen border-r border-orange-100 shadow-sm transition-all duration-300 ease-in-out ${h?"w-64":"w-20"}`,onMouseEnter:c,onMouseLeave:d,role:"navigation","aria-label":"Main navigation",children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h&&s.jsx("div",{className:"flex flex-col items-center justify-center transition-opacity duration-300 w-full",children:s.jsx("img",{src:"https://vdjxrusqywiraonfwujq.supabase.co/storage/v1/object/public/mmsmedia/icons/MyMusicStudioLogo.png",alt:"My Music Studio Logo",className:"h-auto w-48 mb-2 object-contain",onError:f=>{f.target.onerror=null,f.target.style.display="none";const y=document.createElement("h1");y.className="text-xl font-bold text-gray-800 whitespace-nowrap",y.textContent="Music Studio",f.target.parentNode.appendChild(y)}})}),s.jsx("button",{onClick:l,onKeyDown:u,className:`p-2 rounded-xl transition-all duration-200 hover:bg-white/50 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2 ${h?"ml-auto":"mx-auto mt-2"}`,"aria-label":r?"Expand sidebar":"Collapse sidebar","aria-expanded":!r,tabIndex:0,children:s.jsx(b,{icon:r?v0:d0,className:"text-xl text-gray-600 hover:text-orange-600 transition-colors"})})]}),s.jsx("div",{className:"space-y-2",children:o.map(f=>s.jsxs("button",{onClick:()=>t(f.id),className:`w-full flex items-center transition-all duration-200 rounded-xl group relative ${h?"px-4 py-3 space-x-3":"px-3 py-4 justify-center"} ${e===f.id?"bg-white shadow-md text-orange-600 border border-orange-100":"text-gray-700 hover:bg-white/50 hover:text-orange-600"}`,"aria-label":f.label,"aria-current":e===f.id?"page":void 0,children:[s.jsx(b,{icon:f.icon,className:`transition-colors ${h?"text-xl":"text-2xl mx-auto"}`}),h&&s.jsx("span",{className:"font-medium whitespace-nowrap overflow-hidden transition-opacity duration-300",children:f.label}),r&&!i&&s.jsxs("div",{className:"absolute left-full ml-3 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:[f.label,s.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-800 rotate-45"})]})]},f.id))})]}),r&&!i&&s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:s.jsx("div",{className:"w-8 h-1 bg-orange-200 rounded-full"})})]})},pj=({student:e})=>{const t=()=>{window.location.hash=`#view-student-${e.id}`};return s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:t,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-400 to-teal-500 rounded-xl flex items-center justify-center",children:s.jsx(b,{icon:ts,className:"text-white text-lg"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-800 hover:text-teal-600 transition-colors",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.instrument})]})]})})},k0=6048e5,yj=864e5,_0=6e4,N0=36e5,xu=Symbol.for("constructDateFrom");function bt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&xu in e?e[xu](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ue(e,t){return bt(t||e,e)}function di(e,t,r){const n=Ue(e,r==null?void 0:r.in);return isNaN(t)?bt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let vj={};function ui(){return vj}function zt(e,t){var l,c,d,u;const r=ui(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=Ue(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ja(e,t){return zt(e,{...t,weekStartsOn:1})}function S0(e,t){const r=Ue(e,t==null?void 0:t.in),n=r.getFullYear(),i=bt(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=ja(i),o=bt(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=ja(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function pu(e){const t=Ue(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function C0(e,...t){const r=bt.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function $l(e,t){const r=Ue(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function wj(e,t,r){const[n,i]=C0(r==null?void 0:r.in,e,t),a=$l(n),o=$l(i),l=+a-pu(a),c=+o-pu(o);return Math.round((l-c)/yj)}function jj(e,t){const r=S0(e,t),n=bt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),ja(n)}function L0(e,t,r){return di(e,t*7,r)}function bj(e){return bt(e,Date.now())}function kj(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _j(e){return!(!kj(e)&&typeof e!="number"||isNaN(+Ue(e)))}function Nj(e,t){const[r,n]=C0(e,t.start,t.end);return{start:r,end:n}}function Sj(e,t){const{start:r,end:n}=Nj(t==null?void 0:t.in,e);let i=+r>+n;const a=zt(i?n:r,t),o=zt(i?r:n,t);a.setHours(15),o.setHours(15);const l=+o.getTime();let c=a,d=(t==null?void 0:t.step)??1;if(!d)return[];d<0&&(d=-d,i=!i);const u=[];for(;+c<=l;)c.setHours(0),u.push(bt(r,c)),c=L0(c,d),c.setHours(15);return i?u.reverse():u}function Cj(e,t){const r=Ue(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function yu(e,t){var l,c,d,u;const r=ui(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=Ue(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const Lj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ej=(e,t,r)=>{let n;const i=Lj[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Eo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Tj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mj={date:Eo({formats:Tj,defaultWidth:"full"}),time:Eo({formats:Pj,defaultWidth:"full"}),dateTime:Eo({formats:Dj,defaultWidth:"full"})},Oj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fj=(e,t,r,n)=>Oj[e];function fs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Aj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$j={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ij={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zj=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Uj={ordinalNumber:zj,era:fs({values:Aj,defaultWidth:"wide"}),quarter:fs({values:$j,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fs({values:Ij,defaultWidth:"wide"}),day:fs({values:Rj,defaultWidth:"wide"}),dayPeriod:fs({values:Bj,defaultWidth:"wide",formattingValues:Wj,defaultFormattingWidth:"wide"})};function ms(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Vj(l,h=>h.test(o)):Hj(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Hj(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Vj(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function qj(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Gj=/^(\d+)(th|st|nd|rd)?/i,Kj=/\d+/i,Yj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qj={any:[/^b/i,/^(a|c)/i]},Jj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xj={any:[/1/i,/2/i,/3/i,/4/i]},Zj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rb={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ib={ordinalNumber:qj({matchPattern:Gj,parsePattern:Kj,valueCallback:e=>parseInt(e,10)}),era:ms({matchPatterns:Yj,defaultMatchWidth:"wide",parsePatterns:Qj,defaultParseWidth:"any"}),quarter:ms({matchPatterns:Jj,defaultMatchWidth:"wide",parsePatterns:Xj,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ms({matchPatterns:Zj,defaultMatchWidth:"wide",parsePatterns:eb,defaultParseWidth:"any"}),day:ms({matchPatterns:tb,defaultMatchWidth:"wide",parsePatterns:rb,defaultParseWidth:"any"}),dayPeriod:ms({matchPatterns:nb,defaultMatchWidth:"any",parsePatterns:sb,defaultParseWidth:"any"})},ab={code:"en-US",formatDistance:Ej,formatLong:Mj,formatRelative:Fj,localize:Uj,match:ib,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ob(e,t){const r=Ue(e,t==null?void 0:t.in);return wj(r,Cj(r))+1}function lb(e,t){const r=Ue(e,t==null?void 0:t.in),n=+ja(r)-+jj(r);return Math.round(n/k0)+1}function E0(e,t){var u,h,f,y;const r=Ue(e,t==null?void 0:t.in),n=r.getFullYear(),i=ui(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(f=i.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??1,o=bt((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=zt(o,t),c=bt((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=zt(c,t);return+r>=+l?n+1:+r>=+d?n:n-1}function cb(e,t){var l,c,d,u;const r=ui(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=E0(e,t),a=bt((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),zt(a,t)}function db(e,t){const r=Ue(e,t==null?void 0:t.in),n=+zt(r,t)-+cb(r,t);return Math.round(n/k0)+1}function ye(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const vr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ye(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ye(r+1,2)},d(e,t){return ye(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ye(e.getHours()%12||12,t.length)},H(e,t){return ye(e.getHours(),t.length)},m(e,t){return ye(e.getMinutes(),t.length)},s(e,t){return ye(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ye(i,t.length)}},yn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vu={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return vr.y(e,t)},Y:function(e,t,r,n){const i=E0(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return ye(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ye(a,t.length)},R:function(e,t){const r=S0(e);return ye(r,t.length)},u:function(e,t){const r=e.getFullYear();return ye(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ye(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ye(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return vr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ye(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=db(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ye(i,t.length)},I:function(e,t,r){const n=lb(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ye(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):vr.d(e,t)},D:function(e,t,r){const n=ob(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ye(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ye(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ye(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ye(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=yn.noon:n===0?i=yn.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=yn.evening:n>=12?i=yn.afternoon:n>=4?i=yn.morning:i=yn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):vr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ye(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):vr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):vr.s(e,t)},S:function(e,t){return vr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ju(n);case"XXXX":case"XX":return Yr(n);case"XXXXX":case"XXX":default:return Yr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ju(n);case"xxxx":case"xx":return Yr(n);case"xxxxx":case"xxx":default:return Yr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wu(n,":");case"OOOO":default:return"GMT"+Yr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wu(n,":");case"zzzz":default:return"GMT"+Yr(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return ye(n,t.length)},T:function(e,t,r){return ye(+e,t.length)}};function wu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+ye(a,2)}function ju(e,t){return e%60===0?(e>0?"-":"+")+ye(Math.abs(e)/60,2):Yr(e,t)}function Yr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=ye(Math.trunc(n/60),2),a=ye(n%60,2);return r+i+t+a}const bu=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},T0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ub=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return bu(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",bu(n,t)).replace("{{time}}",T0(i,t))},hb={p:T0,P:ub},fb=/^D+$/,mb=/^Y+$/,gb=["D","DD","YY","YYYY"];function xb(e){return fb.test(e)}function pb(e){return mb.test(e)}function yb(e,t,r){const n=vb(e,t,r);if(console.warn(n),gb.includes(e))throw new RangeError(n)}function vb(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bb=/^'([^]*?)'?$/,kb=/''/g,_b=/[a-zA-Z]/;function ee(e,t,r){var u,h,f,y;const n=ui(),i=n.locale??ab,a=n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((y=(f=n.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,l=Ue(e,r==null?void 0:r.in);if(!_j(l))throw new RangeError("Invalid time value");let c=t.match(jb).map(v=>{const _=v[0];if(_==="p"||_==="P"){const N=hb[_];return N(v,i.formatLong)}return v}).join("").match(wb).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const _=v[0];if(_==="'")return{isToken:!1,value:Nb(v)};if(vu[_])return{isToken:!0,value:v};if(_.match(_b))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const _=v.value;(pb(_)||xb(_))&&yb(_,t,String(e));const N=vu[_[0]];return N(l,_,i.localize,d)}).join("")}function Nb(e){const t=e.match(bb);return t?t[1].replace(kb,"'"):e}function Sb(e,t){return+Ue(e)>+Ue(t)}function Cb(e,t){return+Ue(e)<+Ue(t)}function Lb(e,t,r){return di(e,-7,r)}function Eb(e,t){const r=()=>bt(t==null?void 0:t.in,NaN),i=Mb(e);let a;if(i.date){const d=Ob(i.date,2);a=Fb(d.restDateString,d.year)}if(!a||isNaN(+a))return r();const o=+a;let l=0,c;if(i.time&&(l=Ab(i.time),isNaN(l)))return r();if(i.timezone){if(c=$b(i.timezone),isNaN(c))return r()}else{const d=new Date(o+l),u=Ue(0,t==null?void 0:t.in);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return Ue(o+l+c,t==null?void 0:t.in)}const Mi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Tb=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Pb=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Db=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Mb(e){const t={},r=e.split(Mi.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Mi.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Mi.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Mi.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Ob(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function Fb(e,t){if(t===null)return new Date(NaN);const r=e.match(Tb);if(!r)return new Date(NaN);const n=!!r[4],i=gs(r[1]),a=gs(r[2])-1,o=gs(r[3]),l=gs(r[4]),c=gs(r[5])-1;if(n)return zb(t,l,c)?Ib(t,l,c):new Date(NaN);{const d=new Date(0);return!Bb(t,a,o)||!Wb(t,i)?new Date(NaN):(d.setUTCFullYear(t,a,Math.max(i,o)),d)}}function gs(e){return e?parseInt(e):1}function Ab(e){const t=e.match(Pb);if(!t)return NaN;const r=To(t[1]),n=To(t[2]),i=To(t[3]);return Ub(r,n,i)?r*N0+n*_0+i*1e3:NaN}function To(e){return e&&parseFloat(e.replace(",","."))||0}function $b(e){if(e==="Z")return 0;const t=e.match(Db);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Hb(n,i)?r*(n*N0+i*_0):NaN}function Ib(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const Rb=[31,null,31,30,31,30,31,31,30,31,30,31];function P0(e){return e%400===0||e%4===0&&e%100!==0}function Bb(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Rb[t]||(P0(e)?29:28))}function Wb(e,t){return t>=1&&t<=(P0(e)?366:365)}function zb(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Ub(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Hb(e,t){return t>=0&&t<=59}function Vb(e){return $l(Date.now(),e)}function qb(e){const t=bj(e==null?void 0:e.in),r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=bt(e==null?void 0:e.in,0);return a.setFullYear(r,n,i+1),a.setHours(0,0,0,0),a}const Gb=({lesson:e,isLoading:t})=>{const r=new Date(e.scheduled_time),n=ee(r,"yyyy-MM-dd")===ee(new Date,"yyyy-MM-dd");return s.jsxs("div",{className:`bg-white rounded-xl p-4 shadow-sm border transition-all duration-200 hover:shadow-md cursor-pointer ${n?"border-orange-200 bg-orange-50":"border-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(b,{icon:at,className:"text-gray-500"}),s.jsx("span",{className:"font-semibold text-gray-800",children:e.student_name})]}),s.jsx("div",{className:`px-2 py-1 rounded-lg text-xs font-medium ${n?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:n?"Today":ee(r,"EEEE, MMM d")})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(b,{icon:Ye,className:"text-xs"}),s.jsx("span",{children:ee(r,"h:mm a")})]}),s.jsx("span",{className:"capitalize",children:e.instrument}),s.jsxs("span",{children:[e.duration_min," min"]})]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100 flex items-center justify-end",children:t?s.jsxs("div",{className:"text-xs text-blue-600 flex items-center space-x-1",children:[s.jsx(b,{icon:qa,className:"animate-spin"}),s.jsx("span",{children:"Opening..."})]}):s.jsxs("div",{className:"text-xs text-blue-600 flex items-center space-x-1",children:[s.jsx(b,{icon:$c}),s.jsx("span",{children:"View/Edit Notes"})]})})]})},Kb=()=>{const e=window.location.hostname;return e.includes("netlify.app")?"https://glowing-mooncake-946c37.netlify.app":e==="www.mymusicstudio.app"?"https://lessons.mymusicstudio.app":"https://glowing-mooncake-946c37.netlify.app"},D0=async(e,t)=>{var r;try{console.log(" Opening notes for lesson:",e);const{data:n,error:i}=await X.from("lesson_notes").select("id").eq("lesson_id",e).maybeSingle();if(i)throw new Error(`Error checking for existing notes: ${i.message}`);let a;if(n)console.log(" Found existing lesson notes"),a=n.id;else{console.log(" Creating new lesson notes");const{data:u,error:h}=await X.from("lessons").select("teacher_id, student_id, scheduled_time, students(name)").eq("id",e).single();if(h)throw new Error(`Error fetching lesson details: ${h.message}`);const f=new Date(u.scheduled_time),y=ee(f,"MMMM d, yyyy"),v=((r=u.students)==null?void 0:r.name)||"Student",{data:_,error:N}=await X.from("lesson_notes").insert({lesson_id:e,teacher_id:u.teacher_id,student_id:u.student_id,lesson_datetime:u.scheduled_time,title:`${v} - Lesson on ${y}`,content:{type:"doc",content:[]}}).select().single();if(N)throw new Error(`Error creating new lesson notes: ${N.message}`);console.log(" Created new lesson notes:",_.id),a=_.id}const{data:{session:o}}=await X.auth.getSession(),l=o==null?void 0:o.access_token;let d=`${Kb()}/view?note_id=${a}`;l?(d+=`&token=${l}`,console.log(" Adding auth token to notes URL")):console.warn(" No auth token available for notes handoff"),console.log(" Opening notes URL:",d),window.open(d,"_blank")}catch(n){console.error(" Error handling lesson click:",n),t&&t(n.message)}},ku=()=>{const{currentUserID:e,currentSchoolID:t,userIsAdmin:r,user:n,availableSchools:i,selectSchool:a}=Mt(),[o,l]=k.useState([]),[c,d]=k.useState([]),[u,h]=k.useState(!0),[f,y]=k.useState(null),[v,_]=k.useState({totalStudents:0,lessonsThisWeek:0,completionRate:0}),[N,m]=k.useState(!1),[g,x]=k.useState(null);k.useEffect(()=>{e&&t&&w()},[e,t]);const w=async()=>{try{h(!0);const{data:P,error:L}=await X.from("schools").select("id, name").eq("id",t).single();L?console.error("Error fetching school data:",L):y(P);const{data:M,error:U}=await X.from("students").select("*").eq("teacher_id",e).order("name");if(U)throw U;const te=new Date,Z=di(te,7),{data:ae,error:Y}=await X.from("lessons").select(`
          *,
          students (
            name,
            instrument
          )
        `).eq("teacher_id",e).gte("scheduled_time",te.toISOString()).lte("scheduled_time",Z.toISOString()).order("scheduled_time");if(Y)throw Y;const D=ae.map(I=>{var j,F;return{...I,student_name:((j=I.students)==null?void 0:j.name)||"Unknown Student",instrument:((F=I.students)==null?void 0:F.instrument)||"Unknown"}});l(M||[]),d(D||[]),_({totalStudents:(M==null?void 0:M.length)||0,lessonsThisWeek:(D==null?void 0:D.length)||0,completionRate:95})}catch(P){console.error("Error fetching dashboard data:",P)}finally{h(!1)}},T=()=>{i.length>1&&m(!0)},S=async P=>{x(P),await D0(P,L=>{console.error("Error opening lesson notes:",L)}),x(null)},C=async()=>{try{const{data:{session:P}}=await X.auth.getSession();if(!P){console.error("No active session. Please log in first.");return}const L=window.location.hostname.includes("netlify")?"https://storied-raindrop-ae90ba.netlify.app":"https://billing.mymusicstudio.app",M=new URL(L);M.searchParams.set("access_token",P.access_token),M.searchParams.set("refresh_token",P.refresh_token),window.open(M.toString(),"_blank","noopener")}catch(P){console.error("Error opening billing:",P)}};return u?s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(P=>s.jsx("div",{className:"h-24 bg-gray-200 rounded-xl"},P))})]})}):s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-6 border border-orange-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome back!"}),s.jsx("p",{className:"text-gray-600",children:"Here's what's happening in your music studio today."})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-orange-600 mb-1",children:[s.jsx(b,{icon:Kn,className:"text-lg"}),s.jsx("span",{className:"font-semibold",children:(f==null?void 0:f.name)||"Your School"}),(i==null?void 0:i.length)>1&&s.jsxs("button",{onClick:T,className:"ml-2 px-2 py-1 text-xs bg-orange-100 hover:bg-orange-200 text-orange-700 rounded-lg transition-colors flex items-center space-x-1",children:[s.jsx(b,{icon:Rc,className:"text-xs"}),s.jsx("span",{children:"Change school"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx("span",{children:n==null?void 0:n.email}),r&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx(b,{icon:rn,className:"text-amber-600"}),s.jsx("span",{className:"text-amber-600",children:"Admin"})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-teal-400 to-teal-500 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-teal-100 text-sm font-medium",children:"Total Students"}),s.jsx("p",{className:"text-3xl font-bold",children:v.totalStudents})]}),s.jsx(b,{icon:Rr,className:"text-2xl text-teal-100"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-red-400 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Lessons This Week"}),s.jsx("p",{className:"text-3xl font-bold",children:v.lessonsThisWeek})]}),s.jsx(b,{icon:Me,className:"text-2xl text-orange-100"})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-400 to-yellow-500 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"Completion Rate"}),s.jsxs("p",{className:"text-3xl font-bold",children:[v.completionRate,"%"]})]}),s.jsx(b,{icon:b0,className:"text-2xl text-amber-100"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Current Students"}),o.length>0?s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.map(P=>s.jsx(pj,{student:P},P.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(b,{icon:Rr,className:"text-gray-300 text-3xl mb-2 mx-auto"}),s.jsx("p",{className:"text-gray-500",children:"No students yet"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Upcoming Lessons (Next 7 Days)"}),c.length>0?s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.map(P=>s.jsx("div",{onClick:()=>S(P.id),children:s.jsx(Gb,{lesson:P,isLoading:g===P.id})},P.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(b,{icon:Me,className:"text-gray-300 text-3xl mb-2 mx-auto"}),s.jsx("p",{className:"text-gray-500",children:"No upcoming lessons"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Gn,className:"text-green-600 mr-2"}),"Billing"]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-gray-600",children:"Manage invoices, payment methods, and billing settings for your studio."}),s.jsxs("button",{onClick:C,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center space-x-2",children:[s.jsx(b,{icon:Gn}),s.jsx("span",{children:"Open Billing"})]})]})]}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Change School"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Select which school you'd like to access"}),s.jsx("div",{className:"space-y-3",children:i.map(P=>s.jsxs("button",{onClick:()=>{a(P.schoolId),m(!1)},className:`w-full flex items-center justify-between p-4 border rounded-xl transition-all duration-200 ${P.schoolId===t?"border-orange-400 bg-orange-50 shadow-md":"border-gray-200 hover:border-orange-200 hover:bg-orange-50"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-400 to-teal-500 rounded-xl flex items-center justify-center",children:s.jsx(b,{icon:Kn,className:"text-white text-lg"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-800",children:P.schoolName}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx("span",{children:"Teacher"}),P.isAdmin&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx(b,{icon:rn,className:"text-xs text-amber-600"}),s.jsx("span",{className:"text-amber-600",children:"Admin"})]})]})]})]}),P.schoolId===t&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Current"})]},P.schoolId))}),s.jsx("button",{onClick:()=>m(!1),className:"w-full mt-6 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"})]})})]})},Yb=()=>{const{currentUserID:e,currentSchoolID:t,userIsAdmin:r}=Mt(),[n,i]=k.useState([]),[a,o]=k.useState([]),[l,c]=k.useState(!0),[d,u]=k.useState(""),[h,f]=k.useState("All"),[y,v]=k.useState(!1),[_,N]=k.useState("name"),[m,g]=k.useState("asc"),[x,w]=k.useState(null),[T,S]=k.useState(!1),[C,P]=k.useState([]),[L,M]=k.useState(!1),[U,te]=k.useState(!1),[Z,ae]=k.useState(""),[Y,D]=k.useState([]),I=Ze.useRef(null);k.useEffect(()=>{e?(console.log(" StudentManagement: currentUserID available, fetching students:",e),j()):(console.log(" StudentManagement: No currentUserID, cannot fetch students"),w("No user record found for this authenticated user. Please contact support."),c(!1))},[e]),k.useEffect(()=>{z()},[n,d,h,_,m]),k.useEffect(()=>{const O=H=>{I.current&&!I.current.contains(H.target)&&v(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const j=async()=>{try{c(!0),w(null),console.log(" Fetching students for teacher:",e);const{data:O,error:H}=await X.from("students").select("id, name, first_name, last_name, instrument, status, created_at, teacher_id, enrollment_date, lesson_day, lesson_time, email").eq("teacher_id",e).order("name");if(console.log(" Students query result:",{studentsData:O,studentsError:H,studentCount:(O==null?void 0:O.length)||0}),H)throw new Error(`Database error fetching students: ${H.message}`);i(O||[]),P([]),M(!1)}catch(O){console.error(" Error fetching students:",O),w(O.message)}finally{c(!1)}},F=async()=>{if(!r){console.warn(" Non-admin user attempted to create student");return}try{S(!0),console.log(" Creating new student for teacher:",e,"school:",t);const{data:O,error:H}=await X.from("students").insert({teacher_id:e,school_id:t,status:"Current",first_name:"",last_name:"",name:"",instrument:"",enrollment_date:new Date().toISOString().split("T")[0]}).select().single();if(H)throw new Error(`Error creating student: ${H.message}`);console.log(" New student created:",O),window.location.hash=`#view-student-${O.id}?edit=true`}catch(O){console.error(" Error creating student:",O),w(O.message)}finally{S(!1)}},z=()=>{let O=[...n];d&&(O=O.filter(H=>H.name&&H.name.toLowerCase().includes(d.toLowerCase())||H.instrument&&H.instrument.toLowerCase().includes(d.toLowerCase())||H.lesson_day&&H.lesson_day.toLowerCase().includes(d.toLowerCase())||H.lesson_time&&H.lesson_time.toLowerCase().includes(d.toLowerCase()))),h!=="All"&&(O=O.filter(H=>H.status===h)),O.sort((H,oe)=>{let se=H[_],le=oe[_];return(_==="lesson_day"||_==="lesson_time")&&(se=se||"",le=le||""),typeof se=="string"&&(se=se.toLowerCase(),le=(le||"").toLowerCase()),m==="asc"?se>le?1:-1:se<le?1:-1}),o(O),P([]),M(!1)},W=O=>{(O==="date"||O==="time")&&(O="scheduled_time");let H="asc";_===O&&m==="asc"&&(H="desc"),N(O),g(H)},G=O=>{const H={Current:"bg-green-100 text-green-800 border-green-200",Paused:"bg-yellow-100 text-yellow-800 border-yellow-200",Discontinued:"bg-gray-100 text-gray-800 border-gray-200"};return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${H[O]||H.Current}`,children:O})},V=O=>_!==O?null:m==="asc"?"":"",$=O=>{window.location.hash=`#view-student-${O}`},Q=()=>{j()},J=O=>{if(!O)return"Not set";if(O.includes("AM")||O.includes("PM"))return O;if(O.includes(":")&&!O.includes(" "))try{const[H,oe]=O.split(":"),se=parseInt(H),le=parseInt(oe);return se===0?`12:${oe.padStart(2,"0")} AM`:se<12?`${se}:${oe.padStart(2,"0")} AM`:se===12?`12:${oe.padStart(2,"0")} PM`:`${se-12}:${oe.padStart(2,"0")} PM`}catch{return O}return O},xe=()=>{P(L?[]:a.map(O=>O.id)),M(!L)},re=(O,H)=>{O.stopPropagation(),C.includes(H)?(P(C.filter(oe=>oe!==H)),M(!1)):(P([...C,H]),C.length+1===a.length&&M(!0))},me=()=>{P([]),M(!1)},be=O=>{f(O),v(!1)},$e=async O=>{var se,le,pe;ae(O);const H=[],oe=n.filter(Ce=>C.includes(Ce.id));if(O==="students"||O==="both"){const Ce=oe.filter(Fe=>!Fe.email);Ce.length>0&&H.push(...Ce.map(Fe=>({type:"student",name:Fe.name,id:Fe.id})))}if(O==="parents"||O==="both")try{const{data:Ce,error:Fe}=await X.from("parent_links").select(`
            parent:parent_id (
              id, 
              first_name,
              last_name,
              email
            ),
            student_id
          `).in("student_id",C);if(Fe)throw Fe;const er=Ce.filter(A=>{var q;return!((q=A.parent)!=null&&q.email)&&C.includes(A.student_id)});if(er.length>0)for(const A of er){const q=n.find(Pe=>Pe.id===A.student_id);H.push({type:"parent",name:`${((se=A.parent)==null?void 0:se.first_name)||""} ${((le=A.parent)==null?void 0:le.last_name)||""}`.trim()||"Unnamed Parent",studentName:(q==null?void 0:q.name)||"Unknown Student",id:(pe=A.parent)==null?void 0:pe.id})}if(H.length>0){D(H),te(!0);return}await de(O,Ce)}catch(Ce){console.error("Error checking for parent emails:",Ce),w("Failed to check parent email addresses. Please try again.")}else{if(H.length>0){D(H),te(!0);return}await de(O)}},de=async(O,H=[])=>{const oe=n.filter(le=>C.includes(le.id));let se=[];if((O==="students"||O==="both")&&(se=[...se,...oe.filter(le=>le.email).map(le=>le.email)]),O==="parents"||O==="both"){const le=H.filter(pe=>{var Ce;return(Ce=pe.parent)==null?void 0:Ce.email}).map(pe=>pe.parent.email);se=[...se,...le]}if(se=[...new Set(se)],se.length>0){const le=`mailto:?bcc=${se.join(",")}`;window.open(le)}};return l?s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("div",{className:"h-10 bg-gray-200 rounded w-64"}),s.jsx("div",{className:"h-10 bg-gray-200 rounded w-32"})]})]}),s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(O=>s.jsx("div",{className:"h-16 bg-gray-200 rounded"},O))})]})}):s.jsxs("div",{className:"p-8 space-y-6",children:[x&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Students"})]}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:x}),s.jsx("div",{className:"mt-3 space-y-2 text-sm text-red-700",children:s.jsxs("div",{children:[s.jsx("strong",{children:"Current User ID:"})," ",e||"Not available"]})}),s.jsx("button",{onClick:Q,className:"mt-2 px-3 py-1 bg-red-100 hover:bg-red-200 text-red-800 rounded-lg text-sm transition-colors",children:"Retry"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Students"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-teal-600",children:a.length}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Students"})]}),r&&s.jsxs("button",{onClick:F,disabled:T,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-xl hover:from-teal-600 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:[s.jsx(b,{icon:Zt,className:"text-lg"}),s.jsx("span",{className:"font-medium",children:T?"Creating...":"New Student"})]})]})]}),C.length>0&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(b,{icon:Ke,className:"text-blue-600"}),s.jsxs("span",{className:"text-blue-800 font-medium",children:[C.length," student",C.length!==1?"s":""," selected"]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>$e("students"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors shadow-sm flex items-center space-x-2",children:[s.jsx(b,{icon:wt}),s.jsx("span",{children:"Email Students"})]}),s.jsxs("button",{onClick:()=>$e("parents"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors shadow-sm flex items-center space-x-2",children:[s.jsx(b,{icon:wt}),s.jsx("span",{children:"Email Parents"})]}),s.jsxs("button",{onClick:()=>$e("both"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors shadow-sm flex items-center space-x-2",children:[s.jsx(b,{icon:wt}),s.jsx("span",{children:"Email Both"})]}),s.jsx("button",{onClick:me,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Clear Selection"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(b,{icon:ei,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by name, instrument, day, or time...",value:d,onChange:O=>u(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent"})]}),s.jsxs("div",{className:"relative",ref:I,children:[s.jsxs("button",{onClick:()=>v(!y),className:"flex items-center justify-between w-full px-4 py-2 text-left border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:f0,className:"text-gray-400 mr-2"}),s.jsx("span",{children:h==="All"?"All Status":h})]}),s.jsx(b,{icon:wa,className:`text-gray-400 transition-transform duration-200 ${y?"transform rotate-180":""}`})]}),y&&s.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg py-1 overflow-hidden",children:["All","Current","Paused","Discontinued"].map(O=>s.jsxs("div",{onClick:()=>be(O),className:"flex items-center px-4 py-2 hover:bg-gray-50 cursor-pointer",children:[s.jsx("div",{className:"flex-1",children:O}),O===h&&s.jsx(b,{icon:Ke,className:"text-teal-500"})]},O))})]})]}),(d||h!=="All")&&s.jsxs("div",{className:"flex items-center space-x-2 mt-4 pt-4 border-t border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Active filters:"}),d&&s.jsxs("span",{className:"px-2 py-1 bg-teal-100 text-teal-800 rounded-lg text-sm",children:['Search: "',d,'"']}),h!=="All"&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm",children:["Status: ",h]}),s.jsx("button",{onClick:()=>{u(""),f("All")},className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Clear all"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:a.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"w-10 px-4 py-3",children:s.jsx("input",{type:"checkbox",checked:L,onChange:xe,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),s.jsx("th",{className:"text-left px-6 py-3 font-medium text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>W("name"),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(b,{icon:at,className:"text-gray-400"}),s.jsx("span",{children:"Student Name"}),s.jsx("span",{className:"text-xs",children:V("name")})]})}),s.jsx("th",{className:"text-left px-6 py-3 font-medium text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>W("instrument"),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(b,{icon:ts,className:"text-gray-400"}),s.jsx("span",{children:"Instrument"}),s.jsx("span",{className:"text-xs",children:V("instrument")})]})}),s.jsx("th",{className:"text-left px-6 py-3 font-medium text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>W("lesson_day"),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Lesson Day"}),s.jsx("span",{className:"text-xs",children:V("lesson_day")})]})}),s.jsx("th",{className:"text-left px-6 py-3 font-medium text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>W("lesson_time"),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Lesson Time"}),s.jsx("span",{className:"text-xs",children:V("lesson_time")})]})}),s.jsx("th",{className:"text-left px-6 py-3 font-medium text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>W("status"),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Status"}),s.jsx("span",{className:"text-xs",children:V("status")})]})}),s.jsx("th",{className:"text-left px-6 py-3 font-medium text-gray-700 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>W("enrollment_date"),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Enrolled"}),s.jsx("span",{className:"text-xs",children:V("enrollment_date")})]})})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:a.map((O,H)=>s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer h-14 ${H%2===0?"bg-white":"bg-gray-50/30"} ${C.includes(O.id)?"bg-blue-50":""}`,onClick:()=>$(O.id),children:[s.jsx("td",{className:"px-4 py-2",onClick:oe=>oe.stopPropagation(),children:s.jsx("input",{type:"checkbox",checked:C.includes(O.id),onChange:oe=>re(oe,O.id),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),s.jsx("td",{className:"px-6 py-2",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-teal-400 to-teal-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-sm",children:O.name?O.name.split(" ").map(oe=>oe[0]).join("").toUpperCase():"?"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-800",children:O.name||"Unnamed Student"}),!O.name&&s.jsx("div",{className:"text-xs text-amber-600",children:"Click to complete profile"})]})]})}),s.jsx("td",{className:"px-6 py-2",children:s.jsx("span",{className:"font-medium text-gray-800 capitalize",children:O.instrument||"Not set"})}),s.jsx("td",{className:"px-6 py-2",children:s.jsx("div",{className:"text-sm text-gray-800",children:O.lesson_day||"Not set"})}),s.jsx("td",{className:"px-6 py-2",children:s.jsx("div",{className:"text-sm text-gray-800 font-medium",children:J(O.lesson_time)})}),s.jsx("td",{className:"px-6 py-2",children:G(O.status)}),s.jsx("td",{className:"px-6 py-2",children:s.jsx("div",{className:"text-sm text-gray-600",children:O.enrollment_date?ee(new Date(O.enrollment_date),"MMM d, yyyy"):ee(new Date(O.created_at),"MMM d, yyyy")})})]},O.id))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(b,{icon:Rr,className:"text-gray-400 text-2xl"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No students found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:d||h!=="All"?"No students match your current search or filter criteria.":"You haven't added any students yet."}),d||h!=="All"?s.jsx("button",{onClick:()=>{u(""),f("All")},className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors",children:"Clear Filters"}):r?s.jsxs("button",{onClick:F,disabled:T,className:"flex items-center space-x-2 px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors disabled:opacity-50 mx-auto",children:[s.jsx(b,{icon:Zt}),s.jsx("span",{children:T?"Creating...":"Add Your First Student"})]}):null]})}),a.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(O=>O.status==="Current").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Current Students"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.filter(O=>O.status==="Paused").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Paused Students"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:a.filter(O=>O.status==="Discontinued").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Discontinued"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Set(a.map(O=>O.instrument).filter(Boolean)).size}),s.jsx("div",{className:"text-sm text-gray-600",children:"Instruments Taught"})]})]}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Ne,className:"text-amber-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Missing Email Addresses"})]}),s.jsx("button",{onClick:()=>te(!1),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-gray-600 mb-4",children:["The following ",Y.length," ",Y.length===1?"person has":"people have"," missing email addresses:"]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 max-h-60 overflow-y-auto",children:s.jsx("ul",{className:"space-y-2",children:Y.map((O,H)=>s.jsxs("li",{className:"flex items-start space-x-2 text-amber-800",children:[s.jsx(b,{icon:rt,className:"text-amber-500 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:O.name}),O.type==="parent"&&s.jsxs("span",{className:"text-amber-700",children:[" (Parent of ",O.studentName,")"]}),s.jsx("span",{className:"block text-sm text-amber-700",children:"No email address"})]})]},H))})})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>te(!1),className:"flex-1 px-4 py-2 bg-white border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{te(!1),de(Z)},className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Continue with Available Emails"})]})]})})]})},Qb=({studentId:e,onBack:t})=>{const{currentUserID:r,currentSchoolID:n,userIsAdmin:i}=Mt(),[a,o]=k.useState(null),[l,c]=k.useState(!0),[d,u]=k.useState(!1),[h,f]=k.useState(null),[y,v]=k.useState(null),[_,N]=k.useState("list"),[m,g]=k.useState({first_name:"",last_name:"",instrument:"",status:"Current",date_of_birth:"",gender:"",email:"",phone:"",address:"",enrollment_date:""});k.useEffect(()=>{const L=window.location.hash,M=new URLSearchParams(L.split("?")[1]||""),U=M.get("from");console.log(" StudentEditor: Parsing URL parameters",{currentHash:L,urlParams:M.toString(),fromParam:U}),U==="detail"?(N("detail"),console.log(" StudentEditor: Origin context set to detail")):(N("list"),console.log(" StudentEditor: Origin context set to list")),e&&r&&(console.log(" StudentEditor: Fetching student data",{studentId:e,currentUserID:r}),x())},[e,r]);const x=async()=>{try{c(!0),f(null),console.log(" StudentEditor: Making database query for student:",e);const{data:L,error:M}=await X.from("students").select("*").eq("id",e).eq("teacher_id",r).single();if(M)throw console.error(" StudentEditor: Database error:",M),new Error(`Error fetching student: ${M.message}`);console.log(" StudentEditor: Student data fetched successfully:",L),o(L),g({first_name:L.first_name||"",last_name:L.last_name||"",instrument:L.instrument||"",status:L.status||"Current",date_of_birth:L.date_of_birth||"",gender:L.gender||"",email:L.email||"",phone:L.phone||"",address:L.address||"",enrollment_date:L.enrollment_date||""})}catch(L){console.error(" Error fetching student:",L),f(L.message)}finally{c(!1)}},w=(L,M)=>{g(U=>({...U,[L]:M})),y&&v(null)},T=()=>{const L=`${m.first_name.trim()} ${m.last_name.trim()}`.trim();console.log(" Auto-updating name field:",L)},S=()=>{const L=[];return m.first_name.trim()||L.push("First name is required"),m.last_name.trim()||L.push("Last name is required"),m.instrument.trim()||L.push("Instrument is required"),m.email&&!m.email.includes("@")&&L.push("Please enter a valid email address"),m.enrollment_date||L.push("Enrollment date is required"),L},C=async()=>{try{u(!0),f(null),v(null);const L=S();if(L.length>0)throw new Error(L.join(", "));const M=`${m.first_name.trim()} ${m.last_name.trim()}`.trim(),U={...m,name:M,updated_at:new Date().toISOString()};console.log(" Saving student data:",U);const{data:te,error:Z}=await X.from("students").update(U).eq("id",e).eq("teacher_id",r).select().single();if(Z)throw new Error(`Error saving student: ${Z.message}`);console.log(" Student saved successfully:",te),o(te),v("success"),setTimeout(()=>{P()},2e3)}catch(L){console.error(" Error saving student:",L),f(L.message),v("error")}finally{u(!1)}},P=()=>{console.log(" StudentEditor: Navigating back, origin context:",_),_==="detail"?(console.log(" StudentEditor: Returning to student detail view"),window.location.hash=`#view-student-${e}`):(console.log(" StudentEditor: Returning to student list"),t())};return l?s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4,5,6].map(L=>s.jsx("div",{className:"h-16 bg-gray-200 rounded"},L))})]})}):h&&!a?s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 text-2xl mb-4 mx-auto"}),s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Student"}),s.jsx("p",{className:"text-red-700 mb-4",children:h}),s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Student ID:"})," ",e]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Origin Context:"})," ",_]})]}),s.jsx("button",{onClick:P,className:"px-4 py-2 bg-red-100 hover:bg-red-200 text-red-800 rounded-lg transition-colors",children:_==="detail"?"Back to Student":"Back to Students"})]})}):s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(b,{icon:Va}),s.jsx("span",{children:_==="detail"?"Back to Student":"Back to Students"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:(a==null?void 0:a.name)||"Edit Student"}),s.jsx("p",{className:"text-gray-600",children:"Update student information and settings"})]})]}),y==="success"&&s.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[s.jsx(b,{icon:Ke}),s.jsx("span",{className:"font-medium",children:"Saved! Redirecting..."})]})]}),h&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:h})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center space-x-2",children:[s.jsx(b,{icon:at,className:"text-teal-600"}),s.jsx("span",{children:"Basic Information"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),s.jsx("input",{type:"text",value:m.first_name,onChange:L=>w("first_name",L.target.value),onBlur:T,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"Enter first name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),s.jsx("input",{type:"text",value:m.last_name,onChange:L=>w("last_name",L.target.value),onBlur:T,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"Enter last name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name (Auto-generated)"}),s.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-600",children:`${m.first_name.trim()} ${m.last_name.trim()}`.trim()||"Enter first and last name above"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instrument *"}),s.jsx("input",{type:"text",value:m.instrument,onChange:L=>w("instrument",L.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"e.g., Piano, Guitar, Violin",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:m.status,onChange:L=>w("status",L.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[s.jsx("option",{value:"Current",children:"Current"}),s.jsx("option",{value:"Paused",children:"Paused"}),s.jsx("option",{value:"Discontinued",children:"Discontinued"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center space-x-2",children:[s.jsx(b,{icon:Me,className:"text-teal-600"}),s.jsx("span",{children:"Personal Details"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("input",{type:"date",value:m.date_of_birth,onChange:L=>w("date_of_birth",L.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),s.jsxs("select",{value:m.gender,onChange:L=>w("gender",L.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"}),s.jsx("option",{value:"Other",children:"Other"}),s.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:m.email,onChange:L=>w("email",L.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"student@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:m.phone,onChange:L=>w("phone",L.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"(555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrollment Date *"}),s.jsx("input",{type:"date",value:m.enrollment_date,onChange:L=>w("enrollment_date",L.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",required:!0})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{value:m.address,onChange:L=>w("address",L.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent resize-none",placeholder:"Enter student's address"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-100 mt-8",children:[s.jsx("button",{onClick:P,className:"px-6 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:C,disabled:d||y==="success",className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-xl hover:from-teal-600 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(b,{icon:rs}),s.jsx("span",{children:d?"Saving...":y==="success"?"Saved!":"Save Student"})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(b,{icon:Ne,className:"text-blue-500 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-700",children:[s.jsx("p",{className:"font-medium mb-1",children:"Required Fields"}),s.jsx("p",{children:"Fields marked with * are required. The full name will be automatically generated from the first and last name fields."})]})]})})]})},Jb=({studentId:e,studentName:t,onClose:r})=>{const[n,i]=k.useState("select"),[a,o]=k.useState([]),[l,c]=k.useState(""),[d,u]=k.useState([]),[h,f]=k.useState(null),[y,v]=k.useState(!1),[_,N]=k.useState(null),[m,g]=k.useState(!1),[x,w]=k.useState(""),[T,S]=k.useState(!1),[C,P]=k.useState({first_name:"",last_name:"",email:"",phone_number:"",address:""});k.useEffect(()=>{n==="existing"&&L()},[n]),k.useEffect(()=>{if(a.length>0){const j=a.filter(F=>{const z=`${F.first_name||""} ${F.last_name||""}`.toLowerCase(),W=F.email?F.email.toLowerCase():"",G=l.toLowerCase();return z.includes(G)||W.includes(G)});u(j)}},[l,a]);const L=async()=>{try{v(!0),N(null),console.log(" Fetching existing parents for student:",e);const{data:j,error:F}=await X.from("parents").select("id, first_name, last_name, email").order("last_name");if(F)throw console.error(" Error fetching all parents:",F),new Error(`Failed to load parents: ${F.message}`);console.log(" All parents found:",(j==null?void 0:j.length)||0);const{data:z,error:W}=await X.from("parent_links").select("parent_id").eq("student_id",e);if(W)throw console.error(" Error fetching linked parents:",W),new Error(`Failed to check existing links: ${W.message}`);console.log(" Linked parents found:",(z==null?void 0:z.length)||0);const G=(z==null?void 0:z.map($=>$.parent_id))||[],V=(j==null?void 0:j.filter($=>!G.includes($.id)))||[];console.log(" Available parents for linking:",V.length),o(V),u(V)}catch(j){console.error(" Error fetching existing parents:",j),N(j.message||"Failed to load existing parents")}finally{v(!1)}},M=(j,F)=>{P(z=>({...z,[j]:F}))},U=()=>{const j=[];return C.first_name.trim()||j.push("First name is required"),C.last_name.trim()||j.push("Last name is required"),C.email&&!C.email.includes("@")&&j.push("Please enter a valid email address"),j},te=async j=>{try{console.log(" Creating parent link:",{parentId:j,studentId:e,relationship:x,isEmergencyContact:T});const{data:F,error:z}=await X.from("parent_links").insert({parent_id:j,student_id:e,relationship:x.trim()||null,emergency_contact:T}).select();if(z)throw console.error(" Error creating parent link:",z),new Error(`Failed to link parent to student: ${z.message}`);return console.log(" Parent link created successfully:",F),F}catch(F){throw console.error(" Error creating parent link:",F),F}},Z=async()=>{if(!h){N("Please select a parent");return}try{v(!0),N(null),await te(h),g(!0),setTimeout(()=>r(),1500)}catch(j){N(j.message||"Failed to link parent")}finally{v(!1)}},ae=async()=>{const j=U();if(j.length>0){N(j.join(", "));return}try{v(!0),N(null),console.log(" Creating new parent:",C);const{data:F,error:z}=await X.from("parents").insert({first_name:C.first_name.trim(),last_name:C.last_name.trim(),email:C.email.trim()||null,phone_number:C.phone_number.trim()||null,address:C.address.trim()||null}).select().single();if(z)throw console.error(" Error creating new parent:",z),new Error(`Failed to create parent: ${z.message}`);console.log(" New parent created:",F),await te(F.id),g(!0),setTimeout(()=>r(),1500)}catch(F){console.error(" Error creating new parent:",F),N(F.message||"Failed to create parent")}finally{v(!1)}},Y=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Add Parent/Guardian"}),s.jsxs("p",{className:"text-gray-600",children:["Choose how you want to add a parent for ",t]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>i("existing"),className:"bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-xl p-6 text-center transition-colors flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:s.jsx(b,{icon:ei,className:"text-blue-600 text-xl"})}),s.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Link Existing Parent"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Connect to a parent already in the system"})]}),s.jsxs("button",{onClick:()=>i("new"),className:"bg-teal-50 hover:bg-teal-100 border border-teal-200 rounded-xl p-6 text-center transition-colors flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-full flex items-center justify-center mb-3",children:s.jsx(b,{icon:ti,className:"text-teal-600 text-xl"})}),s.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Create New Parent"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Add a new parent to the system"})]})]})]}),D=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Link Existing Parent"}),s.jsxs("p",{className:"text-gray-600",children:["Search and select a parent to link to ",t]})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(b,{icon:ei,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:j=>c(j.target.value),placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"})]}),s.jsx("div",{className:"mb-6 max-h-60 overflow-y-auto border border-gray-200 rounded-xl divide-y divide-gray-200",children:y?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full inline-block mr-2"}),s.jsx("span",{className:"text-gray-600",children:"Loading parents..."})]}):d.length>0?d.map(j=>s.jsx("div",{className:`p-3 cursor-pointer transition-colors ${h===j.id?"bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>f(j.id),children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${h===j.id?"border-blue-500 bg-blue-500 text-white":"border-gray-300"}`,children:h===j.id&&s.jsx(b,{icon:Ke,className:"text-xs"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-gray-800",children:[j.first_name||""," ",j.last_name||""]}),j.email&&s.jsx("div",{className:"text-sm text-gray-600",children:j.email})]})]})},j.id)):s.jsx("div",{className:"p-4 text-center text-gray-500",children:l?"No parents found matching your search":"No available parents found"})}),h&&s.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 mb-6 bg-gray-50",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Relationship Details"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relationship to Student"}),s.jsx("input",{type:"text",value:x,onChange:j=>w(j.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"e.g., Mother, Father, Guardian"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"emergency-contact",checked:T,onChange:j=>S(j.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"emergency-contact",className:"ml-2 block text-sm text-gray-700",children:"Emergency Contact"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>i("select"),className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors",children:"Back"}),s.jsx("button",{onClick:Z,disabled:!h||y||m,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Linking...":m?"Linked!":"Link Parent"})]})]}),I=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Create New Parent"}),s.jsxs("p",{className:"text-gray-600",children:["Add a new parent/guardian for ",t]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),s.jsx("input",{type:"text",value:C.first_name,onChange:j=>M("first_name",j.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"Enter first name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),s.jsx("input",{type:"text",value:C.last_name,onChange:j=>M("last_name",j.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"Enter last name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:C.email,onChange:j=>M("email",j.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"parent@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:C.phone_number,onChange:j=>M("phone_number",j.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"(555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{value:C.address,onChange:j=>M("address",j.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent resize-none",placeholder:"Enter parent's address"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 mb-6 bg-gray-50",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Relationship Details"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relationship to Student"}),s.jsx("input",{type:"text",value:x,onChange:j=>w(j.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"e.g., Mother, Father, Guardian"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"emergency-contact-new",checked:T,onChange:j=>S(j.target.checked),className:"h-4 w-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),s.jsx("label",{htmlFor:"emergency-contact-new",className:"ml-2 block text-sm text-gray-700",children:"Emergency Contact"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>i("select"),className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors",children:"Back"}),s.jsx("button",{onClick:ae,disabled:y||m,className:"flex-1 px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Creating...":m?"Created!":"Create Parent"})]})]});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:ti,className:"text-blue-600"})}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),_&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Error"}),s.jsx("p",{className:"text-red-600 text-sm",children:_})]})]})}),m&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ke,className:"text-green-500 mr-2 flex-shrink-0"}),s.jsxs("p",{className:"text-green-600 text-sm",children:["Parent successfully ",n==="new"?"created":"linked","!"]})]})}),n==="select"&&Y(),n==="existing"&&D(),n==="new"&&I()]})})},Xb=({parentLink:e,studentName:t,onClose:r})=>{const[n,i]=k.useState(e.relationship||""),[a,o]=k.useState(e.emergency_contact||!1),[l,c]=k.useState({first_name:"",last_name:"",email:"",phone_number:"",address:"",notes:""}),[d,u]=k.useState(!1),[h,f]=k.useState(null),[y,v]=k.useState(!1),[_,N]=k.useState("relationship");k.useEffect(()=>{e.parent&&c({first_name:e.parent.first_name||"",last_name:e.parent.last_name||"",email:e.parent.email||"",phone_number:e.parent.phone_number||"",address:e.parent.address||"",notes:e.parent.notes||""})},[e]);const m=(w,T)=>{c(S=>({...S,[w]:T}))},g=()=>{const w=[];return l.first_name.trim()||w.push("First name is required"),l.last_name.trim()||w.push("Last name is required"),l.email&&!l.email.includes("@")&&w.push("Please enter a valid email address"),w},x=async w=>{w.preventDefault();const T=g();if(T.length>0){f(T.join(", "));return}try{u(!0),f(null),console.log(" Updating parent link and contact details:",{parentLinkId:e.id,parentId:e.parent.id,relationship:n.trim(),emergency_contact:a,parentData:l});const{error:S}=await X.from("parent_links").update({relationship:n.trim()||null,emergency_contact:a,updated_at:new Date().toISOString()}).eq("id",e.id);if(S)throw console.error(" Error updating parent link:",S),new Error(`Failed to update relationship information: ${S.message}`);const{error:C}=await X.from("parents").update({first_name:l.first_name.trim(),last_name:l.last_name.trim(),email:l.email.trim()||null,phone_number:l.phone_number.trim()||null,address:l.address.trim()||null,notes:l.notes.trim()||null,updated_at:new Date().toISOString()}).eq("id",e.parent.id);if(C)throw console.error(" Error updating parent contact:",C),new Error(`Failed to update parent contact information: ${C.message}`);console.log(" Parent link and contact details updated successfully"),v(!0),setTimeout(()=>r(),1500)}catch(S){console.error(" Error updating parent information:",S),f(S.message||"Failed to update parent information")}finally{u(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:es,className:"text-blue-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Edit Parent Information"})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:at,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800",children:l.first_name&&l.last_name?`${l.first_name} ${l.last_name}`:"Parent/Guardian"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Parent of ",t]})]})]})}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-xl p-1 mb-6",children:[s.jsxs("button",{onClick:()=>N("relationship"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors ${_==="relationship"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[s.jsx(b,{icon:at,className:"text-sm"}),s.jsx("span",{className:"font-medium",children:"Relationship"})]}),s.jsxs("button",{onClick:()=>N("contact"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors ${_==="contact"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[s.jsx(b,{icon:wt,className:"text-sm"}),s.jsx("span",{className:"font-medium",children:"Contact Details"})]})]}),h&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Error"}),s.jsx("p",{className:"text-red-600 text-sm",children:h})]})]})}),y&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ke,className:"text-green-500 mr-2"}),s.jsx("p",{className:"text-green-600 text-sm",children:"Parent information updated successfully!"})]})}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[_==="relationship"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Relationship Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relationship to Student"}),s.jsx("input",{type:"text",value:n,onChange:w=>i(w.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"e.g., Mother, Father, Guardian"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"emergency-contact-edit",checked:a,onChange:w=>o(w.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"emergency-contact-edit",className:"ml-2 block text-sm text-gray-700",children:"Emergency Contact"})]})]}),_==="contact"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),s.jsx("input",{type:"text",value:l.first_name,onChange:w=>m("first_name",w.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"Enter first name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),s.jsx("input",{type:"text",value:l.last_name,onChange:w=>m("last_name",w.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"Enter last name",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(b,{icon:wt,className:"text-gray-400 mr-1"}),"Email Address"]}),s.jsx("input",{type:"email",value:l.email,onChange:w=>m("email",w.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"parent@example.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(b,{icon:Xs,className:"text-gray-400 mr-1"}),"Phone Number"]}),s.jsx("input",{type:"tel",value:l.phone_number,onChange:w=>m("phone_number",w.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"(555) 123-4567"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(b,{icon:Js,className:"text-gray-400 mr-1"}),"Address"]}),s.jsx("textarea",{value:l.address,onChange:w=>m("address",w.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent resize-none",placeholder:"Enter parent's address"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(b,{icon:Ic,className:"text-gray-400 mr-1"}),"Notes"]}),s.jsx("textarea",{value:l.notes,onChange:w=>m("notes",w.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent resize-none",placeholder:"Additional notes about this parent/guardian"})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-100",children:[s.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:d||y,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Saving...":y?"Saved!":"Save Changes"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 mt-4",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(b,{icon:Ne,className:"text-blue-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-700",children:[s.jsx("p",{className:"font-medium mb-1",children:"Required Fields"}),s.jsx("p",{children:"First name and last name are required. All other fields are optional but recommended for better communication."})]})]})})]})})},Zb=({parent:e,onClose:t,onSuccess:r})=>{const[n,i]=k.useState(e.email||""),[a,o]=k.useState(7),[l,c]=k.useState(!1),[d,u]=k.useState(null),[h,f]=k.useState(!1),[y,v]=k.useState(""),[_,N]=k.useState(!1),m=async w=>{if(w.preventDefault(),!n||!n.includes("@")){u("Please enter a valid email address");return}try{c(!0),u(null);const{data:T,error:S}=await X.rpc("create_parent_invite",{parent_id:e.id,email:n.trim(),expires_in_days:parseInt(a)||7});if(S)throw S;const C=`${g()}/#/invite?token=${T.token}`;v(C),N(T.resend||!1),f(!0),r&&r({parentId:e.id,email:n,inviteUrl:C,expiresAt:T.expires_at,isResend:T.resend})}catch(T){console.error("Error creating parent invitation:",T),u(T.message||"Failed to create invitation")}finally{c(!1)}},g=()=>{const w=window.location.origin;return w.includes("netlify")?"https://effortless-gingersnap-d61d86.netlify.app":w.includes("mymusicstudio.app")?"https://parent.mymusicstudio.app":"http://localhost:3001"},x=()=>{navigator.clipboard.writeText(y);const w=document.getElementById("copy-button");if(w){const T=w.textContent;w.textContent="Copied!",setTimeout(()=>{w.textContent=T},2e3)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:wt,className:"text-blue-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:h?"Invitation Created":"Invite Parent to Portal"})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",disabled:l,children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),d&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-red-600 text-sm",children:d})]})}),h?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ke,className:"text-green-500 mr-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-700 font-medium",children:_?"Existing invitation found  link regenerated!":"Invitation created successfully!"}),s.jsx("p",{className:"text-green-600 text-sm",children:_?`The invitation for ${e.first_name} ${e.last_name} has been refreshed with a new link.`:`An invitation has been created for ${e.first_name} ${e.last_name}`})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invitation Link"}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",value:y,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-200 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent bg-gray-50"}),s.jsx("button",{id:"copy-button",onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-r-lg hover:bg-blue-600 transition-colors",children:"Copy"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Share this link with the parent or send them an email"})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(b,{icon:Ye,className:"text-blue-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 font-medium",children:"Next Steps"}),s.jsxs("p",{className:"text-blue-600 text-sm",children:["The parent will need to click this link and create an account to access the portal. This invitation link will expire in ",a," days."]})]})]})}),s.jsx("div",{className:"flex space-x-3 pt-4",children:s.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors",children:"Close"})})]}):s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent Name"}),s.jsx("input",{type:"text",value:`${e.first_name||""} ${e.last_name||""}`,className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-50",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",value:n,onChange:w=>i(w.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"parent@example.com",required:!0}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"An invitation will be sent to this email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invitation Expires In (Days)"}),s.jsx("input",{type:"number",value:a,onChange:w=>o(w.target.value),min:"1",max:"30",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(b,{icon:Ne,className:"text-blue-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 font-medium",children:"Important"}),s.jsx("p",{className:"text-blue-600 text-sm",children:"After creating the invitation, you'll need to share the invitation link with the parent. They will need to create an account to access the portal."})]})]})}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(b,{icon:qa,className:"animate-spin"}),s.jsx("span",{children:"Creating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(b,{icon:wt}),s.jsx("span",{children:"Create Invitation"})]})})]})]})]})})},M0=({title:e,message:t,confirmText:r="Confirm",cancelText:n="Cancel",confirmButtonClass:i="bg-red-500 hover:bg-red-600",onConfirm:a,onCancel:o})=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:fr,className:"text-red-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e})]}),s.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),s.jsx("div",{className:"py-3",children:s.jsx("p",{className:"text-gray-600",children:t})}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:o,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors",children:n}),s.jsx("button",{onClick:a,className:`flex-1 px-4 py-2 text-white rounded-xl transition-colors ${i}`,children:r})]})]})}),ek=({studentId:e,studentName:t})=>{var Z,ae;const{userIsAdmin:r}=Mt(),[n,i]=k.useState([]),[a,o]=k.useState(!0),[l,c]=k.useState(null),[d,u]=k.useState(!1),[h,f]=k.useState(!1),[y,v]=k.useState(!1),[_,N]=k.useState(!1),[m,g]=k.useState(null),[x,w]=k.useState(null);k.useEffect(()=>{e&&T()},[e]);const T=async()=>{try{o(!0),c(null),console.log(" Fetching parents for student:",e);const{data:Y,error:D}=await X.from("parent_links").select(`
          id,
          relationship,
          emergency_contact,
          parent:parent_id (
            id,
            first_name,
            last_name,
            email,
            phone_number,
            address,
            notes,
            user_id
          )
        `).eq("student_id",e).order("emergency_contact",{ascending:!1});if(D)throw console.error(" Database error fetching parents:",D),new Error(`Failed to load parent information: ${D.message}`);console.log(" Fetched parents:",Y),i(Y||[])}catch(Y){console.error(" Error fetching parents:",Y),c(Y.message||"Failed to load parent information")}finally{o(!1)}},S=()=>{r&&u(!0)},C=Y=>{g(Y),f(!0)},P=Y=>{g(Y),v(!0)},L=Y=>{w(Y),N(!0)},M=async()=>{if(m)try{o(!0);const{error:Y}=await X.from("parent_links").delete().eq("id",m.id);if(Y)throw console.error(" Error deleting parent link:",Y),new Error(`Failed to remove parent connection: ${Y.message}`);i(n.filter(D=>D.id!==m.id)),v(!1),g(null)}catch(Y){console.error(" Error deleting parent link:",Y),c(Y.message||"Failed to remove parent connection")}finally{o(!1)}},U=()=>{u(!1),f(!1),v(!1),N(!1),g(null),w(null),T()},te=Y=>{console.log("Invitation created successfully:",Y)};return a&&n.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-5",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:at,className:"text-blue-600 mr-2"}),"Parent/Guardian Details"]})}),s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-full"}),s.jsx("div",{className:"h-24 bg-gray-200 rounded-lg w-full"})]})]}):s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:at,className:"text-blue-600 mr-2"}),"Parent/Guardian Details"]}),r&&s.jsxs("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-xl hover:bg-blue-200 transition-colors",children:[s.jsx(b,{icon:Zt}),s.jsx("span",{children:"Add Parent"})]})]}),l&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Error"}),s.jsx("p",{className:"text-red-600 text-sm",children:l})]})]})}),n.length>0?s.jsx("div",{className:"space-y-4",children:n.map(Y=>{const D=Y.parent;return D?s.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-sm transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full flex items-center justify-center mt-1",children:s.jsx("span",{className:"text-white font-medium text-sm",children:D.first_name&&D.last_name?`${D.first_name[0]}${D.last_name[0]}`:"??"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"font-medium text-gray-800",children:D.first_name&&D.last_name?`${D.first_name} ${D.last_name}`:"Unnamed Parent"}),Y.emergency_contact&&s.jsxs("span",{className:"bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full flex items-center",children:[s.jsx(b,{icon:g0,className:"mr-1 text-xs"}),"Emergency Contact"]}),D.user_id&&s.jsxs("span",{className:"bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full flex items-center",children:[s.jsx(b,{icon:x0,className:"mr-1 text-xs"}),"Portal Access"]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y.relationship||"Relationship not specified"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[r&&!D.user_id&&s.jsx("button",{onClick:()=>L(D),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors","aria-label":"Invite parent to portal",title:"Invite to Portal",children:s.jsx(b,{icon:ti})}),s.jsx("button",{onClick:()=>C(Y),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"Edit parent",children:s.jsx(b,{icon:es})}),r&&s.jsx("button",{onClick:()=>P(Y),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Remove parent",children:s.jsx(b,{icon:Ga})})]})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[D.email&&s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(b,{icon:wt,className:"text-gray-400"}),s.jsx("span",{children:D.email})]}),D.phone_number&&s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(b,{icon:Xs,className:"text-gray-400"}),s.jsx("span",{children:D.phone_number})]}),D.address&&s.jsxs("div",{className:"flex items-start space-x-2 text-gray-600 col-span-2",children:[s.jsx(b,{icon:Js,className:"text-gray-400 mt-0.5"}),s.jsx("span",{className:"whitespace-pre-line",children:D.address})]}),D.notes&&s.jsxs("div",{className:"flex items-start space-x-2 text-gray-600 col-span-2 mt-2 border-t border-gray-100 pt-2",children:[s.jsx(b,{icon:Ic,className:"text-gray-400 mt-0.5"}),s.jsx("span",{className:"whitespace-pre-line",children:D.notes})]})]})]},Y.id):(console.warn(" Parent data missing for link:",Y.id),null)})}):s.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(b,{icon:ti,className:"text-blue-500 text-xl"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Parents Added Yet"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Add parent/guardian information to keep track of emergency contacts and improve communication."}),r&&s.jsxs("button",{onClick:S,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors inline-flex items-center space-x-2",children:[s.jsx(b,{icon:Zt}),s.jsx("span",{children:"Add First Parent"})]})]}),d&&s.jsx(Jb,{studentId:e,studentName:t,onClose:U}),h&&m&&s.jsx(Xb,{parentLink:m,studentName:t,onClose:U}),_&&x&&s.jsx(Zb,{parent:x,onClose:U,onSuccess:te}),y&&m&&s.jsx(M0,{title:"Remove Parent Connection",message:`Are you sure you want to remove ${((Z=m.parent)==null?void 0:Z.first_name)||"this parent"} ${((ae=m.parent)==null?void 0:ae.last_name)||""} as a parent/guardian of ${t}? This will only remove the connection, not delete the parent record.`,confirmText:"Remove Connection",cancelText:"Cancel",confirmButtonClass:"bg-red-500 hover:bg-red-600",onConfirm:M,onCancel:()=>v(!1)})]})},tk=({studentId:e,studentName:t})=>{var D,I;const{currentUserID:r,currentSchoolID:n}=Mt(),[i,a]=k.useState(!0),[o,l]=k.useState(!1),[c,d]=k.useState(null),[u,h]=k.useState(null),[f,y]=k.useState(null),[v,_]=k.useState(null),[N,m]=k.useState(null),[g,x]=k.useState(null),[w,T]=k.useState(null),[S,C]=k.useState([]),P=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];k.useEffect(()=>{n&&e&&(L(),M())},[n,e]),k.useEffect(()=>{N&&g&&w?U():y(null)},[N,g,w]);const L=async()=>{try{a(!0),d(null),console.log(" Fetching lesson time data for student:",e);const{data:j,error:F}=await X.from("students").select("lesson_type_id, lesson_day, lesson_time, lesson_time_end").eq("id",e).single();if(F)throw new Error(`Error fetching student data: ${F.message}`);console.log(" Student lesson data:",j),_(j.lesson_type_id||null),m(j.lesson_day||null),x(j.lesson_time||null),T(j.lesson_time_end||null)}catch(j){console.error(" Error fetching student lesson data:",j),d(j.message)}finally{a(!1)}},M=async()=>{try{console.log(" Fetching lesson types for school:",n);const{data:j,error:F}=await X.from("lesson_types").select("*").eq("school_id",n).order("name");if(F)throw new Error(`Error fetching lesson types: ${F.message}`);console.log(" Lesson types fetched:",(j==null?void 0:j.length)||0),C(j||[])}catch(j){console.error(" Error fetching lesson types:",j),d(j.message)}},U=async()=>{try{if(!N||!g||!w){y(null);return}const j=$=>{const[Q,J]=$.split(":").map(Number);return Q*60+J},F=j(g),z=j(w),{data:W,error:G}=await X.from("students").select("id, name, lesson_time, lesson_time_end").eq("school_id",n).eq("status","Current").eq("lesson_day",N).neq("id",e);if(G){console.error("Error checking for time conflicts:",G);return}const V=W.filter($=>{if(!$.lesson_time||!$.lesson_time_end)return!1;const Q=j($.lesson_time),J=j($.lesson_time_end);return F<J&&Q<z});V.length>0?y({count:V.length,students:V.map($=>$.name).join(", ")}):y(null)}catch(j){console.error("Error checking for time conflicts:",j)}},te=(j,F)=>{if(!j||!F)return null;try{const[z,W]=j.split(":").map(Number),V=z*60+W+F,$=Math.floor(V/60)%24,Q=V%60;return`${$.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`}catch(z){return console.error(" Error calculating lesson end time:",z),null}},Z=async(j,F)=>{try{l(!0),d(null),h(null);let z={[j]:F};if(j==="lesson_type_id"&&g){const G=S.find(V=>V.id===F);if(G!=null&&G.duration_min){const V=te(g,G.duration_min);z.lesson_time_end=V,T(V)}}console.log(" Saving lesson time data:",z);const{error:W}=await X.from("students").update({...z,updated_at:new Date().toISOString()}).eq("id",e);if(W)throw new Error(`Error updating lesson time: ${W.message}`);j==="lesson_type_id"?_(F):j==="lesson_day"&&m(F),console.log(" Lesson time data saved successfully"),h("Lesson time updated successfully!"),setTimeout(()=>{h(null)},3e3)}catch(z){console.error(" Error saving lesson time data:",z),d(z.message)}finally{l(!1)}},ae=j=>{if(!j)return"";if(j.includes("AM")||j.includes("PM"))return j;try{const[F,z]=j.split(":").map(Number),W=F>=12?"PM":"AM";return`${F%12||12}:${z.toString().padStart(2,"0")} ${W}`}catch{return j}},Y=()=>{window.location.hash="",setTimeout(()=>{const j=document.querySelector('button[aria-label="Timetable"]');j&&j.click()},100)};return i?s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-5",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Ye,className:"text-blue-600 mr-2"}),"Lesson Time"]})}),s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"}),s.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"})]})]}):s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Ye,className:"text-blue-600 mr-2"}),"Lesson Time"]}),u&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl px-3 py-1 flex items-center",children:s.jsx("span",{className:"text-sm text-green-700",children:u})})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ir,className:"text-red-500 mr-2"}),s.jsx("p",{className:"text-sm text-red-700",children:c})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Type"}),s.jsxs("select",{value:v||"",onChange:j=>Z("lesson_type_id",j.target.value?j.target.value:null),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",disabled:o,children:[s.jsx("option",{value:"",children:"Select lesson type"}),S.map(j=>s.jsxs("option",{value:j.id,children:[j.name," (",j.duration_min," min)"]},j.id))]}),S.length===0&&s.jsx("p",{className:"text-sm text-amber-600 mt-2",children:"No lesson types available. Please add lesson types in School Settings."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(b,{icon:Me,className:"text-gray-400 mr-1"}),"Lesson Day"]}),s.jsxs("select",{value:N||"",onChange:j=>Z("lesson_day",j.target.value?j.target.value:null),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",disabled:o,children:[s.jsx("option",{value:"",children:"Select day"}),P.map(j=>s.jsx("option",{value:j,children:j},j))]})]})]}),s.jsxs("div",{className:`mt-5 rounded-xl p-4 ${f?"bg-amber-50 border border-amber-200":"bg-gray-50"}`,children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(b,{icon:Ye,className:"text-gray-400 mr-1"}),"Lesson Time"]}),g?s.jsxs("div",{className:"text-gray-800",children:[s.jsxs("div",{className:"font-medium flex items-center",children:[ae(g),w&&s.jsxs(s.Fragment,{children:[" - ",ae(w)]}),f&&s.jsx("div",{className:"ml-2 text-amber-600",children:s.jsx(b,{icon:fr,className:"inline text-amber-500",title:"Time conflict"})})]}),v&&s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[((D=S.find(j=>j.id===v))==null?void 0:D.duration_min)||""," minutes",((I=S.find(j=>j.id===v))==null?void 0:I.name)&&s.jsxs(s.Fragment,{children:["  ",S.find(j=>j.id===v).name]})]}),f&&s.jsxs("div",{className:"mt-2 text-sm text-amber-700 flex items-start",children:[s.jsx(b,{icon:fr,className:"text-amber-500 mr-1 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:["This lesson time overlaps with ",f.count," other student",f.count!==1?"s":"",f.count<=3&&s.jsxs("span",{className:"font-medium",children:[" (",f.students,")"]})]})]})]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-600 mr-1",children:"Lesson time not set  set in"}),s.jsx("button",{onClick:Y,className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Timetable"})]})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500 flex items-start",children:[s.jsx(b,{icon:Ir,className:"text-gray-400 mr-1 mt-0.5"}),s.jsx("span",{children:"Detailed lesson scheduling is managed in the Timetable section."})]})]})},rk=({studentId:e,onBack:t})=>{const{currentUserID:r,userIsAdmin:n}=Mt(),[i,a]=k.useState(null),[o,l]=k.useState(!0),[c,d]=k.useState(null),[u,h]=k.useState([]),[f,y]=k.useState(!0),[v,_]=k.useState(!1),[N,m]=k.useState(!1),[g,x]=k.useState(!1),[w,T]=k.useState({first_name:"",last_name:"",instrument:"",status:"Current",date_of_birth:"",gender:"",email:"",phone:"",address:"",enrollment_date:""}),S=k.useRef(null);k.useEffect(()=>{e&&r&&(C(),P(),new URLSearchParams(window.location.hash.split("?")[1]||"").get("edit")==="true"&&_(!0))},[e,r]),k.useEffect(()=>{v&&S.current&&setTimeout(()=>{S.current.focus()},100)},[v]);const C=async()=>{try{l(!0),d(null);const{data:D,error:I}=await X.from("students").select("*").eq("id",e).eq("teacher_id",r).single();if(I)throw new Error(`Error fetching student: ${I.message}`);a(D),T({first_name:D.first_name||"",last_name:D.last_name||"",instrument:D.instrument||"",status:D.status||"Current",date_of_birth:D.date_of_birth||"",gender:D.gender||"",email:D.email||"",phone:D.phone||"",address:D.address||"",enrollment_date:D.enrollment_date||""})}catch(D){console.error(" Error fetching student:",D),d(D.message)}finally{l(!1)}},P=async()=>{try{y(!0);const D=Lb(new Date,7).toISOString(),{data:I,error:j}=await X.from("lessons").select("*").eq("student_id",e).gte("scheduled_time",D).order("scheduled_time",{ascending:!0});if(j)throw new Error(`Error fetching student lessons: ${j.message}`);h(I||[])}catch(D){console.error(" Error fetching student lessons:",D)}finally{y(!1)}},L=()=>{_(!0)},M=()=>{i&&T({first_name:i.first_name||"",last_name:i.last_name||"",instrument:i.instrument||"",status:i.status||"Current",date_of_birth:i.date_of_birth||"",gender:i.gender||"",email:i.email||"",phone:i.phone||"",address:i.address||"",enrollment_date:i.enrollment_date||""}),_(!1),x(!1)},U=(D,I)=>{T(j=>({...j,[D]:I})),g&&x(!1)},te=async()=>{try{m(!0);const D=`${w.first_name.trim()} ${w.last_name.trim()}`.trim(),I={...w,name:D,updated_at:new Date().toISOString()},{data:j,error:F}=await X.from("students").update(I).eq("id",e).eq("teacher_id",r).select().single();if(F)throw new Error(`Error saving student: ${F.message}`);a(j),x(!0),setTimeout(()=>{_(!1),x(!1)},1500)}catch(D){console.error(" Error saving student:",D),d(D.message)}finally{m(!1)}},Z=D=>({scheduled:"bg-blue-100 text-blue-800 border-blue-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",missed:"bg-amber-100 text-amber-800 border-amber-200"})[D==null?void 0:D.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-200",ae=D=>{switch(D==null?void 0:D.toLowerCase()){case"completed":return Ke;case"cancelled":return rt;case"missed":return Ne;default:return Me}},Y=D=>{const I=new Date(D),j=new Date,F=new Date(j);return F.setDate(j.getDate()+1),I.toDateString()===j.toDateString()?`Today, ${ee(I,"h:mm a")}`:I.toDateString()===F.toDateString()?`Tomorrow, ${ee(I,"h:mm a")}`:ee(I,"EEE, MMM d, h:mm a")};return o?s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(D=>s.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"},D))})]})}):c?s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 text-2xl mb-4 mx-auto"}),s.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Student"}),s.jsx("p",{className:"text-red-700 mb-4",children:c}),s.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-100 hover:bg-red-200 text-red-800 rounded-lg transition-colors",children:"Back to Students"})]})}):i?s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:i.name||"Unnamed Student"}),s.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[s.jsx(b,{icon:Va,className:"text-sm"}),s.jsx("span",{className:"text-sm font-medium",children:"Return to Student List"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Me,className:"text-teal-600 mr-2"}),"Lessons"]}),s.jsx("button",{className:"w-7 h-7 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center hover:bg-teal-200 transition-colors",children:s.jsx(b,{icon:Zt,className:"text-sm"})})]}),f?s.jsx("div",{className:"animate-pulse space-y-2",children:[1,2,3].map(D=>s.jsx("div",{className:"h-12 bg-gray-200 rounded-lg"},D))}):u.length>0?s.jsx("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:u.map(D=>s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer text-sm",children:[s.jsxs("div",{className:"flex items-start flex-col",children:[s.jsx("span",{className:"font-medium text-gray-800",children:Y(D.scheduled_time)}),D.duration_min&&s.jsxs("span",{className:"text-xs text-gray-500",children:[D.duration_min," minutes"]})]}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${Z(D.status)}`,children:[s.jsx(b,{icon:ae(D.status),className:"text-xs"}),s.jsx("span",{className:"capitalize",children:D.status||"Scheduled"})]})]},D.id))}):s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No upcoming lessons"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:w0,className:"text-amber-500 mr-2"}),"Upcoming Performances"]}),s.jsx("button",{className:"w-7 h-7 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center hover:bg-amber-200 transition-colors",children:s.jsx(b,{icon:Zt,className:"text-sm"})})]}),s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No upcoming performances"})]})]}),s.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:at,className:"text-teal-600 mr-2"}),"Student Details"]}),n&&!v&&s.jsxs("button",{onClick:L,className:"flex items-center space-x-2 px-4 py-2 bg-teal-100 text-teal-700 rounded-xl hover:bg-teal-200 transition-colors",children:[s.jsx(b,{icon:es}),s.jsx("span",{children:"Edit details"})]}),n&&v&&s.jsxs("div",{className:"flex items-center space-x-3",children:[g&&s.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[s.jsx(b,{icon:Ke}),s.jsx("span",{children:"Saved!"})]}),s.jsx("button",{onClick:M,className:"px-4 py-2 border border-gray-200 text-gray-600 rounded-xl hover:bg-gray-100 transition-colors",disabled:N,children:"Cancel"}),s.jsx("button",{onClick:te,className:"flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors disabled:opacity-60",disabled:N,children:N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(b,{icon:rs}),s.jsx("span",{children:"Save"})]})})]})]}),v?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{ref:S,type:"text",value:w.first_name,onChange:D=>U("first_name",D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"Enter first name",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:w.last_name,onChange:D=>U("last_name",D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"Enter last name",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Instrument ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:w.instrument,onChange:D=>U("instrument",D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"e.g., Piano, Guitar, Violin",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:w.status,onChange:D=>U("status",D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[s.jsx("option",{value:"Current",children:"Current"}),s.jsx("option",{value:"Paused",children:"Paused"}),s.jsx("option",{value:"Discontinued",children:"Discontinued"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),s.jsx("input",{type:"date",value:w.date_of_birth,onChange:D=>U("date_of_birth",D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),s.jsxs("select",{value:w.gender,onChange:D=>U("gender",D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"}),s.jsx("option",{value:"Other",children:"Other"}),s.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(b,{icon:wt,className:"text-gray-400 mr-1"}),"Email Address"]}),s.jsx("input",{type:"email",value:w.email,onChange:D=>U("email",D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"student@example.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(b,{icon:Xs,className:"text-gray-400 mr-1"}),"Phone Number"]}),s.jsx("input",{type:"tel",value:w.phone,onChange:D=>U("phone",D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"(555) 123-4567"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(b,{icon:Me,className:"text-gray-400 mr-1"}),"Enrollment Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:w.enrollment_date,onChange:D=>U("enrollment_date",D.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(b,{icon:Js,className:"text-gray-400 mr-1"}),"Address"]}),s.jsx("textarea",{value:w.address,onChange:D=>U("address",D.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent resize-none",placeholder:"Enter student's address"})]})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),s.jsx("p",{className:"text-gray-800 font-medium",children:i.name||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Instrument"}),s.jsx("p",{className:"text-gray-800 font-medium capitalize",children:i.instrument})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${i.status==="Current"?"bg-green-100 text-green-800":i.status==="Paused"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:i.status})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),s.jsx("p",{className:"text-gray-800",children:i.date_of_birth?ee(new Date(i.date_of_birth),"MMMM d, yyyy"):"Not provided"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Gender"}),s.jsx("p",{className:"text-gray-800",children:i.gender||"Not provided"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[s.jsx(b,{icon:wt,className:"text-gray-400 mr-1"}),"Email Address"]}),s.jsx("p",{className:"text-gray-800",children:i.email||"Not provided"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[s.jsx(b,{icon:Xs,className:"text-gray-400 mr-1"}),"Phone Number"]}),s.jsx("p",{className:"text-gray-800",children:i.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[s.jsx(b,{icon:Js,className:"text-gray-400 mr-1"}),"Address"]}),s.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:i.address||"Not provided"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[s.jsx(b,{icon:Ye,className:"text-gray-400 mr-1"}),"Enrollment Date"]}),s.jsx("p",{className:"text-gray-800",children:i.enrollment_date?ee(new Date(i.enrollment_date),"MMMM d, yyyy"):ee(new Date(i.created_at),"MMMM d, yyyy")})]})]})]})]}),s.jsx(tk,{studentId:e,studentName:i.name}),s.jsx(ek,{studentId:e,studentName:i.name}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-5",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Gn,className:"text-green-600 mr-2"}),"Billing"]})}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[s.jsx("p",{className:"text-gray-500",children:"Billing information and payment history will be displayed here."}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Feature coming soon"})]})]})]})]})]}):s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 text-center",children:[s.jsx(b,{icon:Ne,className:"text-amber-500 text-2xl mb-4 mx-auto"}),s.jsx("h2",{className:"text-lg font-semibold text-amber-800 mb-2",children:"Student Not Found"}),s.jsx("p",{className:"text-amber-700 mb-4",children:"The requested student could not be found or you don't have access."}),s.jsx("button",{onClick:t,className:"px-4 py-2 bg-amber-100 hover:bg-amber-200 text-amber-800 rounded-lg transition-colors",children:"Back to Students"})]})})},nk=({students:e,dateRange:t,onClose:r,onSuccess:n})=>{const{currentUserID:i,currentSchoolID:a}=Mt(),[o,l]=k.useState(!1),[c,d]=k.useState({current:0,total:0}),[u,h]=k.useState(null),[f,y]=k.useState(null),[v,_]=k.useState([]),[N,m]=k.useState(!1),[g,x]=k.useState(!1),[w,T]=k.useState("keep"),[S,C]=k.useState({}),[P,L]=k.useState([]),[M,U]=k.useState([]),[te,Z]=k.useState([]),ae=()=>{const $=new Date(t.startDate),Q=new Date(t.endDate),J=[],xe=Sj({start:$,end:Q},{weekStartsOn:1});return e.forEach(re=>{if(!re.lesson_day||!re.lesson_time||!re.lesson_duration)return;const be={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:0}[re.lesson_day];be!==void 0&&xe.forEach($e=>{const de=di($e,be===0?6:be-1);if(de<$||de>Q)return;const[O,H]=re.lesson_time.split(":"),oe=new Date(de);oe.setHours(parseInt(O),parseInt(H),0,0);const se=new Date(oe);se.setMinutes(se.getMinutes()+re.lesson_duration),J.push({student_id:re.id,teacher_id:i,school_id:a,scheduled_time:oe.toISOString(),end_time:se.toISOString(),duration_min:re.lesson_duration,status:"scheduled",student_name:re.name,lesson_date:ee(de,"yyyy-MM-dd"),lesson_day:re.lesson_day,lesson_time_display:ee(oe,"h:mm a")})})}),J},Y=async()=>{try{m(!0),y(null),console.log(" Checking for existing lessons in date range...");const $=ae(),Q=e.map(de=>de.id),{data:J,error:xe}=await X.from("lessons").select(`
          id,
          student_id,
          scheduled_time,
          duration_min,
          status,
          students (
            name
          )
        `).in("student_id",Q).eq("teacher_id",i).gte("scheduled_time",t.startDate).lte("scheduled_time",t.endDate).order("scheduled_time");if(xe)throw xe;if(!J||J.length===0){console.log(" No existing lessons found in date range"),await F($,[]);return}const re=J.map(de=>{var O;return{...de,student_name:((O=de.students)==null?void 0:O.name)||"Unknown Student",lesson_date:ee(new Date(de.scheduled_time),"yyyy-MM-dd"),lesson_day:ee(new Date(de.scheduled_time),"EEEE"),lesson_time_display:ee(new Date(de.scheduled_time),"h:mm a")}}),me=[],be={},$e={};if(re.forEach(de=>{const O=ee(new Date(de.scheduled_time),"yyyy-MM-dd"),H=ee(new Date(de.scheduled_time),"HH:mm"),oe=`${de.student_id}_${O}`;$e[oe]||($e[oe]=[]),$e[oe].push({...de,lessonDate:O,lessonTime:H,formattedDate:ee(new Date(de.scheduled_time),"MMM d, yyyy"),formattedTime:ee(new Date(de.scheduled_time),"h:mm a")})}),$.forEach(de=>{const O=de.lesson_date,H=ee(new Date(de.scheduled_time),"HH:mm"),oe=`${de.student_id}_${O}`;if($e[oe]){const se=$e[oe];se.some(pe=>ee(new Date(pe.scheduled_time),"HH:mm")===H)||se.forEach(pe=>{var Ce;me.some(Fe=>Fe.id===pe.id)||(me.push(pe),be[pe.student_id]||(be[pe.student_id]={studentName:((Ce=pe.students)==null?void 0:Ce.name)||"Unknown Student",lessons:[]}),be[pe.student_id].lessons.some(Fe=>Fe.id===pe.id)||be[pe.student_id].lessons.push(pe))})}}),_(me),C(be),me.length>0){console.log(` Found ${me.length} lessons with day conflicts (different time)`),x(!0);return}console.log(" No time conflicts found, proceeding with scheduling"),await F($,re)}catch($){console.error("Error checking for conflicting lessons:",$),y(`Failed to check for existing lessons: ${$.message}`)}finally{m(!1)}},D=async()=>{try{l(!0),y(null);const $=ae();if(w==="replace"&&v.length>0){console.log(" Deleting conflicting lessons before scheduling new ones...");const re=v.map(be=>be.id);U([...v]),await I(re);const{error:me}=await X.from("lessons").delete().in("id",re).eq("teacher_id",i);if(me)throw new Error(`Failed to delete conflicting lessons: ${me.message}`);console.log(` Successfully deleted ${v.length} conflicting lessons`)}else U([]);const{data:Q,error:J}=await X.from("lessons").select("id, student_id, scheduled_time, students(name)").in("student_id",e.map(re=>re.id)).eq("teacher_id",i).gte("scheduled_time",t.startDate).lte("scheduled_time",t.endDate);if(J)throw new Error(`Failed to check all existing lessons: ${J.message}`);const xe=(Q==null?void 0:Q.map(re=>{var me;return{...re,student_name:((me=re.students)==null?void 0:me.name)||"Unknown Student",lesson_date:ee(new Date(re.scheduled_time),"yyyy-MM-dd"),lesson_day:ee(new Date(re.scheduled_time),"EEEE"),lesson_time_display:ee(new Date(re.scheduled_time),"h:mm a")}}))||[];await F($,xe),x(!1)}catch($){console.error(" Error processing lessons:",$),y($.message)}finally{l(!1)}},I=async $=>{if(!(!$||$.length===0))try{console.log(` Deleting calendar events for ${$.length} lessons...`);const{error:Q}=await X.from("calendar_events").delete().in("linked_id",$).eq("linked_table","lessons");if(Q)throw console.error("Error deleting calendar events:",Q),new Error(`Failed to delete calendar events: ${Q.message}`);console.log(" Successfully deleted corresponding calendar events")}catch(Q){console.error("Error in deleteCalendarEventsForLessons:",Q)}},j=async $=>{if(!$||$.length===0)return[];try{console.log(` Creating ${$.length} calendar events...`);const Q=$.map(me=>me.id);await I(Q);const J=$.map(me=>({title:`Lesson with ${me.student_name}`,event_type:"lesson",start_time:me.scheduled_time,end_time:me.end_time,teacher_id:me.teacher_id,school_id:me.school_id,linked_id:me.id,linked_table:"lessons",location:"Online",notes:""})),{data:xe,error:re}=await X.from("calendar_events").insert(J).select();if(re)throw console.error("Error creating calendar events:",re),new Error(`Failed to create calendar events: ${re.message}`);return console.log(` Successfully created ${xe.length} calendar events`),xe}catch(Q){return console.error("Error in createCalendarEventsForLessons:",Q),[]}},F=async($,Q)=>{try{if(l(!0),y(null),h(null),console.log(" Starting lesson scheduling process..."),!i||!a)throw new Error("Missing user or school context. Please refresh the page and try again.");if(console.log(" Planned lessons:",$.length),$.length===0)throw new Error("No lessons to schedule. Please check student schedules and date range.");d({current:0,total:$.length});let J=$,xe=[],re=[];if(Q&&Q.length>0){console.log(" Filtering out exact duplicates...");const de=new Set,O={};Q.forEach(H=>{const oe=ee(new Date(H.scheduled_time),"yyyy-MM-dd"),se=ee(new Date(H.scheduled_time),"HH:mm"),le=`${H.student_id}_${oe}_${se}`;de.add(le),O[le]=H}),re=[],J=$.filter(H=>{const oe=ee(new Date(H.scheduled_time),"yyyy-MM-dd"),se=ee(new Date(H.scheduled_time),"HH:mm"),le=`${H.student_id}_${oe}_${se}`,pe=de.has(le);return pe&&(console.log(` Skipping duplicate lesson: ${le}`),re.push({...H,...O[le]})),!pe}),Z(re),console.log(` After filtering: ${J.length} new lessons to create`),console.log(` Skipped ${$.length-J.length} existing lessons`)}if(J.length===0){h({created:0,skipped:$.length,replaced:w==="replace"?v.length:0,total:$.length,message:"All lessons already exist for the selected date range."});return}const me=50;let be=0;const $e=[];for(let de=0;de<J.length;de+=me){const O=J.slice(de,de+me),H=O.map(({student_name:le,lesson_date:pe,lesson_day:Ce,lesson_time_display:Fe,end_time:er,...A})=>({student_id:A.student_id,teacher_id:A.teacher_id,school_id:A.school_id,scheduled_time:A.scheduled_time,duration_min:A.duration_min,status:A.status}));console.log(` Inserting batch ${Math.floor(de/me)+1}:`,H.length,"lessons");const{data:oe,error:se}=await X.from("lessons").insert(H).select("id, student_id, scheduled_time");if(se)throw console.error(" Error inserting lesson batch:",se),new Error(`Failed to create lessons: ${se.message}`);if(oe){const le=oe.map((pe,Ce)=>{const Fe=O[Ce];return{...pe,...Fe,end_time:Fe.end_time,student_name:Fe.student_name}});$e.push(...le),await j(le)}be+=O.length,d({current:be,total:J.length})}L($e),console.log(" Lesson scheduling completed successfully"),h({created:be,skipped:$.length-J.length,replaced:w==="replace"?v.length:0,total:be+($.length-J.length),message:`Successfully scheduled ${be} new lessons.`}),n&&n({created:be,skipped:$.length-J.length,replaced:w==="replace"?v.length:0,addedLessons:$e,deletedLessons:M,skippedLessons:re})}catch(J){console.error(" Error scheduling lessons:",J),y(J.message)}finally{l(!1)}},z=async()=>{await Y()},W=ae(),G=Math.ceil((new Date(t.endDate)-new Date(t.startDate))/(7*24*60*60*1e3)),V={};return W.forEach($=>{V[$.student_id]||(V[$.student_id]=0),V[$.student_id]++}),s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Me,className:"text-teal-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Schedule Lessons"})]}),s.jsx("button",{onClick:r,disabled:o||N,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors disabled:opacity-50",children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),f&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-red-800 font-medium",children:"Error"}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:f})]})]})}),g&&v.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(b,{icon:Ir,className:"text-amber-500 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-amber-800 font-medium",children:"Time Conflicts Found"}),s.jsxs("p",{className:"text-amber-700 text-sm mt-1",children:[v.length," lesson",v.length!==1?"s":""," already exist on the same day but at a different time for ",Object.keys(S).length," student",Object.keys(S).length!==1?"s":"","."]}),s.jsx("p",{className:"text-amber-700 text-sm mt-2",children:"Please choose how you want to handle these conflicts:"})]})]})}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsx("div",{className:`border-2 rounded-xl p-4 cursor-pointer transition-all ${w==="keep"?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>T("keep"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center mr-3 ${w==="keep"?"border-teal-500 bg-teal-500":"border-gray-300"}`,children:w==="keep"&&s.jsx(b,{icon:Ke,className:"text-white text-xs"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Keep existing lessons"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Keep the existing lessons and add new lessons at the times in your timetable."})]})]})}),s.jsx("div",{className:`border-2 rounded-xl p-4 cursor-pointer transition-all ${w==="replace"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>T("replace"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center mr-3 ${w==="replace"?"border-red-500 bg-red-500":"border-gray-300"}`,children:w==="replace"&&s.jsx(b,{icon:Ke,className:"text-white text-xs"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Replace conflicting lessons"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Delete the conflicting lessons and create new ones at the times in your timetable."})]})]})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-6 max-h-60 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Conflicting Lessons"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[v.length," total"]})]}),Object.keys(S).map($=>s.jsxs("div",{className:"mb-4 last:mb-0",children:[s.jsxs("div",{className:"font-medium text-gray-700 mb-1 flex items-center justify-between",children:[s.jsx("span",{children:S[$].studentName}),s.jsxs("span",{className:"text-sm text-gray-500",children:[S[$].lessons.length," lesson",S[$].lessons.length!==1?"s":""]})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-2 text-sm",children:S[$].lessons.map((Q,J)=>s.jsx("div",{className:J>0?"mt-1 pt-1 border-t border-gray-200":"",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:Q.formattedDate}),s.jsx("span",{children:Q.formattedTime})]})},Q.id))})]},$))]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:r,disabled:o,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{onClick:D,disabled:o,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(b,{icon:o?Ye:Zs,className:o?"animate-pulse":""}),s.jsx("span",{children:o?"Processing...":"Continue"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Scheduling Summary"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-teal-600",children:e.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Students"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:G}),s.jsx("div",{className:"text-sm text-gray-600",children:"Weeks"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:W.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Lessons"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(b,{icon:Me,className:"text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-800",children:"Date Range"})]}),s.jsxs("p",{className:"text-blue-700",children:[ee(new Date(t.startDate),"MMMM d, yyyy")," - ",ee(new Date(t.endDate),"MMMM d, yyyy")]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Scheduling Context"}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Teacher ID:"})," ",i]}),s.jsxs("p",{children:[s.jsx("strong",{children:"School ID:"})," ",a]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Students Ready:"})," ",e.length]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(b,{icon:Rr,className:"text-gray-600 mr-2"}),"Students to Schedule (",e.length,")"]}),s.jsx("div",{className:"max-h-32 overflow-y-auto bg-gray-50 rounded-lg p-3",children:s.jsx("div",{className:"space-y-2",children:e.map($=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:$.name}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx("span",{children:$.lesson_day}),s.jsx("span",{children:""}),s.jsx("span",{children:$.lesson_time}),s.jsx("span",{children:""}),s.jsxs("span",{children:[$.lesson_duration,"min"]}),s.jsx("span",{children:""}),s.jsxs("span",{className:"text-blue-600",children:[V[$.id]||0," lessons"]})]})]},$.id))})})]}),(o||N)&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:N?"Checking existing lessons...":"Creating lessons..."}),o&&s.jsxs("span",{className:"text-sm text-gray-600",children:[c.current," / ",c.total]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o?s.jsx("div",{className:"bg-teal-500 h-2 rounded-full transition-all duration-300",style:{width:`${c.total>0?c.current/c.total*100:0}%`}}):s.jsx("div",{className:"bg-blue-500 h-2 rounded-full animate-pulse w-1/3"})})]}),u&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(b,{icon:Ke,className:"text-green-500 mr-2"}),s.jsx("h4",{className:"text-green-800 font-medium",children:"Scheduling Complete"})]}),s.jsxs("div",{className:"text-green-700 text-sm space-y-1",children:[s.jsx("p",{children:u.message}),s.jsxs("p",{children:[s.jsx("strong",{children:"Created:"})," ",u.created," new lessons"]}),u.skipped>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Skipped (already exist):"})," ",u.skipped," lessons"]}),u.replaced>0&&s.jsxs("p",{children:[s.jsx("strong",{children:"Replaced:"})," ",u.replaced," conflicting lessons"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total:"})," ",u.total," lessons processed"]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:r,disabled:o||N,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors disabled:opacity-50",children:u?"Close":"Cancel"}),!u&&s.jsxs("button",{onClick:z,disabled:o||N||W.length===0||!i||!a,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(b,{icon:o||N?Ye:Zs,className:o||N?"animate-pulse":""}),s.jsx("span",{children:o?"Scheduling...":N?"Checking...":"Schedule Lessons"})]})]}),!u&&!g&&s.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-xl p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(b,{icon:Ne,className:"text-yellow-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-yellow-700 text-sm",children:[s.jsx("p",{className:"font-medium mb-1",children:"Important Notes:"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsx("li",{children:" Duplicate lessons (same student, day, and time) will be automatically skipped"}),s.jsx("li",{children:" You'll be prompted only if a student has a lesson on the same day but at a different time"}),s.jsx("li",{children:" Make sure your date range and student schedules are correct"})]})]})]})})]})]})})},O0=({student:e,onUpdateStudent:t,onClearStudent:r,onDragStart:n,onStudentClick:i,userIsAdmin:a,formatTimeSlot:o,timeSlots:l,durationOptions:c,saving:d,isIncomplete:u=!1,hasClash:h=!1,clashPartners:f=[],isCalendarView:y=!1,showInlineEditing:v=!0,style:_={}})=>{const[N,m]=k.useState(!1),[g,x]=k.useState(!1),[w,T]=k.useState(!1),[S,C]=k.useState(!1),P=D=>{D.stopPropagation(),D.preventDefault(),r&&a&&r(e.id)},L=D=>{D.stopPropagation(),D.preventDefault(),i&&a&&i(e,D.currentTarget.closest(".student-card"))},M=D=>{n&&a&&n(D,e)},U=D=>{D.stopPropagation()},te=()=>h?"bg-red-50 border-2 border-red-300 hover:bg-red-100":u?"bg-amber-50 border-2 border-amber-300 hover:bg-amber-100":"bg-gray-50 border border-gray-200 hover:bg-gray-100",Z=()=>{if(h)return{icon:fr,iconColor:"text-red-500",title:"Time Conflict!",content:"Lesson time overlaps with other students. Check schedule conflicts."};if(u){const D=[];return e.lesson_time||D.push("time"),e.lesson_duration||D.push("duration"),{icon:Ne,iconColor:"text-amber-500",title:"Incomplete Schedule",content:`Missing: ${D.join(", ")}`}}else if(e.instrument)return y?{icon:Ir,iconColor:"text-blue-400",title:"",content:`${e.instrument}, ${e.lesson_duration} mins`}:{icon:Ir,iconColor:"text-blue-400",title:"",content:e.instrument};return null},ae=()=>y?"right-0 top-1/2 transform translate-x-full -translate-y-1/2 ml-2":"bottom-full left-1/2 transform -translate-x-1/2 mb-2",Y=()=>y?"absolute top-1/2 left-0 transform -translate-x-1/2 -translate-y-1/2 rotate-90":"absolute top-full left-1/2 transform -translate-x-1/2";return s.jsxs("div",{className:`student-card group relative rounded-lg p-2 transition-all duration-200 select-none ${a&&n?"cursor-grab active:cursor-grabbing":"cursor-default"} ${te()} ${y?"min-h-0":""}`,style:_,draggable:a&&!d&&n,onDragStart:M,onMouseEnter:()=>{m(!0),x(!0),C(!0)},onMouseLeave:()=>{m(!1),x(!1),C(!1),T(!1)},children:[(h||u)&&s.jsxs("div",{className:"absolute -top-1 -right-1 z-10",children:[h&&s.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:fr,className:"text-white text-xs"})}),!h&&u&&s.jsx("div",{className:"w-4 h-4 bg-amber-500 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Ne,className:"text-white text-xs"})})]}),g&&a&&r&&s.jsxs("button",{onClick:P,onMouseDown:U,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),className:"absolute -top-1 -left-1 z-30 w-5 h-5 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-all duration-200 opacity-0 group-hover:opacity-100",title:"Remove from timetable","aria-label":"Remove from timetable",children:[s.jsx(b,{icon:rt,className:"text-xs"}),s.jsx("span",{className:"sr-only",children:"Remove from timetable"}),w&&s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-1 z-40 whitespace-nowrap bg-gray-800 text-white text-xs rounded px-2 py-1 pointer-events-none",children:"Remove from timetable"})]}),S&&a&&i&&s.jsx("button",{onClick:L,onMouseDown:U,className:"absolute -top-1 -right-1 z-30 w-5 h-5 bg-teal-500 hover:bg-teal-600 text-white rounded-full flex items-center justify-center transition-all duration-200 opacity-0 group-hover:opacity-100",title:"Edit lesson details",children:s.jsx(b,{icon:es,className:"text-xs"})}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-800 truncate",children:e.name||"Unnamed Student"}),y&&s.jsxs("div",{className:"text-xs text-gray-600 truncate",children:[e.lesson_time&&o(e.lesson_time),e.lesson_time&&e.lesson_time_end_formatted&&"",e.lesson_time_end_formatted&&e.lesson_time_end_formatted]}),!y&&s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 mt-1 truncate",children:[s.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:s.jsx("span",{className:`${e.lesson_time?"text-gray-700 font-medium":"text-gray-400 italic"}`,children:o(e.lesson_time)})}),s.jsx("span",{className:"text-gray-400 flex-shrink-0",children:""}),s.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:s.jsx("span",{className:`${e.lesson_duration?"text-gray-700 font-medium":"text-gray-400 italic"}`,children:e.lesson_duration?`${e.lesson_duration}`:"No duration"})})]})]}),d&&s.jsx("div",{className:"flex items-center space-x-1 text-teal-600",children:s.jsx(b,{icon:rs,className:"animate-pulse text-xs"})})]}),N&&Z()&&s.jsx("div",{className:`absolute z-40 ${ae()}`,children:s.jsxs("div",{className:`text-white text-xs rounded-lg px-3 py-2 whitespace-nowrap shadow-lg ${h?"bg-red-600":u?"bg-amber-600":"bg-gray-800"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(b,{icon:Z().icon,className:Z().iconColor}),s.jsxs("div",{children:[Z().title&&s.jsx("div",{className:"font-medium",children:Z().title}),s.jsx("div",{className:"text-xs opacity-90",children:Z().content})]})]}),s.jsx("div",{className:`w-2 h-2 rotate-45 ${h?"bg-red-600":u?"bg-amber-600":"bg-gray-800"} ${Y()}`})]})})]})},sk=({students:e,daysOfWeek:t,onUpdateStudent:r,onClearStudent:n,onDragStart:i,onDragOver:a,onDragLeave:o,onDrop:l,userIsAdmin:c,formatTimeSlot:d,timeSlots:u,durationOptions:h,saving:f,getStudentsForDay:y,isStudentIncomplete:v,isStudentInClash:_,getStudentClashPartners:N,dragOverDay:m,calendarSettings:g,onStudentClick:x})=>{const w=k.useRef(null),[T,S]=k.useState(null),[C,P]=k.useState(null),[L,M]=k.useState(null),te=(()=>{const{startHour:W,endHour:G,timeGridInterval:V}=g,$=[],Q=V||30;for(let J=W;J<=G;J++)for(let xe=0;xe<60;xe+=Q){const re=`${J.toString().padStart(2,"0")}:${xe.toString().padStart(2,"0")}`;$.push(re)}return $})(),Z=W=>{if(!W)return 0;const[G,V]=W.split(":").map(Number),$=(G-g.startHour)*60+V,Q=60,J=g.timeGridInterval||30;return $/J*Q},ae=W=>{if(!W)return 60;const V=60/(g.timeGridInterval||30);return Math.max(60,W*(V/60))},Y=(W,G)=>{c&&(S(G),W.dataTransfer.effectAllowed="move",W.dataTransfer.setData("text/plain",""))},D=(W,G,V)=>{W.preventDefault(),W.dataTransfer.dropEffect="move",M(G),P(V)},I=async(W,G,V)=>{if(W.preventDefault(),M(null),P(null),!T||!c)return;const $=te[V];if(T.lesson_day===G&&T.lesson_time===$){S(null);return}try{T.lesson_day!==G&&await r(T.id,"lesson_day",G),T.lesson_time!==$&&await r(T.id,"lesson_time",$),S(null)}catch(Q){console.error(" Error moving student:",Q),S(null)}},F=(()=>{const W=g.timeGridInterval||30,G=g.endHour-g.startHour+1,V=60/W;return G*V*60})(),z=(W,G)=>{if(!W||!G)return null;const[V,$]=W.split(":").map(Number),Q=V*60+$+G,J=Math.floor(Q/60),xe=Q%60;return`${J.toString().padStart(2,"0")}:${xe.toString().padStart(2,"0")}`};return s.jsxs("div",{children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm",children:s.jsxs("div",{className:"grid grid-cols-8",children:[s.jsx("div",{className:"p-4 text-center font-medium text-gray-500 bg-gray-50 border-r border-gray-200",children:s.jsx(b,{icon:Ye,className:"mx-auto text-gray-400"})}),t.map(W=>{const G=y(W),V=m===W||L===W;return s.jsxs("div",{className:`p-4 text-center font-medium border-r border-gray-200 transition-all duration-200 ${V?"bg-teal-100 text-teal-700":"bg-teal-50 text-teal-800"}`,children:[s.jsx("div",{className:"text-sm font-semibold",children:W}),s.jsxs("div",{className:"text-xs text-teal-600 mt-1",children:[G.length," lesson",G.length!==1?"s":""]})]},W)})]})}),s.jsx("div",{ref:w,className:"overflow-y-auto max-h-[600px] relative",children:s.jsxs("div",{className:"grid grid-cols-8",style:{height:`${F}px`},children:[s.jsx("div",{className:"border-r border-gray-200 bg-gray-50 sticky left-0 z-20",children:te.map((W,G)=>s.jsx("div",{className:"h-15 border-b border-gray-100 flex items-center justify-center text-xs text-gray-600 font-medium",style:{height:"60px"},children:d(W)},W))}),t.map(W=>{const G=y(W);return s.jsxs("div",{className:"relative border-r border-gray-200",children:[te.map((V,$)=>{const Q=L===W&&C===$;return s.jsx("div",{className:`absolute w-full border-b border-gray-100 transition-all duration-200 ${Q?"bg-teal-100 border-teal-300":""}`,style:{top:`${$*60}px`,height:"60px"},onDragOver:J=>D(J,W,$),onDrop:J=>I(J,W,$)},V)}),G.map(V=>{if(!V.lesson_time||!V.lesson_duration)return null;const $=Z(V.lesson_time),Q=ae(V.lesson_duration),J=(T==null?void 0:T.id)===V.id,xe=z(V.lesson_time,V.lesson_duration),re={...V,lesson_time_end_formatted:xe?d(xe):null};return s.jsx("div",{className:`absolute left-1 right-1 z-10 transition-all duration-200 ${J?"opacity-50 scale-105":""}`,style:{top:`${$}px`,height:`${Q}px`},children:s.jsx(O0,{student:re,onUpdateStudent:r,onClearStudent:n,onDragStart:Y,onStudentClick:x,userIsAdmin:c,formatTimeSlot:d,timeSlots:u,durationOptions:h,saving:f===V.id,isIncomplete:v(V),hasClash:_(V.id),clashPartners:N(V.id),isCalendarView:!0,showInlineEditing:!1,style:{height:"100%",minHeight:"60px"}})},V.id)}),m===W&&!L&&s.jsx("div",{className:"absolute inset-0 bg-teal-100 bg-opacity-50 border-2 border-dashed border-teal-400 rounded-lg flex items-center justify-center z-20",children:s.jsx("div",{className:"text-teal-600 font-medium text-sm",children:"Drop here"})})]},W)})]})})]}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-teal-50 border border-teal-200 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Scheduled Lesson"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-red-50 border border-red-300 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Time Conflict"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-amber-50 border border-amber-300 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Incomplete Schedule"})]})]}),s.jsxs("div",{className:"text-gray-500",children:[g.timeGridInterval,"-minute snap grid  Time range: ",g.startHour,":00 -"," ",g.endHour,":00"]})]})})]})},ik=({student:e,anchorElement:t,onClose:r,onSave:n,timeSlots:i,daysOfWeek:a,formatTimeSlot:o,saving:l=!1})=>{const[c,d]=k.useState(""),[u,h]=k.useState(""),[f,y]=k.useState(null),[v,_]=k.useState({top:0,left:0,placement:"right"}),[N,m]=k.useState(!1);k.useEffect(()=>{e&&(d(e.lesson_day||""),h(e.lesson_time||""),g(e.lesson_type_id))},[e]);const g=async S=>{if(!S){y(null);return}try{m(!0);const{data:C,error:P}=await X.from("lesson_types").select("*").eq("id",S).single();if(P)throw P;y(C)}catch(C){console.error("Error fetching lesson type:",C)}finally{m(!1)}};k.useEffect(()=>{if(t){const S=t.getBoundingClientRect(),C=300,P=320,L=12;let M=S.right+L,U=S.top,te="right";M+C>window.innerWidth-20&&(M=S.left-C-L,te="left",M<20&&(M=Math.max(20,(window.innerWidth-C)/2),U=S.bottom+L,te="bottom")),U+P>window.innerHeight-20&&(te==="bottom"?(U=S.top-P-L,te="top"):U=Math.max(20,window.innerHeight-P-20)),U=Math.max(20,U),_({top:U,left:M,placement:te})}},[t]);const x=()=>{if(n){const S={};c!==e.lesson_day&&(S.lesson_day=c||null),u!==e.lesson_time&&(S.lesson_time=u||null),n(S)}},w=S=>{S.key==="Enter"?x():S.key==="Escape"&&r()},T=()=>{const C=t==null?void 0:t.getBoundingClientRect();if(!C)return{};switch(v.placement){case"right":return{position:"absolute",left:-8,top:Math.min(C.height/2,40),width:0,height:0,borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderRight:"8px solid white",filter:"drop-shadow(-1px 0 1px rgba(0,0,0,0.1))"};case"left":return{position:"absolute",right:-8,top:Math.min(C.height/2,40),width:0,height:0,borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderLeft:"8px solid white",filter:"drop-shadow(1px 0 1px rgba(0,0,0,0.1))"};case"bottom":return{position:"absolute",top:-8,left:"50%",marginLeft:-8,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid white",filter:"drop-shadow(0 -1px 1px rgba(0,0,0,0.1))"};case"top":return{position:"absolute",bottom:-8,left:"50%",marginLeft:-8,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:"8px solid white",filter:"drop-shadow(0 1px 1px rgba(0,0,0,0.1))"};default:return{}}};return!e||!t?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-20",onClick:r}),s.jsxs("div",{className:"fixed z-50 bg-white rounded-xl shadow-lg border border-gray-200 w-[300px]",style:{top:`${v.top}px`,left:`${v.left}px`},onKeyDown:w,children:[s.jsx("div",{style:T()}),s.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100",children:[s.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Edit Lesson Time"}),s.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(b,{icon:rt,className:"text-gray-500 text-sm"})})]}),s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-800",children:e.name}),s.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[s.jsx(b,{icon:ts,className:"text-gray-400 text-xs"}),s.jsx("span",{className:"capitalize",children:e.instrument||"No instrument set"})]}),N?s.jsx("div",{className:"text-xs text-gray-500",children:"Loading lesson type..."}):f?s.jsxs("div",{className:"text-xs text-teal-700",children:[s.jsx("span",{className:"capitalize",children:f.lesson_category||"Standard"}),"  ",s.jsx("span",{children:f.name})]}):s.jsx("div",{className:"text-xs text-amber-600",children:"No lesson type selected"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[s.jsx(b,{icon:Me,className:"inline mr-1 text-gray-400"})," Lesson Day"]}),s.jsxs("select",{value:c,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent text-sm",disabled:l,children:[s.jsx("option",{value:"",children:"Select day"}),a&&a.map(S=>s.jsx("option",{value:S,children:S},S))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[s.jsx(b,{icon:Ye,className:"inline mr-1 text-gray-400"})," Lesson Time"]}),s.jsxs("select",{value:u,onChange:S=>h(S.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent text-sm",disabled:l,children:[s.jsx("option",{value:"",children:"Select time"}),i.map(S=>s.jsx("option",{value:S,children:o(S)},S))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"End time will be automatically calculated based on lesson type duration."})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border-t border-gray-100",children:[s.jsx("button",{onClick:r,className:"px-3 py-1.5 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors text-xs",disabled:l,children:"Cancel"}),s.jsxs("button",{onClick:x,disabled:l||!c&&!u||c===e.lesson_day&&u===e.lesson_time,className:"flex items-center space-x-1 px-3 py-1.5 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:[s.jsx(b,{icon:rs,className:l?"animate-pulse":""}),s.jsx("span",{children:l?"Saving...":"Save"})]})]})]})]})},ak=()=>{const{currentUserID:e,currentSchoolID:t,userIsAdmin:r}=Mt(),[n,i]=k.useState([]),[a,o]=k.useState(!0),[l,c]=k.useState(null),[d,u]=k.useState(null),[h,f]=k.useState({startDate:"",endDate:""}),[y,v]=k.useState(!1),[_,N]=k.useState(null),[m,g]=k.useState(null),[x,w]=k.useState([]),[T,S]=k.useState("compact"),[C,P]=k.useState({timeGridInterval:30,startHour:7,endHour:23}),[L,M]=k.useState([]),[U,te]=k.useState(null),[Z,ae]=k.useState(null),[Y,D]=k.useState(null),[I,j]=k.useState(!1),[F,z]=k.useState([]),[W,G]=k.useState([]),[V,$]=k.useState([]),Q=k.useRef(null),J=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],re=(()=>{const E=[];for(let R=7;R<=23;R++)for(let ie=0;ie<60;ie+=5){const ne=`${R.toString().padStart(2,"0")}:${ie.toString().padStart(2,"0")}`;E.push(ne)}return E})(),be=(()=>{const E=[];for(let R=15;R<=120;R+=5)E.push(R);return E})();k.useEffect(()=>{e&&($e(),de())},[e]),k.useEffect(()=>{O()},[n]),k.useEffect(()=>{I&&Q.current&&Q.current.scrollIntoView({behavior:"smooth",block:"start"})},[I]);const $e=async()=>{try{o(!0),c(null),console.log(" Fetching students for timetable:",e);const{data:E,error:R}=await X.from("students").select("id, name, first_name, last_name, instrument, status, lesson_day, lesson_time, lesson_time_end, lesson_duration, teacher_id, school_id, lesson_type_id").eq("teacher_id",e).eq("status","Current").order("name");if(R)throw new Error(`Error fetching students: ${R.message}`);console.log(" Students fetched:",(E==null?void 0:E.length)||0),i(E||[])}catch(E){console.error(" Error fetching students:",E),c(E.message)}finally{o(!1)}},de=async()=>{try{const{data:E,error:R}=await X.from("lesson_types").select("*").eq("school_id",t).order("name");if(R){console.error("Error fetching lesson types:",R);return}M(E||[])}catch(E){console.error("Error fetching lesson types:",E)}},O=()=>{const E=[],R=Ie().filter(ne=>ne.lesson_duration),ie={};R.forEach(ne=>{ie[ne.lesson_day]||(ie[ne.lesson_day]=[]),ie[ne.lesson_day].push(ne)}),Object.keys(ie).forEach(ne=>{const tr=ie[ne];for(let qt=0;qt<tr.length;qt++)for(let gr=qt+1;gr<tr.length;gr++){const xr=tr[qt],Ft=tr[gr];H(xr,Ft)&&E.push([xr.id,Ft.id])}}),w(E)},H=(E,R)=>{if(!E.lesson_time||!R.lesson_time||!E.lesson_duration||!R.lesson_duration)return!1;const ie=xr=>{const[Ft,B0]=xr.split(":").map(Number);return Ft*60+B0},ne=ie(E.lesson_time),tr=ne+E.lesson_duration,qt=ie(R.lesson_time),gr=qt+R.lesson_duration;return ne<gr&&qt<tr},oe=E=>x.some(R=>R.includes(E)),se=E=>{const R=[];return x.forEach(ie=>{ie.includes(E)&&R.push(...ie.filter(ne=>ne!==E))}),R},le=async(E,R,ie)=>{if(r)try{u(E),console.log(" Updating student schedule:",{studentId:E,field:R,value:ie});const ne={[R]:ie||null},{error:tr}=await X.from("students").update(ne).eq("id",E).eq("teacher_id",e);if(tr)throw new Error(`Error updating ${R}: ${tr.message}`);const{data:qt,error:gr}=await X.from("students").select("*").eq("id",E).single();gr&&console.error("Error fetching updated student data:",gr),i(qt?xr=>xr.map(Ft=>Ft.id===E?qt:Ft):xr=>xr.map(Ft=>Ft.id===E?{...Ft,...ne}:Ft)),console.log(" Student schedule updated successfully")}catch(ne){console.error(" Error updating student schedule:",ne),c(ne.message)}finally{u(null)}},pe=async E=>{if(r)try{u(E),console.log(" Clearing student schedule:",E);const{error:R}=await X.from("students").update({lesson_day:null,lesson_time:null,lesson_time_end:null,lesson_duration:null}).eq("id",E).eq("teacher_id",e);if(R)throw new Error(`Error clearing schedule: ${R.message}`);i(ie=>ie.map(ne=>ne.id===E?{...ne,lesson_day:null,lesson_time:null,lesson_time_end:null,lesson_duration:null}:ne)),console.log(" Student schedule cleared successfully")}catch(R){console.error(" Error clearing student schedule:",R),c(R.message)}finally{u(null)}},Ce=(E,R)=>{r&&(te(E),ae(R))},Fe=async E=>{if(!(!U||!r))try{u(U.id),E.lesson_day!==void 0&&await le(U.id,"lesson_day",E.lesson_day),E.lesson_time!==void 0&&await le(U.id,"lesson_time",E.lesson_time),te(null),ae(null)}catch(R){console.error(" Error saving lesson updates:",R)}},er=(E,R)=>{r&&(N(R),E.dataTransfer.effectAllowed="move",E.dataTransfer.setData("text/plain",""))},A=(E,R)=>{E.preventDefault(),E.dataTransfer.dropEffect="move",g(R)},q=E=>{const R=E.currentTarget.getBoundingClientRect(),ie=E.clientX,ne=E.clientY;(ie<R.left||ie>R.right||ne<R.top||ne>R.bottom)&&g(null)},Pe=async(E,R)=>{if(E.preventDefault(),g(null),!(!_||!r)){if(_.lesson_day===R){N(null);return}try{await le(_.id,"lesson_day",R),N(null)}catch(ie){console.error(" Error moving student:",ie),N(null)}}},ge=E=>{if(!E)return"Not set";const[R,ie]=E.split(":"),ne=parseInt(R);return ne===0?`12:${ie.padStart(2,"0")} AM`:ne<12?`${ne}:${ie.padStart(2,"0")} AM`:ne===12?`12:${ie.padStart(2,"0")} PM`:`${ne-12}:${ie.padStart(2,"0")} PM`},Ie=()=>n.filter(E=>E.lesson_day&&E.lesson_time),gt=()=>n.filter(E=>!E.lesson_day||!E.lesson_time),xt=E=>Ie().filter(R=>R.lesson_day===E).sort((R,ie)=>R.lesson_time?ie.lesson_time?R.lesson_time.localeCompare(ie.lesson_time):-1:1),Nt=E=>!E.lesson_time||!E.lesson_duration,Ot=E=>{const R=h.startDate?new Date(h.startDate):new Date,ie=di(R,E*7);f({startDate:ee(R,"yyyy-MM-dd"),endDate:ee(ie,"yyyy-MM-dd")})},F0=()=>{if(!h.startDate||!h.endDate){c("Please select a date range first");return}if(Ie().filter(R=>R.lesson_duration).length===0){c("No students have complete schedule information (day, time, and duration)");return}if(!e||!t){c("Missing user or school context. Please refresh the page and try again.");return}v(!0)},A0=E=>{D(E),z(E.addedLessons||[]),G(E.deletedLessons||[]),$(E.skippedLessons||[]),j(!0),v(!1)},Bc=()=>{if(!h.startDate||!h.endDate)return 0;const E=new Date(h.startDate),R=new Date(h.endDate),ie=Math.abs(R-E);return Math.ceil(ie/(1e3*60*60*24*7))},$0=E=>{const R=L.find(ie=>ie.id===E);return R?R.name:"Not set"},I0=E=>{P(R=>({...R,timeGridInterval:parseInt(E)}))},R0=()=>{j(!1),D(null),z([]),G([]),$([])},Ka=E=>{const R=new Date(E);return ee(R,"EEEE, MMMM d, yyyy")};return a?s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-7 gap-4",children:[1,2,3,4,5,6,7].map(E=>s.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"},E))})]})}):s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Timetable Planning"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Organize your weekly lesson schedule and generate lesson records"})]}),l&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}),x.length>0&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:fr,className:"text-amber-500 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Time Conflicts Detected"}),s.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[x.length," lesson time conflict",x.length!==1?"s":""," found. Conflicting students are highlighted in red."]})]})]})}),I&&Y&&s.jsxs("div",{ref:Q,className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Ir,className:"text-green-600 mr-2"})," Lesson Scheduling Results"]}),s.jsx("button",{onClick:R0,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[F.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(b,{icon:Zt,className:"text-green-600 mr-2"})," The following lessons were added:"]}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 max-h-60 overflow-y-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-green-100",children:[s.jsx("th",{className:"py-2 pr-4 text-left",children:"Date"}),s.jsx("th",{className:"py-2 pr-4 text-left",children:"Time"}),s.jsx("th",{className:"py-2 text-left",children:"Student"})]})}),s.jsx("tbody",{children:F.sort((E,R)=>new Date(E.scheduled_time)-new Date(R.scheduled_time)).map(E=>s.jsxs("tr",{className:"border-b border-green-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4",children:Ka(E.scheduled_time)}),s.jsx("td",{className:"py-2 pr-4 font-medium",children:E.lesson_time_display}),s.jsx("td",{className:"py-2",children:E.student_name})]},E.id))})]})})]}),W.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(b,{icon:FiTrash2,className:"text-red-600 mr-2"})," The following lessons were deleted:"]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 max-h-60 overflow-y-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-red-100",children:[s.jsx("th",{className:"py-2 pr-4 text-left",children:"Date"}),s.jsx("th",{className:"py-2 pr-4 text-left",children:"Time"}),s.jsx("th",{className:"py-2 text-left",children:"Student"})]})}),s.jsx("tbody",{children:W.sort((E,R)=>new Date(E.scheduled_time)-new Date(R.scheduled_time)).map(E=>s.jsxs("tr",{className:"border-b border-red-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4",children:Ka(E.scheduled_time)}),s.jsx("td",{className:"py-2 pr-4 font-medium",children:ee(new Date(E.scheduled_time),"h:mm a")}),s.jsx("td",{className:"py-2",children:E.student_name})]},E.id))})]})})]}),V.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(b,{icon:Ir,className:"text-blue-600 mr-2"})," The following lessons already existed and were left as they were:"]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 max-h-60 overflow-y-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-blue-100",children:[s.jsx("th",{className:"py-2 pr-4 text-left",children:"Date"}),s.jsx("th",{className:"py-2 pr-4 text-left",children:"Time"}),s.jsx("th",{className:"py-2 text-left",children:"Student"})]})}),s.jsx("tbody",{children:V.sort((E,R)=>new Date(E.scheduled_time)-new Date(R.scheduled_time)).map(E=>s.jsxs("tr",{className:"border-b border-blue-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4",children:Ka(E.scheduled_time)}),s.jsx("td",{className:"py-2 pr-4 font-medium",children:E.lesson_time_display||ee(new Date(E.scheduled_time),"h:mm a")}),s.jsx("td",{className:"py-2",children:E.student_name})]},E.id||E.student_id+E.scheduled_time))})]})})]}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:Y.created}),s.jsx("div",{className:"text-sm text-gray-600",children:"Added"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-red-600",children:Y.replaced}),s.jsx("div",{className:"text-sm text-gray-600",children:"Deleted"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:Y.skipped}),s.jsx("div",{className:"text-sm text-gray-600",children:"Skipped"})]})]})})]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Timetable View"}),s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsxs("button",{onClick:()=>S("compact"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ${T==="compact"?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[s.jsx(b,{icon:p0}),s.jsx("span",{className:"font-medium",children:"Compact List"})]}),s.jsxs("button",{onClick:()=>S("calendar"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ${T==="calendar"?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[s.jsx(b,{icon:m0}),s.jsx("span",{className:"font-medium",children:"Calendar View"})]})]})]})})}),T==="compact"?s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Me,className:"text-teal-600 mr-2"})," Weekly Timetable"]}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:r?"Click edit icon to modify  Hover for clear button":"View your weekly lesson schedule"})]}),s.jsx("div",{className:"grid grid-cols-7 gap-3",children:J.map(E=>{const R=xt(E),ie=m===E;return s.jsxs("div",{className:`border-2 rounded-xl transition-all duration-200 ${ie?"border-teal-400 bg-teal-50 scale-105 shadow-lg":"border-gray-200"}`,onDragOver:ne=>A(ne,E),onDragLeave:q,onDrop:ne=>Pe(ne,E),children:[s.jsxs("div",{className:`border-b p-3 rounded-t-xl transition-colors ${ie?"bg-teal-100 border-teal-200":"bg-teal-50 border-teal-100"}`,children:[s.jsx("h3",{className:"font-semibold text-teal-800 text-center text-sm",children:E}),s.jsxs("p",{className:"text-xs text-teal-600 text-center mt-1",children:[R.length," student",R.length!==1?"s":""]})]}),s.jsxs("div",{className:"p-2 space-y-1 min-h-[350px]",children:[R.map(ne=>s.jsx(O0,{student:ne,onUpdateStudent:le,onClearStudent:pe,onDragStart:er,onStudentClick:Ce,userIsAdmin:r,formatTimeSlot:ge,timeSlots:re,durationOptions:be,saving:d===ne.id,isIncomplete:Nt(ne),hasClash:oe(ne.id),clashPartners:se(ne.id),showInlineEditing:!1},ne.id)),R.length===0&&s.jsx("div",{className:`flex items-center justify-center h-32 text-gray-400 text-sm transition-all ${ie?"text-teal-500":""}`,children:ie?"Drop here":"No lessons"})]})]},E)})})]}):s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Me,className:"text-teal-600 mr-2"})," Calendar View"]}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:r?"Click edit icon for details  Hover for clear button":"Visual weekly lesson calendar"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Grid Interval:"}),s.jsxs("select",{value:C.timeGridInterval,onChange:E=>I0(E.target.value),className:"px-2 py-1 border border-gray-200 rounded text-sm focus:outline-none focus:ring-2 focus:ring-teal-400",children:[s.jsx("option",{value:15,children:"15 min"}),s.jsx("option",{value:30,children:"30 min"}),s.jsx("option",{value:60,children:"60 min"})]})]})]})}),s.jsx(sk,{students:n,daysOfWeek:J,onUpdateStudent:le,onClearStudent:pe,onDragStart:er,onDragOver:A,onDragLeave:q,onDrop:Pe,onStudentClick:Ce,userIsAdmin:r,formatTimeSlot:ge,timeSlots:re,durationOptions:be,saving:d,getStudentsForDay:xt,isStudentIncomplete:Nt,isStudentInClash:oe,getStudentClashPartners:se,dragOverDay:m,calendarSettings:C})]}),gt().length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Rr,className:"text-amber-600 mr-2"})," Unscheduled Students"]}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Students missing lesson day or time information - complete their schedule to move them to the timetable"})]}),s.jsx("div",{className:"space-y-2",children:gt().map(E=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:shadow-sm transition-all",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-center",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-400 to-amber-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-xs",children:E.name?E.name.split(" ").map(R=>R[0]).join("").toUpperCase():"?"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-800 text-sm",children:E.name||"Unnamed Student"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-xs text-gray-500 capitalize",children:E.instrument}),E.lesson_type_id&&s.jsxs("div",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-0.5 rounded-full",children:[s.jsx(b,{icon:ts,className:"inline-block mr-1 text-xs"}),$0(E.lesson_type_id)]})]})]})]})}),s.jsx("div",{children:s.jsxs("select",{value:E.lesson_day||"",onChange:R=>le(E.id,"lesson_day",R.target.value),disabled:!r||d===E.id,className:"w-full px-2 py-1 text-xs border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-amber-400 disabled:opacity-50",children:[s.jsx("option",{value:"",children:"Day"}),J.map(R=>s.jsx("option",{value:R,children:R.slice(0,3)},R))]})}),s.jsx("div",{children:s.jsxs("select",{value:E.lesson_time||"",onChange:R=>le(E.id,"lesson_time",R.target.value),disabled:!r||d===E.id,className:"w-full px-2 py-1 text-xs border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-amber-400 disabled:opacity-50",children:[s.jsx("option",{value:"",children:"Time"}),re.map(R=>s.jsx("option",{value:R,children:ge(R)},R))]})}),s.jsx("div",{className:"flex justify-end",children:d===E.id?s.jsxs("div",{className:"flex items-center space-x-1 text-amber-600",children:[s.jsx(b,{icon:rs,className:"animate-pulse text-xs"}),s.jsx("span",{className:"text-xs",children:"Saving..."})]}):s.jsx("div",{className:"text-xs text-gray-500",children:E.lesson_day&&E.lesson_time&&E.lesson_type_id?s.jsx("span",{className:"text-green-600 font-medium",children:"Complete"}):s.jsx("span",{className:"text-amber-600",children:"Incomplete"})})})]})},E.id))})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[s.jsx(b,{icon:Zs,className:"text-green-600 mr-2"})," Generate Lessons"]}),s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Create lesson records for your scheduled students over a date range"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-gray-800",children:"Select Date Range"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>Ot(4),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"4 Weeks"}),s.jsx("button",{onClick:()=>Ot(8),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"8 Weeks"}),s.jsx("button",{onClick:()=>Ot(12),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"12 Weeks"}),s.jsx("button",{onClick:()=>Ot(16),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"16 Weeks"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),s.jsx("input",{type:"date",value:h.startDate,onChange:E=>f(R=>({...R,startDate:E.target.value})),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:h.endDate,onChange:E=>f(R=>({...R,endDate:E.target.value})),min:h.startDate,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent"})]})]}),h.startDate&&h.endDate&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"text-sm text-green-800",children:[s.jsx("p",{className:"font-medium",children:"Selected Range:"}),s.jsxs("p",{children:[ee(new Date(h.startDate),"MMM d, yyyy")," -"," ",ee(new Date(h.endDate),"MMM d, yyyy")]}),s.jsxs("p",{className:"text-green-600 mt-1",children:[Bc()," weeks total"]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-gray-800",children:"Schedule Summary"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Students:"}),s.jsx("span",{className:"font-medium",children:n.length})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Fully Scheduled:"}),s.jsx("span",{className:"font-medium text-teal-600",children:Ie().filter(E=>E.lesson_duration).length})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Unscheduled:"}),s.jsx("span",{className:"font-medium text-amber-600",children:gt().length})]}),x.length>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Time Conflicts:"}),s.jsx("span",{className:"font-medium text-red-600",children:x.length})]}),h.startDate&&h.endDate&&s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Estimated Lessons:"}),s.jsx("span",{className:"font-medium text-green-600",children:Ie().filter(E=>E.lesson_duration).length*Bc()})]})]}),s.jsxs("button",{onClick:F0,disabled:!r||!h.startDate||!h.endDate||Ie().filter(E=>E.lesson_duration).length===0||!e||!t||x.length>0,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(b,{icon:Zs}),s.jsx("span",{children:"Schedule Lessons"})]}),x.length>0&&s.jsx("p",{className:"text-xs text-red-600 text-center",children:"Resolve time conflicts before scheduling lessons"}),!r&&s.jsx("p",{className:"text-xs text-amber-600 text-center",children:"Admin access required to schedule lessons"}),(!e||!t)&&s.jsx("p",{className:"text-xs text-red-600 text-center",children:"Missing context - please refresh page"})]})]})]}),U&&Z&&s.jsx(ik,{student:U,anchorElement:Z,onClose:()=>{te(null),ae(null)},onSave:Fe,timeSlots:re,daysOfWeek:J,formatTimeSlot:ge,saving:d===U.id}),y&&s.jsx(nk,{students:Ie().filter(E=>E.lesson_duration),dateRange:h,onClose:()=>v(!1),onSuccess:A0})]})},ok=({selectedLessons:e,onClose:t,onSuccess:r,currentUserID:n})=>{const[i,a]=k.useState(""),[o,l]=k.useState(!1),[c,d]=k.useState(null),u=async y=>{if(y.preventDefault(),!i){d("Please select a new date");return}try{l(!0),d(null);const{data:v,error:_}=await X.from("lessons").select("id, scheduled_time").in("id",e).eq("teacher_id",n);if(_)throw _;const N=v.map(m=>{const g=new Date(m.scheduled_time),x=new Date(i),w=new Date(x.getFullYear(),x.getMonth(),x.getDate(),g.getHours(),g.getMinutes(),g.getSeconds());return{id:m.id,scheduled_time:w.toISOString()}});await h(e);for(const m of N){const{error:g}=await X.from("lessons").update({scheduled_time:m.scheduled_time}).eq("id",m.id).eq("teacher_id",n);if(g)throw g}await f(v.map(m=>m.id),N),r(i,e)}catch(v){console.error("Error rescheduling lessons:",v),d("Failed to reschedule lessons. Please try again."),l(!1)}},h=async y=>{if(!(!y||y.length===0))try{console.log(` Deleting calendar events for ${y.length} lessons...`);const{error:v}=await X.from("calendar_events").delete().in("linked_id",y).eq("linked_table","lessons");if(v)throw console.error("Error deleting calendar events:",v),new Error(`Failed to delete calendar events: ${v.message}`);console.log(" Successfully deleted corresponding calendar events")}catch(v){console.error("Error in deleteCalendarEventsForLessons:",v)}},f=async(y,v)=>{if(!(!y||y.length===0))try{console.log(` Creating ${y.length} rescheduled calendar events...`);const{data:_,error:N}=await X.from("lessons").select(`
          id,
          student_id,
          teacher_id,
          school_id,
          scheduled_time,
          duration_min,
          students (name)
        `).in("id",y);if(N)throw console.error("Error fetching updated lesson data:",N),new Error(`Failed to fetch updated lesson data: ${N.message}`);const m=_.map(w=>{var C;const T=new Date(w.scheduled_time),S=new Date(T);return S.setMinutes(S.getMinutes()+(w.duration_min||30)),{title:`Lesson with ${((C=w.students)==null?void 0:C.name)||"Student"}`,event_type:"lesson",start_time:w.scheduled_time,end_time:S.toISOString(),teacher_id:w.teacher_id,school_id:w.school_id,linked_id:w.id,linked_table:"lessons",location:"Online",notes:""}}),{data:g,error:x}=await X.from("calendar_events").insert(m).select();if(x)throw console.error("Error creating calendar events:",x),new Error(`Failed to create calendar events: ${x.message}`);return console.log(` Successfully created ${g.length} calendar events`),g}catch(_){return console.error("Error in createCalendarEventsForLessons:",_),[]}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Me,className:"text-blue-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Reschedule Lessons"})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",disabled:o,children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:rt,className:"text-red-500 mr-2"}),s.jsx("p",{className:"text-red-600 text-sm",children:c})]})}),s.jsxs("form",{onSubmit:u,children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-gray-600 mb-4",children:["You're about to reschedule ",e.length," lesson",e.length!==1?"s":"",". The original time of day will be preserved for each lesson."]}),s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Date"}),s.jsx("input",{type:"date",value:i,onChange:y=>a(y.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",disabled:o,children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-colors shadow-sm",disabled:o||!i,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full inline-block mr-2"}),s.jsx("span",{children:"Rescheduling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(b,{icon:Ke,className:"inline-block mr-2"}),s.jsx("span",{children:"Reschedule"})]})})]})]})]})})},lk=({selectedLessons:e,lessonCount:t,onClose:r,onConfirm:n})=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Ga,className:"text-red-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Delete Lessons"})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-red-600 mb-4",children:[s.jsx(b,{icon:fr,className:"text-red-500"}),s.jsx("span",{className:"font-semibold",children:"Warning: This action cannot be undone!"})]}),s.jsxs("p",{className:"text-gray-700",children:["You're about to delete ",s.jsx("span",{className:"font-semibold",children:t})," lesson",t!==1?"s":"",". This will permanently remove ",t!==1?"these lessons":"this lesson"," from your records."]}),s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:"All associated lesson notes and attendance records will also be deleted."})})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-colors shadow-sm",children:["Delete ",t," Lesson",t!==1?"s":""]})]})]})}),ck=()=>{const{currentUserID:e}=Mt(),[t,r]=k.useState([]),[n,i]=k.useState(!0),[a,o]=k.useState(null),[l,c]=k.useState(""),[d,u]=k.useState({startDate:"",endDate:""}),[h,f]=k.useState("all"),[y,v]=k.useState({key:"scheduled_time",direction:"asc"}),[_,N]=k.useState([]),[m,g]=k.useState(!1),[x,w]=k.useState([]),[T,S]=k.useState(1),[C,P]=k.useState(!1),[L,M]=k.useState(!1),[U,te]=k.useState(!1),[Z,ae]=k.useState(!0),[Y,D]=k.useState(0),[I,j]=k.useState(null),F=30,z=Ze.useRef(null);k.useEffect(()=>{e&&W()},[e]),k.useEffect(()=>{V()},[t,l,d,h,y]),k.useEffect(()=>{N([]),g(!1)},[l,d,h,y]),k.useEffect(()=>{const A=new IntersectionObserver(q=>{q[0].isIntersecting&&Z&&!U&&G()},{threshold:.1});return z.current&&A.observe(z.current),()=>{z.current&&A.unobserve(z.current)}},[x,Z,U,T]);const W=async()=>{try{i(!0),o(null);const{data:A,error:q}=await X.from("lessons").select(`
          id,
          student_id,
          teacher_id,
          scheduled_time,
          duration_min,
          status,
          students (
            name,
            instrument
          )
        `).eq("teacher_id",e).order("scheduled_time",{ascending:!1});if(q)throw q;const Pe=A.map(ge=>{var Ie,gt,xt,Nt;return{id:ge.id,studentId:ge.student_id,studentName:((Ie=ge.students)==null?void 0:Ie.name)||"Unknown Student",studentLastName:((xt=(gt=ge.students)==null?void 0:gt.name)==null?void 0:xt.split(" ").pop())||"",instrument:((Nt=ge.students)==null?void 0:Nt.instrument)||"Not specified",scheduledTime:ge.scheduled_time,date:ee(new Date(ge.scheduled_time),"yyyy-MM-dd"),time:ee(new Date(ge.scheduled_time),"h:mm a"),duration:ge.duration_min,status:ge.status||"scheduled",dayOfWeek:ee(new Date(ge.scheduled_time),"EEEE")}});r(Pe),ae(Pe.length>=F)}catch(A){console.error("Error fetching lessons:",A),o("Failed to load lessons. Please try again later.")}finally{i(!1)}},G=async()=>{if(!(!Z||U))try{te(!0);const A=T+1;S(A);const q=A*F;ae(x.length>q)}catch(A){console.error("Error loading more lessons:",A)}finally{te(!1)}},V=()=>{let A=[...t];if(l){const q=l.toLowerCase();A=A.filter(Pe=>{var ge;return Pe.studentName.toLowerCase().includes(q)||((ge=Pe.instrument)==null?void 0:ge.toLowerCase().includes(q))})}d.startDate&&(A=A.filter(q=>Sb(new Date(q.date),new Date(d.startDate))||q.date===d.startDate)),d.endDate&&(A=A.filter(q=>Cb(new Date(q.date),new Date(d.endDate))||q.date===d.endDate)),h!=="all"&&(A=A.filter(q=>q.status===h)),y.key&&A.sort((q,Pe)=>{var gt,xt;if(y.key==="scheduled_time"){const Nt=new Date(q.scheduledTime),Ot=new Date(Pe.scheduledTime);return y.direction==="asc"?Nt-Ot:Ot-Nt}if(y.key==="studentName"){const Nt=((gt=q.studentLastName)==null?void 0:gt.toLowerCase())||"",Ot=((xt=Pe.studentLastName)==null?void 0:xt.toLowerCase())||"";return Nt!==Ot?y.direction==="asc"?Nt.localeCompare(Ot):Ot.localeCompare(Nt):y.direction==="asc"?q.studentName.localeCompare(Pe.studentName):Pe.studentName.localeCompare(q.studentName)}const ge=q[y.key]||"",Ie=Pe[y.key]||"";return typeof ge=="string"&&typeof Ie=="string"?y.direction==="asc"?ge.localeCompare(Ie):Ie.localeCompare(ge):y.direction==="asc"?ge>Ie?1:-1:ge<Ie?1:-1}),w(A),D(A.length)},$=A=>{(A==="date"||A==="time")&&(A="scheduled_time");let q="asc";y.key===A&&y.direction==="asc"&&(q="desc"),v({key:A,direction:q})},Q=A=>(A==="date"||A==="time")&&y.key==="scheduled_time"?y.direction==="asc"?s.jsx(Ol,{className:"inline ml-1"}):s.jsx(wa,{className:"inline ml-1"}):y.key!==A?null:y.direction==="asc"?s.jsx(Ol,{className:"inline ml-1"}):s.jsx(wa,{className:"inline ml-1"}),J=()=>{if(m)N([]);else{const A=H();N(A.map(q=>q.id))}g(!m)},xe=(A,q)=>{A.stopPropagation(),_.includes(q)?(N(_.filter(Pe=>Pe!==q)),g(!1)):(N([..._,q]),_.length+1===x.length&&g(!0))},re=(A,q)=>{u(Pe=>({...Pe,[A]:q}))},me=()=>{c(""),u({startDate:"",endDate:""}),f("all")},be=()=>{_.length&&M(!0)},$e=async()=>{try{await de(_);const{error:A}=await X.from("lessons").delete().in("id",_).eq("teacher_id",e);if(A)throw A;r(t.filter(q=>!_.includes(q.id))),N([]),g(!1),M(!1)}catch(A){console.error("Error deleting lessons:",A),o("Failed to delete lessons. Please try again.")}},de=async A=>{if(!(!A||A.length===0))try{console.log(` Deleting calendar events for ${A.length} lessons...`);const{error:q}=await X.from("calendar_events").delete().in("linked_id",A).eq("linked_table","lessons");if(q)throw console.error("Error deleting calendar events:",q),new Error(`Failed to delete calendar events: ${q.message}`);console.log(" Successfully deleted corresponding calendar events")}catch(q){console.error("Error in deleteCalendarEventsForLessons:",q)}},O=(A,q)=>{const Pe=t.map(ge=>{if(q.includes(ge.id)){const Ie=new Date(ge.scheduledTime),gt=Eb(A),xt=new Date(gt.getFullYear(),gt.getMonth(),gt.getDate(),Ie.getHours(),Ie.getMinutes());return{...ge,scheduledTime:xt.toISOString(),date:ee(xt,"yyyy-MM-dd"),time:ee(xt,"h:mm a"),dayOfWeek:ee(xt,"EEEE")}}return ge});r(Pe),N([]),g(!1),P(!1)},H=()=>x.slice(0,T*F),oe=H(),se=A=>({scheduled:"bg-blue-500 text-white",completed:"bg-green-500 text-white",cancelled:"bg-red-500 text-white",missed:"bg-amber-500 text-white"})[A]||"bg-gray-500 text-white",le=()=>{const A=Vb();u({startDate:ee(A,"yyyy-MM-dd"),endDate:ee(A,"yyyy-MM-dd")})},pe=()=>{const A=qb();u({startDate:ee(A,"yyyy-MM-dd"),endDate:ee(A,"yyyy-MM-dd")})},Ce=()=>{const A=zt(new Date,{weekStartsOn:1}),q=yu(new Date,{weekStartsOn:1});u({startDate:ee(A,"yyyy-MM-dd"),endDate:ee(q,"yyyy-MM-dd")})},Fe=()=>{const A=L0(zt(new Date,{weekStartsOn:1}),1),q=yu(A,{weekStartsOn:1});u({startDate:ee(A,"yyyy-MM-dd"),endDate:ee(q,"yyyy-MM-dd")})},er=async A=>{j(A),await D0(A,q=>{o(q)}),j(null)};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Lessons"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your scheduled, completed, and upcoming lessons"})]}),a&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsx("p",{className:"text-red-600",children:a})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(b,{icon:ei,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by student or instrument...",value:l,onChange:A=>c(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Start Date"}),s.jsx("input",{type:"date",value:d.startDate,onChange:A=>re("startDate",A.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"Start Date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"End Date"}),s.jsx("input",{type:"date",value:d.endDate,onChange:A=>re("endDate",A.target.value),min:d.startDate,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",placeholder:"End Date"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Status"}),s.jsxs("select",{value:h,onChange:A=>f(A.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"missed",children:"Missed"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsxs("button",{onClick:le,className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[s.jsx(b,{icon:j0,className:"text-blue-500"}),s.jsx("span",{children:"Today"})]}),s.jsxs("button",{onClick:pe,className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-lg hover:bg-teal-200 transition-colors flex items-center space-x-1",children:[s.jsx(b,{icon:Ye,className:"text-teal-500"}),s.jsx("span",{children:"Tomorrow"})]}),s.jsxs("button",{onClick:Ce,className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors flex items-center space-x-1",children:[s.jsx(b,{icon:Me,className:"text-purple-500"}),s.jsx("span",{children:"This Week"})]}),s.jsxs("button",{onClick:Fe,className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition-colors flex items-center space-x-1",children:[s.jsx(b,{icon:Me,className:"text-indigo-500"}),s.jsx("span",{children:"Next Week"})]})]}),(l||d.startDate||d.endDate||h!=="all")&&s.jsxs("div",{className:"flex items-center space-x-2 pt-3 border-t border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Active filters:"}),l&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm flex items-center",children:['Search: "',l,'"']}),d.startDate&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm flex items-center",children:["From: ",d.startDate]}),d.endDate&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm flex items-center",children:["To: ",d.endDate]}),h!=="all"&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm flex items-center",children:["Status: ",h]}),s.jsx("button",{onClick:me,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Clear all"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[s.jsx(b,{icon:Ke,className:"text-green-500 mr-1"}),s.jsxs("span",{children:[Y," lesson",Y!==1?"s":""," found matching your search"]})]}),_.length>0&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(b,{icon:Ke,className:"text-blue-600"}),s.jsxs("span",{className:"text-blue-800 font-medium",children:[_.length," lesson",_.length!==1?"s":""," selected"]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-colors shadow-sm",children:"Reschedule"}),s.jsx("button",{onClick:be,className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-colors shadow-sm",children:"Delete"})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:n?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading lessons..."})]}):x.length>0?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"w-10 px-4 py-3",children:s.jsx("input",{type:"checkbox",checked:m,onChange:J,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),s.jsxs("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("studentName"),children:["Student ",Q("studentName")]}),s.jsxs("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("instrument"),children:["Instrument ",Q("instrument")]}),s.jsxs("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("date"),children:["Date ",Q("date")]}),s.jsxs("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("time"),children:["Time ",Q("time")]}),s.jsxs("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("duration"),children:["Duration ",Q("duration")]}),s.jsxs("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>$("status"),children:["Status ",Q("status")]}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:oe.map(A=>s.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${_.includes(A.id)?"bg-blue-50":""}`,onClick:()=>er(A.id),children:[s.jsx("td",{className:"px-4 py-3",onClick:q=>q.stopPropagation(),children:s.jsx("input",{type:"checkbox",checked:_.includes(A.id),onChange:q=>xe(q,A.id),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),s.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:A.studentName}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 capitalize",children:A.instrument}),s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[A.dayOfWeek,", ",ee(new Date(A.scheduledTime),"MMM d, yyyy")]}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:A.time}),s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[A.duration," min"]}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${se(A.status)}`,children:A.status})}),s.jsx("td",{className:"px-4 py-3 text-sm",onClick:q=>q.stopPropagation(),children:s.jsx("button",{onClick:q=>{q.preventDefault(),er(A.id)},className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-800",disabled:I===A.id,children:I===A.id?s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),s.jsx("span",{children:"Opening..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(b,{icon:$c}),s.jsx("span",{children:"View/Edit"})]})})})]},A.id))})]}),(Z||U)&&s.jsx("div",{ref:z,className:"py-4 text-center text-gray-500 text-sm",children:U?s.jsxs("div",{className:"flex justify-center items-center",children:[s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full mr-2"}),"Loading more lessons..."]}):"Scroll for more"})]}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(b,{icon:Me,className:"text-gray-300 text-3xl mb-2 mx-auto"}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-1",children:"No lessons found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:l||d.startDate||d.endDate||h!=="all"?"No lessons match your current search or filter criteria.":"You don't have any lessons yet."}),(l||d.startDate||d.endDate||h!=="all")&&s.jsx("button",{onClick:me,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-colors shadow-sm",children:"Clear Filters"})]})}),C&&s.jsx(ok,{selectedLessons:_,onClose:()=>P(!1),onSuccess:O,currentUserID:e}),L&&s.jsx(lk,{selectedLessons:_,lessonCount:_.length,onClose:()=>M(!1),onConfirm:$e})]})},dk=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(!0),[i,a]=k.useState(null);k.useEffect(()=>{(async()=>{var c;try{n(!0),a(null);const{data:d}=await X.auth.getSession(),u=(c=d.session)==null?void 0:c.access_token;if(!u)throw new Error("No authentication token found. Please sign in again.");let h;const f=window.location.hostname;f.includes("mymusicstudio.app")?h="https://calendar.mymusicstudio.app":(f.includes("netlify.app"),h="https://magical-sunburst-348c14.netlify.app");const y=`${h}?token=${u}`;console.log(" Calendar iframe URL set (token hidden for security)"),t(y)}catch(d){console.error("Error setting up calendar URL:",d),a(d.message||"Failed to set up calendar view")}finally{n(!1)}})()},[]);const o=()=>{e&&window.open(e,"_blank")};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Calendar"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage your schedule in calendar format"})]}),e&&s.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[s.jsx(b,{icon:h0}),s.jsx("span",{children:"Open in New Tab"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Me,className:"text-blue-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Lesson Calendar"})]}),r&&s.jsx("div",{className:"w-full h-[calc(100vh-300px)] min-h-[500px] flex items-center justify-center bg-gray-50 border border-gray-200 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(b,{icon:qa,className:"animate-spin text-blue-500 text-3xl mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"Loading calendar..."})]})}),i&&!r&&s.jsx("div",{className:"w-full h-[calc(100vh-300px)] min-h-[500px] flex items-center justify-center bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"text-center max-w-md p-6",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(b,{icon:Me,className:"text-red-500 text-2xl"})}),s.jsx("h3",{className:"text-xl font-semibold text-red-700 mb-2",children:"Calendar Error"}),s.jsx("p",{className:"text-red-600 mb-4",children:i}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:"Retry"})]})}),!r&&!i&&e&&s.jsx("div",{className:"w-full h-[calc(100vh-300px)] min-h-[500px] border border-gray-200 rounded-lg overflow-hidden",children:s.jsx("iframe",{src:e,title:"My Music Studio Calendar",width:"100%",height:"100%",frameBorder:"0",scrolling:"auto",className:"w-full h-full"})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(b,{icon:Me,className:"text-blue-500"}),s.jsx("p",{className:"text-blue-800 text-sm",children:"This calendar shows all your scheduled lessons and events. You can filter, search, and view events by day, week, or month."})]})})]})},uk=()=>{const{currentSchoolID:e,userIsAdmin:t}=Mt(),[r,n]=k.useState([]),[i,a]=k.useState(!0),[o,l]=k.useState(null),[c,d]=k.useState(!1),[u,h]=k.useState(!1),[f,y]=k.useState(!1),[v,_]=k.useState(null),[N,m]=k.useState({name:"",duration_min:30,price_cents:0,lesson_category:"individual"}),[g,x]=k.useState(!1),[w,T]=k.useState(null);k.useEffect(()=>{e&&S()},[e]);const S=async()=>{try{a(!0),l(null),console.log(" Fetching lesson types for school:",e);const{data:I,error:j}=await X.from("lesson_types").select("*").eq("school_id",e).order("name");if(j)throw new Error(`Error fetching lesson types: ${j.message}`);console.log(" Lesson types fetched:",(I==null?void 0:I.length)||0),n(I||[])}catch(I){console.error(" Error fetching lesson types:",I),l(I.message)}finally{a(!1)}},C=(I,j)=>{m(F=>({...F,[I]:j}))},P=()=>{m({name:"",duration_min:30,price_cents:0,lesson_category:"individual"}),d(!0)},L=I=>{_(I),m({name:I.name||"",duration_min:I.duration_min||30,price_cents:I.price_cents||0,lesson_category:I.lesson_category||"individual"}),h(!0)},M=I=>{_(I),y(!0)},U=()=>{d(!1),h(!1),y(!1),_(null),T(null),x(!1)},te=()=>{const I=[];return N.name.trim()||I.push("Name is required"),(!N.duration_min||N.duration_min<=0)&&I.push("Duration must be greater than 0"),N.price_cents<0&&I.push("Price cannot be negative"),N.lesson_category||I.push("Lesson category is required"),I},Z=async()=>{try{x(!0),l(null);const I=te();if(I.length>0)throw new Error(I.join(", "));if(c){const{data:j,error:F}=await X.from("lesson_types").insert({school_id:e,name:N.name.trim(),duration_min:parseInt(N.duration_min),price_cents:parseInt(N.price_cents),lesson_category:N.lesson_category}).select();if(F)throw new Error(`Error creating lesson type: ${F.message}`);console.log(" New lesson type created:",j),T("Lesson type created successfully!"),n(z=>[...z,j[0]]),setTimeout(()=>{U()},1500)}else if(u&&v){const{data:j,error:F}=await X.from("lesson_types").update({name:N.name.trim(),duration_min:parseInt(N.duration_min),price_cents:parseInt(N.price_cents),lesson_category:N.lesson_category}).eq("id",v.id).eq("school_id",e).select();if(F)throw new Error(`Error updating lesson type: ${F.message}`);console.log(" Lesson type updated:",j),T("Lesson type updated successfully!"),n(z=>z.map(W=>W.id===v.id?j[0]:W)),setTimeout(()=>{U()},1500)}}catch(I){console.error(" Error saving lesson type:",I),l(I.message)}finally{x(!1)}},ae=async()=>{try{if(x(!0),l(null),!v)return;const{error:I}=await X.from("lesson_types").delete().eq("id",v.id).eq("school_id",e);if(I)throw new Error(`Error deleting lesson type: ${I.message}`);console.log(" Lesson type deleted:",v.id),T("Lesson type deleted successfully!"),n(j=>j.filter(F=>F.id!==v.id)),setTimeout(()=>{U()},1500)}catch(I){console.error(" Error deleting lesson type:",I),l(I.message)}finally{x(!1)}},Y=I=>`$${(I/100).toFixed(2)}`,D=I=>I==="individual"?at:Rr;return t?i?s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Lesson Types"}),s.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-colors",children:[s.jsx(b,{icon:Zt}),s.jsx("span",{children:"Add Lesson Type"})]})]}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]})]})}),r.length>0?s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:r.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800",children:I.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(b,{icon:Ye,className:"text-gray-400"}),s.jsxs("span",{children:[I.duration_min," min"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(b,{icon:Gn,className:"text-gray-400"}),s.jsx("span",{children:Y(I.price_cents)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(b,{icon:D(I.lesson_category),className:"text-gray-400"}),s.jsx("span",{className:"capitalize",children:I.lesson_category})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>L(I),className:"p-2 text-gray-400 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",title:"Edit lesson type",children:s.jsx(b,{icon:es})}),s.jsx("button",{onClick:()=>M(I),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete lesson type",children:s.jsx(b,{icon:Ga})})]})})]},I.id))})]})}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(b,{icon:Ye,className:"text-gray-400 text-xl"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Lesson Types Yet"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first lesson type to start organizing your lessons."}),s.jsxs("button",{onClick:P,className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors inline-flex items-center space-x-2",children:[s.jsx(b,{icon:Zt}),s.jsx("span",{children:"Add First Lesson Type"})]})]}),(c||u)&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:c?"Add New Lesson Type":"Edit Lesson Type"}),s.jsx("button",{onClick:U,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",disabled:g,children:s.jsx(b,{icon:rt,className:"text-gray-500"})})]}),o&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ne,className:"text-red-500 mr-2"}),s.jsx("p",{className:"text-red-700 text-sm",children:o})]})}),w&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Ke,className:"text-green-500 mr-2"}),s.jsx("p",{className:"text-green-700 text-sm",children:w})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Type Name*"}),s.jsx("input",{type:"text",value:N.name,onChange:I=>C("name",I.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"e.g., Standard Piano Lesson",disabled:g,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)*"}),s.jsx("input",{type:"number",value:N.duration_min,onChange:I=>C("duration_min",parseInt(I.target.value)||0),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"30",min:"1",disabled:g,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (in cents)*"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"absolute ml-4 text-gray-500",children:s.jsx(b,{icon:Gn})}),s.jsx("input",{type:"number",value:N.price_cents,onChange:I=>C("price_cents",parseInt(I.target.value)||0),className:"w-full pl-10 px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent",placeholder:"5000",min:"0",disabled:g,required:!0})]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Current price: ",Y(N.price_cents)]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Category*"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:N.lesson_category,onChange:I=>C("lesson_category",I.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent appearance-none",disabled:g,required:!0,children:[s.jsx("option",{value:"individual",children:"Individual"}),s.jsx("option",{value:"group",children:"Group"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx(b,{icon:D(N.lesson_category),className:"text-gray-400"})})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:U,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-xl transition-colors",disabled:g,children:"Cancel"}),s.jsx("button",{onClick:Z,className:"flex-1 px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-colors disabled:opacity-50",disabled:g,children:g?"Saving...":c?"Create":"Update"})]})]})}),f&&v&&s.jsx(M0,{title:"Delete Lesson Type",message:`Are you sure you want to delete the lesson type "${v.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-500 hover:bg-red-600",onConfirm:ae,onCancel:U})]}):s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 text-center",children:[s.jsx(b,{icon:Ne,className:"text-amber-500 text-2xl mb-4 mx-auto"}),s.jsx("h2",{className:"text-lg font-semibold text-amber-800 mb-2",children:"Admin Access Required"}),s.jsx("p",{className:"text-amber-700 mb-4",children:"You need administrator privileges to manage lesson types."})]})},hk=({onBack:e})=>{var y;const{user:t,currentUserID:r,currentSchoolID:n,userIsAdmin:i,availableSchools:a,selectSchool:o,debugInfo:l}=Mt(),[c,d]=k.useState("profile"),[u,h]=k.useState(!1),f=()=>{a.length>1&&h(!0)};return s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Profile"}),s.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors mt-2",children:[s.jsx(b,{icon:Va,className:"text-sm"}),s.jsx("span",{className:"text-sm font-medium",children:"Return to Dashboard"})]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-xl p-1 max-w-md",children:[s.jsxs("button",{onClick:()=>d("profile"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors ${c==="profile"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[s.jsx(b,{icon:at,className:"text-sm"}),s.jsx("span",{className:"font-medium",children:"Profile"})]}),i&&s.jsxs("button",{onClick:()=>d("settings"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors ${c==="settings"?"bg-white text-teal-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[s.jsx(b,{icon:Al,className:"text-sm"}),s.jsx("span",{className:"font-medium",children:"School Settings"})]})]}),c==="profile"?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:at,className:"text-blue-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"User Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(b,{icon:wt,className:"text-gray-400"}),s.jsx("p",{className:"text-gray-800",children:(t==null?void 0:t.email)||"Not available"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(b,{icon:i?rn:at,className:i?"text-amber-500":"text-gray-400"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i?"bg-amber-100 text-amber-800 border border-amber-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:i?"Administrator":"Teacher"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),s.jsx("p",{className:"text-gray-800 mt-1",children:t!=null&&t.created_at?ee(new Date(t.created_at),"MMMM d, yyyy"):"Not available"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Kn,className:"text-teal-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"School Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Current School"}),s.jsx("p",{className:"text-gray-800 mt-1",children:((y=a==null?void 0:a.find(v=>v.schoolId===n))==null?void 0:y.schoolName)||"Not available"})]}),(a==null?void 0:a.length)>1&&s.jsxs("button",{onClick:f,className:"px-3 py-1.5 text-sm bg-teal-100 hover:bg-teal-200 text-teal-700 rounded-lg transition-colors flex items-center space-x-1",children:[s.jsx(b,{icon:Rc,className:"text-sm"}),s.jsx("span",{children:"Change school"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"School ID"}),s.jsx("p",{className:"text-gray-800 mt-1 font-mono text-sm",children:n||"Not available"})]}),a&&a.length>1&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Available Schools"}),s.jsx("div",{className:"mt-2 space-y-2",children:a.map(v=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${v.schoolId===n?"bg-teal-500":"bg-gray-300"}`}),s.jsx("span",{className:v.schoolId===n?"font-medium":"",children:v.schoolName}),v.isAdmin&&s.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded text-xs",children:"Admin"})]},v.schoolId))})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Fl,className:"text-purple-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"System Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Internal User ID"}),s.jsx("p",{className:"text-gray-800 mt-1 font-mono text-sm",children:r||"Not available"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Authentication User ID"}),s.jsx("p",{className:"text-gray-800 mt-1 font-mono text-sm break-all",children:(t==null?void 0:t.id)||"Not available"})]}),l&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Last Query"}),s.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(b,{icon:Ye,className:"text-gray-400"}),s.jsx("span",{children:ee(new Date(l.timestamp),"MMM d, yyyy h:mm a")})]}),s.jsxs("p",{className:"mt-1",children:["Records found: ",l.recordCount]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:rn,className:"text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Permissions"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"View Students"}),s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"View Lessons"}),s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Create/Edit Students"}),s.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-green-500":"bg-gray-300"}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"Manage Parents"}),s.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-green-500":"bg-gray-300"}`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-700",children:"System Administration"}),s.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-green-500":"bg-gray-300"}`})]})]}),!i&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Note:"})," You have read-only access. Contact your administrator for additional permissions."]})})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"mb-6 flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Ye,className:"text-teal-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Lesson Types"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Manage lesson types, durations, and pricing"})]})]}),s.jsx(uk,{})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsxs("div",{className:"mb-6 flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(b,{icon:Al,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"General Settings"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"School information and preferences"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(b,{icon:Fl,className:"text-blue-500 mr-2"}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Additional school settings will be available in a future update."})]})})]})]}),l&&c==="profile"&&s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Debug Information"}),s.jsxs("details",{className:"text-sm",children:[s.jsx("summary",{className:"cursor-pointer font-medium text-gray-700 mb-2",children:"Raw System Data (Click to expand)"}),s.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-auto text-xs text-gray-600",children:JSON.stringify({authUser:{id:t==null?void 0:t.id,email:t==null?void 0:t.email,created_at:t==null?void 0:t.created_at},context:{currentUserID:r,currentSchoolID:n,userIsAdmin:i},debugInfo:l},null,2)})]})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Change School"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Select which school you'd like to access"}),s.jsx("div",{className:"space-y-3",children:a.map(v=>s.jsxs("button",{onClick:()=>{o(v.schoolId),h(!1)},className:`w-full flex items-center justify-between p-4 border rounded-xl transition-all duration-200 ${v.schoolId===n?"border-teal-400 bg-teal-50 shadow-md":"border-gray-200 hover:border-teal-200 hover:bg-teal-50"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-400 to-teal-500 rounded-xl flex items-center justify-center",children:s.jsx(b,{icon:Kn,className:"text-white text-lg"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-800",children:v.schoolName}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx("span",{children:"Teacher"}),v.isAdmin&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx(b,{icon:rn,className:"text-xs text-amber-600"}),s.jsx("span",{className:"text-amber-600",children:"Admin"})]})]})]})]}),v.schoolId===n&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Current"})]},v.schoolId))}),s.jsx("button",{onClick:()=>h(!1),className:"w-full mt-6 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"})]})})]})};function fk(){const{user:e,loading:t,needsSchoolSelection:r,availableSchools:n,selectSchool:i,signOut:a,currentUserID:o,currentSchoolID:l}=Mt(),[c,d]=Ze.useState("dashboard"),[u,h]=Ze.useState(null),[f,y]=Ze.useState(null),[v,_]=Ze.useState(!1);if(Ze.useEffect(()=>{const N=()=>{const m=window.location.hash;if(m.startsWith("#edit-student-")){const x=m.split("?")[0].replace("#edit-student-","");console.log(" Editing student ID extracted:",x),h(x),y(null),_(!1),d("students")}else if(m.startsWith("#view-student-")){const x=m.split("?")[0].replace("#view-student-","");console.log(" Viewing student ID extracted:",x),y(x),h(null),_(!1),d("students")}else m==="#profile"?(_(!0),h(null),y(null)):(h(null),y(null),_(!1))};return N(),window.addEventListener("hashchange",N),()=>window.removeEventListener("hashchange",N)},[]),Ze.useEffect(()=>{console.log(" App State Update:",{hasUser:!!e,loading:t,needsSchoolSelection:r,currentUserID:o,currentSchoolID:l,availableSchoolsCount:(n==null?void 0:n.length)||0,editingStudentId:u,viewingStudentId:f,showProfile:v,activeSection:c})},[e,t,r,o,l,n,u,f,v,c]),t)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your music studio..."})]})});if(!e)return console.log(" Showing auth form - no user"),s.jsx(mj,{onAuthSuccess:()=>{}});if(r)return console.log(" Showing school selector - multiple schools available"),s.jsx(gj,{availableSchools:n,onSelectSchool:i});if(e&&o&&l){console.log(" Showing main app - user fully authenticated");const N=()=>{h(null),y(null),window.location.hash=""},m=()=>{_(!1),window.location.hash=""},g=()=>{window.location.hash="#profile"},x=T=>{d(T),(v||u||f)&&(_(!1),h(null),y(null),window.location.hash="")},w=()=>{if(v)return s.jsx(hk,{onBack:m});if(u)return s.jsx(Qb,{studentId:u,onBack:N});if(f)return s.jsx(rk,{studentId:f,onBack:N});switch(c){case"dashboard":return s.jsx(ku,{});case"students":return s.jsx(Yb,{});case"timetable":return s.jsx(ak,{});case"lessons":return s.jsx(ck,{});case"calendar":return s.jsx(dk,{});default:return s.jsx(ku,{})}};return s.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[s.jsx(xj,{activeSection:c,onSectionChange:x}),s.jsxs("div",{className:"flex-1 transition-all duration-300",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:!u&&!f&&s.jsx("div",{children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800 capitalize",children:v?"Profile":c})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-600",children:e.email}),s.jsx("button",{onClick:g,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Profile"}),s.jsx("button",{onClick:a,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Sign Out"})]})]})}),s.jsx("main",{className:"flex-1",children:w()})]})]})}return console.log(" Fallback state - incomplete authentication"),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-red-200 border-t-red-500 rounded-full animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Authentication Issue"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"We're having trouble setting up your account. Please try signing out and back in."}),s.jsxs("div",{className:"text-left bg-gray-100 p-3 rounded-lg text-xs text-gray-700 mb-4",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Current User ID:"})," ",o||"Not set"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Current School ID:"})," ",l||"Not set"]})]}),s.jsx("button",{onClick:a,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Sign Out & Retry"})]})})}function mk(){return s.jsx(M2,{children:s.jsx(fk,{})})}$f(document.getElementById("root")).render(s.jsx(k.StrictMode,{children:s.jsx(mk,{})}));
//# sourceMappingURL=index-BfhX8R8I.js.map
